{
    "componentChunkName": "component---src-templates-blog-post-tsx",
    "path": "/blog/fix-those-npm-install-errors-when-not-running-under-sudo-in-osx/",
    "result": {"data":{"site":{"siteMetadata":{"title":"Riccardo Coppola","author":{"name":"Riccardo Coppola"}}},"markdownRemark":{"id":"49e8cc88-6447-5671-8a53-bc8093fba612","excerpt":"TL;DR I’ve had this problem for a while: fresh nodejs and npm installation, I try to run  or  and get all kind of errors. Errors when running  without the  flag…","html":"<h2 id=\"tldr\" style=\"position:relative;\"><a href=\"#tldr\" aria-label=\"tldr permalink\" class=\"anchor before\"><svg height=\"20\" width=\"20\" viewBox=\"-32 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z\"/></svg></a>TL;DR</h2>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">sudo</span> <span class=\"token function\">chown</span> -R <span class=\"token environment constant\">$USER</span> /usr/local\n<span class=\"token function\">sudo</span> <span class=\"token function\">chown</span> -R <span class=\"token environment constant\">$USER</span> ~/.npm</code></pre></div>\n<p>I’ve had this problem for a while: fresh nodejs and npm installation, I try to run <code class=\"language-text\">npm install</code> or <code class=\"language-text\">npm install -g</code> and get all kind of errors.</p>\n<h2 id=\"errors-when-running-npm-install-without-the--g-flag\" style=\"position:relative;\"><a href=\"#errors-when-running-npm-install-without-the--g-flag\" aria-label=\"errors when running npm install without the  g flag permalink\" class=\"anchor before\"><svg height=\"20\" width=\"20\" viewBox=\"-32 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z\"/></svg></a>Errors when running <code class=\"language-text\">npm install</code> without the <code class=\"language-text\">-g</code> flag</h2>\n<p>When running without the <code class=\"language-text\">-g</code> flag, I usually get, among the others: <code class=\"language-text\">Error: Attempt to unlock XXX, which hasn't been locked</code>.</p>\n<h2 id=\"errors-when-running-npm-install--g\" style=\"position:relative;\"><a href=\"#errors-when-running-npm-install--g\" aria-label=\"errors when running npm install  g permalink\" class=\"anchor before\"><svg height=\"20\" width=\"20\" viewBox=\"-32 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z\"/></svg></a>Errors when running <code class=\"language-text\">npm install -g</code></h2>\n<p>When you run <code class=\"language-text\">npm install</code> with the <code class=\"language-text\">-g</code> option, you want to be able to run a specific executable (a .js file) from outside any project folder with a <code class=\"language-text\">node_modules</code> directory.<br>\nIn this case, you usually get another access error:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">npm</span> ERR<span class=\"token operator\">!</span> Error: EACCES, <span class=\"token function\">mkdir</span> <span class=\"token string\">'/usr/local/lib/node_modules/...'</span>\n<span class=\"token function\">npm</span> ERR<span class=\"token operator\">!</span>  <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">[</span>Error: EACCES, <span class=\"token function\">mkdir</span> <span class=\"token string\">'/usr/local/lib/node_modules/...'</span><span class=\"token punctuation\">]</span>\n<span class=\"token function\">npm</span> ERR<span class=\"token operator\">!</span>   errno: <span class=\"token number\">3</span>,\n<span class=\"token function\">npm</span> ERR<span class=\"token operator\">!</span>   code: <span class=\"token string\">'EACCES'</span>,\n…\n<span class=\"token function\">npm</span> ERR<span class=\"token operator\">!</span> Please try running this <span class=\"token builtin class-name\">command</span> again as root/Administrator.</code></pre></div>\n<h2 id=\"understand-what-happens-under-the-hood\" style=\"position:relative;\"><a href=\"#understand-what-happens-under-the-hood\" aria-label=\"understand what happens under the hood permalink\" class=\"anchor before\"><svg height=\"20\" width=\"20\" viewBox=\"-32 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z\"/></svg></a>Understand what happens under the hood</h2>\n<p>Let’s first have a look at what happens when you run these commands.</p>\n<h3 id=\"what-happens-when-you-run-npm-install-without-the--g-flag\" style=\"position:relative;\"><a href=\"#what-happens-when-you-run-npm-install-without-the--g-flag\" aria-label=\"what happens when you run npm install without the  g flag permalink\" class=\"anchor before\"><svg height=\"20\" width=\"20\" viewBox=\"-32 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z\"/></svg></a>What happens when you run <code class=\"language-text\">npm install</code> (without the <code class=\"language-text\">-g</code> flag)?</h3>\n<p>Example for the <code class=\"language-text\">traceur</code> compiler:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">$ <span class=\"token function\">npm</span> <span class=\"token function\">install</span> traceur\n<span class=\"token punctuation\">..</span>.\ntraceur@0.0.62 node_modules/traceur</code></pre></div>\n<ul>\n<li><code class=\"language-text\">npm</code> creates a <code class=\"language-text\">node_modules</code> folder (if it does not exists) and install the package under that folder</li>\n</ul>\n<p>As you can see, it is installed under <code class=\"language-text\">node_modules/traceur</code>.</p>\n<h4 id=\"what-happens-when-you-run-npm-install--g\" style=\"position:relative;\"><a href=\"#what-happens-when-you-run-npm-install--g\" aria-label=\"what happens when you run npm install  g permalink\" class=\"anchor before\"><svg height=\"20\" width=\"20\" viewBox=\"-32 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z\"/></svg></a>What happens when you run <code class=\"language-text\">npm install -g</code>?</h4>\n<p>Example for the <code class=\"language-text\">traceur</code> compiler:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">$ <span class=\"token function\">npm</span> <span class=\"token function\">install</span> traceur -g\n<span class=\"token punctuation\">..</span>.\n/usr/local/bin/traceur -<span class=\"token operator\">></span> /usr/local/lib/node_modules/traceur/traceur</code></pre></div>\n<ul>\n<li><code class=\"language-text\">npm</code> installs the package under <code class=\"language-text\">/usr/local/lib/node_modules</code></li>\n<li>a symbolic link is created from that folder to <code class=\"language-text\">usr/local/bin/</code></li>\n</ul>\n<h2 id=\"the-easy-and-bad-solution\" style=\"position:relative;\"><a href=\"#the-easy-and-bad-solution\" aria-label=\"the easy and bad solution permalink\" class=\"anchor before\"><svg height=\"20\" width=\"20\" viewBox=\"-32 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z\"/></svg></a>The easy and bad solution</h2>\n<p>In both cases, running <code class=\"language-text\">sudo npm install</code>, immediately fixes the problem.</p>\n<h2 id=\"the-right-solution\" style=\"position:relative;\"><a href=\"#the-right-solution\" aria-label=\"the right solution permalink\" class=\"anchor before\"><svg height=\"20\" width=\"20\" viewBox=\"-32 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z\"/></svg></a>The right solution</h2>\n<p>In <strong>no case</strong> you should run <code class=\"language-text\">npm</code> with <code class=\"language-text\">sudo</code>.<br>\nYou can read the <a href=\"http://foohack.com/2010/08/intro-to-npm/#what_no_sudo\">Intro to npm</a> by Isaac Schlueter for a valid reason.</p>\n<blockquote>\n<p>Packages can run arbitrary scripts, which makes sudoing a package manager command as safe as a chainsaw haircut</p>\n</blockquote>\n<p>So, the short answer is: <strong>to avoid security issues</strong>.</p>\n<h3 id=\"the-source-of-the-problem\" style=\"position:relative;\"><a href=\"#the-source-of-the-problem\" aria-label=\"the source of the problem permalink\" class=\"anchor before\"><svg height=\"20\" width=\"20\" viewBox=\"-32 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z\"/></svg></a>The source of the problem</h3>\n<p>What is happening when you get the error is that the user you are logged in with does not have the rights to run that command.<br>\nThis is usually because <code class=\"language-text\">npm</code> was installed by <em>root</em> and so you are not the owner of that executable file.</p>\n<h3 id=\"fix-your-usrlocal-folder\" style=\"position:relative;\"><a href=\"#fix-your-usrlocal-folder\" aria-label=\"fix your usrlocal folder permalink\" class=\"anchor before\"><svg height=\"20\" width=\"20\" viewBox=\"-32 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z\"/></svg></a>Fix your <code class=\"language-text\">/usr/local</code> folder</h3>\n<p>If you run <code class=\"language-text\">which npm</code> on your Mac, you should get:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">$ <span class=\"token function\">which</span> <span class=\"token function\">npm</span>\n/usr/local/bin/npm</code></pre></div>\n<p>The <code class=\"language-text\">/usr/local</code> folder is the folder where the user install his own stuff, so <strong>it belongs to the user</strong>.<br>\nTo fix the problem: <code class=\"language-text\">sudo chown -R $USER /usr/local</code></p>\n<p>Your <code class=\"language-text\">npm</code> will be back to you now.</p>\n<h3 id=\"fix-your-npm-folder\" style=\"position:relative;\"><a href=\"#fix-your-npm-folder\" aria-label=\"fix your npm folder permalink\" class=\"anchor before\"><svg height=\"20\" width=\"20\" viewBox=\"-32 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z\"/></svg></a>Fix your <code class=\"language-text\">~/.npm</code> folder</h3>\n<p>Before considering it done, have a look at your home folder: you have a <code class=\"language-text\">.npm</code> folder in it.</p>\n<p>You have to make sure that the whole folder belongs to your user and to do that, issue: <code class=\"language-text\">sudo chown -R $USER ~/.npm</code></p>\n<p>The <code class=\"language-text\">.npm</code> folder is now yours and you’ll be able to run <code class=\"language-text\">npm install</code> and <code class=\"language-text\">npm install -g</code> without <code class=\"language-text\">sudo</code>: enjoy.</p>\n<h2 id=\"recap\" style=\"position:relative;\"><a href=\"#recap\" aria-label=\"recap permalink\" class=\"anchor before\"><svg height=\"20\" width=\"20\" viewBox=\"-32 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z\"/></svg></a>Recap</h2>\n<p>When you get weird errors using <code class=\"language-text\">npm install</code> and <code class=\"language-text\">npm install -g</code> that are solved using these commands with <code class=\"language-text\">sudo</code>, have a look at the owner of your <code class=\"language-text\">/usr/local</code> and <code class=\"language-text\">~/.npm</code> folders: changing it to your user will solve the problems.</p>\n<p><strong>Sources:</strong></p>\n<ul>\n<li><a href=\"http://stackoverflow.com/questions/22152162/npm-cannot-install-dependencies-attempt-to-unlock-something-which-hasnt-been\">stackoverflow</a></li>\n<li><a href=\"http://foohack.com/2010/08/intro-to-npm/#what_no_sudo\">Intro to npm</a></li>\n<li><a href=\"https://aralbalkan.com/scribbles/npm-install-g-please-try-running-this-command-again-as-root-administrator/\">Aral Balkan’s blog</a></li>\n</ul>","frontmatter":{"title":"How to fix 'npm install' errors on OS X","date":"September 14, 2014","description":"How to fix 'npm install' errors on OS X"}},"previous":null,"next":{"fields":{"slug":"/blog/osxlinux-check-who-is-listening-on-a-port/"},"frontmatter":{"title":"OS X/Linux: Check who is listening on a port"}}},"pageContext":{"id":"49e8cc88-6447-5671-8a53-bc8093fba612","previousPostId":null,"nextPostId":"9145929e-76c6-5383-b063-67f7ceed8620"}},
    "staticQueryHashes": ["2841359383"]}