<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[Notes on programming, life, learning and the world - Riccardo Coppola]]></title><description><![CDATA[Notes on programming, life, learning and the world]]></description><link>https://www.riccardocoppola.me</link><generator>GatsbyJS</generator><lastBuildDate>Mon, 07 Apr 2025 21:50:47 GMT</lastBuildDate><item><title><![CDATA[8 tips to read more books]]></title><description><![CDATA[‚ÄúThe more that you read, the more things you will know. The more that you learn, the more places you‚Äôll go.‚Äù ‚Äï Dr Seuss, I Can Read With My‚Ä¶]]></description><link>https://www.riccardocoppola.me/blog/tips-to-read-more/</link><guid isPermaLink="false">https://www.riccardocoppola.me/blog/tips-to-read-more/</guid><pubDate>Sat, 27 Aug 2022 11:00:00 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;‚ÄúThe more that you read, the more things you will know. The more that you learn, the more places you‚Äôll go.‚Äù&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;‚Äï Dr Seuss, I Can Read With My Eyes Shut!&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 512px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/5606570f1489a7ffabe76f8a21e5451e/36dd4/person-reading-in-library.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAQD/8QAFwEBAQEBAAAAAAAAAAAAAAAAAQMAAv/aAAwDAQACEAMQAAABkrk0lSRodtQcsQX/xAAbEAACAwADAAAAAAAAAAAAAAABAgADEhEhMf/aAAgBAQABBQKs5e6wEZg9Y6EqnCqpHf8A/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPwEf/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPwEf/8QAGxAAAgEFAAAAAAAAAAAAAAAAARAAAhIhImH/2gAIAQEABj8C5NXcHikBf//EAB0QAAMBAAEFAAAAAAAAAAAAAAABESExQVFhcaH/2gAIAQEAAT8h2u7SLejHHOrEL0Vj8D9fDDbg5FjmCKP/2gAMAwEAAgADAAAAED8XAv/EABYRAQEBAAAAAAAAAAAAAAAAAAABEf/aAAgBAwEBPxBio//EABkRAAMAAwAAAAAAAAAAAAAAAAABERAhQf/aAAgBAgEBPxCdKN7x/8QAHhABAAMAAgIDAAAAAAAAAAAAAQARIVFhMUFxofD/2gAIAQEAAT8QK4tkdO4YYnFqqgCXrz+Yc1wqVGIoWWU8fUHirZwYSkL3FBr0HfmMyqn1P//Z&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Person reading in a library&quot;
        title=&quot;Image created with [NightCafe](https://creator.nightcafe.studio/)&quot;
        src=&quot;/static/5606570f1489a7ffabe76f8a21e5451e/36dd4/person-reading-in-library.jpg&quot;
        srcset=&quot;/static/5606570f1489a7ffabe76f8a21e5451e/863e1/person-reading-in-library.jpg 225w,
/static/5606570f1489a7ffabe76f8a21e5451e/20e5d/person-reading-in-library.jpg 450w,
/static/5606570f1489a7ffabe76f8a21e5451e/36dd4/person-reading-in-library.jpg 512w&quot;
        sizes=&quot;(max-width: 512px) 100vw, 512px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;&lt;p&gt;Image created with &lt;a href=&quot;https://creator.nightcafe.studio/&quot;&gt;NightCafe&lt;/a&gt;&lt;/p&gt;&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;I am an average reader. In fact, with my 5 or 6 books per year, I thought I was well under the national average until I realised that more than &lt;a href=&quot;https://yougov.co.uk/topics/arts/trackers/how-many-books-brits-read?period=1yr&quot;&gt;25% of people in the UK don‚Äôt read any book&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I went from reading 5/6 books a year to 30/40 and more within a very short time; the tips in this post are here so that I keep track of what I did, and hopefully as a guide and encouragement for anyone looking to read more.&lt;/p&gt;
&lt;p&gt;I should also clarify that I don‚Äôt speed read, so these suggestions can be implemented by any average reader.&lt;/p&gt;
&lt;p&gt;With these last clarifications out of the way, let‚Äôs get started:&lt;/p&gt;
&lt;h2 id=&quot;1-how-many-books-per-year-can-you-read-take-a-speed-test&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#1-how-many-books-per-year-can-you-read-take-a-speed-test&quot; aria-label=&quot;1 how many books per year can you read take a speed test permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;1. How many books per year can you read? Take a speed test&lt;/h2&gt;
&lt;p&gt;To know how much reading you can do you need to first know how fast you can read.
Google ‚Äúspeed reading test‚Äù: any of the results on the first page will do. You‚Äôll be asked to read a text then answer some questions and you‚Äôll get a &lt;em&gt;wpm count&lt;/em&gt; (&lt;strong&gt;w&lt;/strong&gt;ords &lt;strong&gt;p&lt;/strong&gt;er &lt;strong&gt;m&lt;/strong&gt;inute) and a reading comprehension report.&lt;/p&gt;
&lt;p&gt;Suppose you get a words per minute count of 250. Books come in all sizes but let‚Äôs assume your average book is 350 pages and the number of words per page is 300 (I have found everything between 200 and 500 but 300 seems to be what most people agree on): 350 pages x 300 words per page = 105,00 words per book on average.&lt;/p&gt;
&lt;p&gt;If you spend 30 minutes reading every day, you can read: 250 words per minute x 30 minutes = 7500 words per day, or 7500 words per day / 300 words per page: &lt;strong&gt;25 pages per day&lt;/strong&gt;. In one year, it‚Äôs 9,125 pages!&lt;/p&gt;
&lt;p&gt;Finally, 9,125 pages a year / 350 pages per book = &lt;strong&gt;26 books per year&lt;/strong&gt;, just reading 30‚Äô per day every day!&lt;/p&gt;
&lt;h2 id=&quot;2-listen-to-audiobooks&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#2-listen-to-audiobooks&quot; aria-label=&quot;2 listen to audiobooks permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;2. Listen to audiobooks&lt;/h2&gt;
&lt;p&gt;I questioned for a long time whether audiobooks counted as reading and I resolved that as long as I can understand the content of a book and follow the reader, it doesn‚Äôt matter who the reader is. Not to mention, books read by their author can be much more enjoyable than books read by me.&lt;/p&gt;
&lt;p&gt;The tricky part is to find books that work as audiobooks: for me all the books that don‚Äôt require me to go back and forth and are not very technical work, but it‚Äôs up to you to find out what works and what doesn‚Äôt. My suggestion is to start with fiction and then expand your horizon.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Tip 1:&lt;/strong&gt; Listen to a sample of the book (available on Audible) before committing to buying one. Make sure that the reader‚Äôs voice and way of reading is something you like enough to listen to it for a few hours.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Tip 2:&lt;/strong&gt; Experiment with the playback speed: I discovered that by increasing the speed to 1.1x/1.2x I can enjoy the book as well as at normal speed, but cutting those pauses saves me hours.&lt;/p&gt;
&lt;h2 id=&quot;3-fill-the-gaps-in-your-day&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#3-fill-the-gaps-in-your-day&quot; aria-label=&quot;3 fill the gaps in your day permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;3. Fill the gaps in your day&lt;/h2&gt;
&lt;p&gt;There‚Äôs a lot of dead time during our day: breakfast, lunch, dinner, commute, airport gates, driving, cycling, and walking to the grocery store.
Armed with physical, electronic and audiobooks, it‚Äôs easy to use those dead times to read more. A lot more.&lt;/p&gt;
&lt;p&gt;Fire up an audiobook at breakfast: 30‚Äô of reading done.
Do the same at lunch (while preparing and eating): easily another 60‚Äô done.
Do it again at dinner (same story): another 60‚Äô.
Without leaving the house, there‚Äôs 2h30‚Äô worth of reading right there.&lt;/p&gt;
&lt;p&gt;You can mix and match, so listen to an audiobook while you‚Äôre preparing lunch and dinner, then read your e-book while eating maybe.&lt;/p&gt;
&lt;p&gt;Just doing this can drastically increase the number of books you read. This is easily the simplest yet more powerful advice in this post.&lt;/p&gt;
&lt;h2 id=&quot;4-treat-yourself-to-a-physical-book&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#4-treat-yourself-to-a-physical-book&quot; aria-label=&quot;4 treat yourself to a physical book permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;4. Treat yourself to a physical book&lt;/h2&gt;
&lt;p&gt;Ebooks are practical, but nothing beats a paper book: the smell of the paper, the feeling of holding in your hand a physical object that you can put on a shelf and show to your friends and family.&lt;/p&gt;
&lt;p&gt;If you read mainly ebooks, starting to add physical books to the mix will, most likely, motivate you to read more and put the fun back into reading.&lt;/p&gt;
&lt;h2 id=&quot;5-read-more-than-one-book-at-a-time&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#5-read-more-than-one-book-at-a-time&quot; aria-label=&quot;5 read more than one book at a time permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;5. Read more than one book at a time&lt;/h2&gt;
&lt;p&gt;Yes. Two or three, or more.&lt;/p&gt;
&lt;p&gt;Here‚Äôs an example: an audiobook for all those times when you cannot hold a book, an e-book for your commuting, a physical book at home, on your favourite armchair.
I find it helpful to change the genre as well. Every part of your day will then have a book and you‚Äôll look forward to continuing from where you left off.&lt;/p&gt;
&lt;h2 id=&quot;6-give-up-books-youre-not-enjoying&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#6-give-up-books-youre-not-enjoying&quot; aria-label=&quot;6 give up books youre not enjoying permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;6. Give up books you‚Äôre not enjoying&lt;/h2&gt;
&lt;p&gt;The world is full of books, there is no reason to spend time on bad books.
If you don‚Äôt like a book, give it to someone whom you know might enjoy it.&lt;/p&gt;
&lt;h2 id=&quot;7-set-aside-a-time-of-the-day-just-for-reading&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#7-set-aside-a-time-of-the-day-just-for-reading&quot; aria-label=&quot;7 set aside a time of the day just for reading permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;7. Set aside a time of the day just for reading&lt;/h2&gt;
&lt;p&gt;30‚Äô in the morning as you wake up? Or 45‚Äô before going to bed. Make that be the time when you sit (or lie) down and read. Forming a habit of reading will make the difference between success and failure.&lt;/p&gt;
&lt;h2 id=&quot;8-set-a-challenge-for-yourself&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#8-set-a-challenge-for-yourself&quot; aria-label=&quot;8 set a challenge for yourself permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;8. Set a challenge for yourself&lt;/h2&gt;
&lt;p&gt;Give yourself a goal that you never reached before but also that isn‚Äôt miles away from what you have already achieved. Beat it, then make a bolder bet.
I use &lt;a href=&quot;https://www.goodreads.com/user/show/11890143-riccardo&quot;&gt;Goodreads&lt;/a&gt; to set a challenge at the start of the year.&lt;/p&gt;
&lt;h2 id=&quot;conclusions&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#conclusions&quot; aria-label=&quot;conclusions permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Conclusions&lt;/h2&gt;
&lt;p&gt;I hope these tips will work for you as well as they did for me.&lt;/p&gt;
&lt;p&gt;Here is a Youtube video that gave me lots of ideas on how to improve my reading:&lt;/p&gt;
&lt;p&gt;
        &lt;div class=&quot;embedVideo-container&quot;&gt;
            &lt;iframe
              title=&quot;BOOKSTORES: How to Read More Books in the Golden Age of Content&quot;
              width=&quot;560&quot;
              height=&quot;316&quot;
              src=&quot;https://www.youtube.com/embed/lIW5jBrrsS0?rel=0&quot;
              class=&quot;embedVideo-iframe&quot;
              style=&quot;border:0&quot;
              
              
              loading=&quot;eager&quot;
              allowfullscreen
	      sandbox=&quot;allow-same-origin allow-scripts allow-popups&quot;
            &gt;&lt;/iframe&gt;
        &lt;/div&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Achieving goals: the importance of the Weekly Review]]></title><description><![CDATA[In the quest of being productive and achieve goals, one thing that is easily discovered is that consistency is key: this is actually not a‚Ä¶]]></description><link>https://www.riccardocoppola.me/blog/weekly-review/</link><guid isPermaLink="false">https://www.riccardocoppola.me/blog/weekly-review/</guid><pubDate>Wed, 27 Jul 2022 11:00:00 GMT</pubDate><media:content url="https://www.riccardocoppola.me/static/1f7780e3f8e54090de69282927d2151b/plan.jpg"/><content:encoded>&lt;p&gt;In the quest of &lt;a href=&quot;/blog/on-being-productive/&quot;&gt;being productive&lt;/a&gt; and achieve goals, one thing that is easily discovered is that consistency is key: this is actually not a big discovery, as it applies to pretty much every area of life that one may try to improve.&lt;/p&gt;
&lt;p&gt;How to be consistent, on the other hand, is a different challenge altogether, because life gets in the way and we need a way to work around it.&lt;/p&gt;
&lt;p&gt;Consistency needs to be helped.&lt;/p&gt;
&lt;p&gt;There are few tools or practices that I have found to be as helpful as a Weekly Review and I want to dig deeper into the what and how of it.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 900px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/1f7780e3f8e54090de69282927d2151b/77090/plan.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 66.66666666666666%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAQCA//EABUBAQEAAAAAAAAAAAAAAAAAAAIB/9oADAMBAAIQAxAAAAGl3wbAnI//xAAaEAADAAMBAAAAAAAAAAAAAAABAgMAEjFB/9oACAEBAAEFAlkoy6jRIoV87lHO/wD/xAAXEQEAAwAAAAAAAAAAAAAAAAAAAhES/9oACAEDAQE/Aaai/8QAFhEBAQEAAAAAAAAAAAAAAAAAABEB/9oACAECAQE/Aamv/8QAGxAAAgIDAQAAAAAAAAAAAAAAAAERIQIQMnH/2gAIAQEABj8Cs5nwnKnqGM//xAAZEAEAAwEBAAAAAAAAAAAAAAABABEhMUH/2gAIAQEAAT8h9QkT1RwgXavRag3CGS5Wjhm7P//aAAwDAQACAAMAAAAQ+D//xAAWEQEBAQAAAAAAAAAAAAAAAAARACH/2gAIAQMBAT8QAQ4X/8QAFhEBAQEAAAAAAAAAAAAAAAAAEQAh/9oACAECAQE/EEz63//EABsQAQEBAAIDAAAAAAAAAAAAAAERACFRMUFh/9oACAEBAAE/EEyPWFgatOrVMKljklvWkU8mvzDkbEw04sVXH3f/2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Plan&quot;
        title=&quot;Photo by [Glenn Carstens-Peters](https://unsplash.com/@glenncarstenspeters) / [Unsplash](https://unsplash.com)&quot;
        src=&quot;/static/1f7780e3f8e54090de69282927d2151b/8e1fc/plan.jpg&quot;
        srcset=&quot;/static/1f7780e3f8e54090de69282927d2151b/863e1/plan.jpg 225w,
/static/1f7780e3f8e54090de69282927d2151b/20e5d/plan.jpg 450w,
/static/1f7780e3f8e54090de69282927d2151b/8e1fc/plan.jpg 900w,
/static/1f7780e3f8e54090de69282927d2151b/b768e/plan.jpg 1350w,
/static/1f7780e3f8e54090de69282927d2151b/d9c39/plan.jpg 1800w,
/static/1f7780e3f8e54090de69282927d2151b/77090/plan.jpg 4256w&quot;
        sizes=&quot;(max-width: 900px) 100vw, 900px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;&lt;p&gt;Photo by &lt;a href=&quot;https://unsplash.com/@glenncarstenspeters&quot;&gt;Glenn Carstens-Peters&lt;/a&gt; / &lt;a href=&quot;https://unsplash.com&quot;&gt;Unsplash&lt;/a&gt;&lt;/p&gt;&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&quot;what-is-a-weekly-review&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#what-is-a-weekly-review&quot; aria-label=&quot;what is a weekly review permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;What is a Weekly Review?&lt;/h2&gt;
&lt;p&gt;The Weekly Review is a very simple concept and as the name implies, it is a weekly meeting (usually with yourself, but could be with your team or your family, depending on the goals you are trying to achieve) that has the goal of reviewing the work done on the previous week and preparing the work to be done on the following week.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;It has the power of getting you to zoom out from the day to day grind of completing tasks, to look at the big picture and make sure that you know why you are doing what you are doing and how that aligns to your goals and values.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Let‚Äôs have a look at how it can be structured, as there are some interesting concepts.&lt;/p&gt;
&lt;h2 id=&quot;how-to-structure-a-weekly-review&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#how-to-structure-a-weekly-review&quot; aria-label=&quot;how to structure a weekly review permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;How to structure a Weekly Review&lt;/h2&gt;
&lt;p&gt;My Weekly Review is scheduled on Sunday evening and it lasts around one hour. For me this makes sense as it is just before the start of a new week.&lt;/p&gt;
&lt;p&gt;This is how the session is structured:&lt;/p&gt;
&lt;h3 id=&quot;1-the-brain-dump-&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#1-the-brain-dump-&quot; aria-label=&quot;1 the brain dump  permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;1. The Brain dump üß†&lt;/h3&gt;
&lt;p&gt;The first part of the Weekly Review is the brain dump: take pen and paper or a notes app and jot down everything you have on your mind. Anything you want to do or have to do, ideas, plans, lists, worries anything at all.  &lt;strong&gt;Don‚Äôt leave out the small things and don‚Äôt limit yourself, take the time to really ‚Äúempty‚Äù your brain.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;This is a powerful exercise, possibly the most important of the session, as it transfers the load from your brain to a more permanent medium. You will immediately feel better as your brain won‚Äôt have to hold on to those ideas any longer and will be free to do more interesting work.
When the brain has to hold on to ideas in fear of forgetting them, lots of energy is spent on that instead of leaving the brain free to complete other tasks: by doing this exercise you will notice that all of the sudden you become more creative and you ‚Äúgenerate‚Äù more ideas.&lt;/p&gt;
&lt;p&gt;Writing down your thoughts makes them more real, helping you become more focused.&lt;/p&gt;
&lt;h3 id=&quot;2-email-management-&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#2-email-management-&quot; aria-label=&quot;2 email management  permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;2. Email management üíå&lt;/h3&gt;
&lt;p&gt;Our inbox is often full by unwanted email, and less often it is the recipient of important communications and items that need to be actioned upon. Effective email management allows me to keep my inbox clean and to always give the right attention to the items that need it.
I use the &lt;a href=&quot;https://www.productiveflourishing.com/the-s-t-a-r-method-a-more-effective-less-stressful-way-to-process-email/&quot;&gt;STAR method&lt;/a&gt; as a quick way to keep my inbox under control.&lt;/p&gt;
&lt;p&gt;The concept is easy, in short:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;S&lt;/strong&gt; stands for SCAN - Scan your Inbox for senders and subjects. This step gives you a higher perspective of what‚Äôs in your Inbox&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;T&lt;/strong&gt; stands for TRASH ‚Äì as in ‚Äútrash everything that‚Äôs not relevant, useful, or something you want or need.‚Äù&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;A&lt;/strong&gt; stands for ARCHIVE, as in ‚Äúarchive relevant reference information.‚Äù¬ù&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;R&lt;/strong&gt; stands for RESPOND, as in ‚Äúrespond to what‚Äôs left.‚Äù¬ù&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;When there are emails that need a follow up, add them to the brain dump list.&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id=&quot;3-calendar-management-&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#3-calendar-management-&quot; aria-label=&quot;3 calendar management  permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;3. Calendar management üóì&lt;/h3&gt;
&lt;p&gt;Schedule sessions in your calendar to work on the tasks created in the previous sections. Prefer sessions based on the project or area (so group tasks together) rather than on the task itself and use Pomodoros as units of work.
Review previously scheduled tasks and make sure they were all completed or reschedule/delegate/drop.&lt;/p&gt;
&lt;h3 id=&quot;4-goals-and-values-review-&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#4-goals-and-values-review-&quot; aria-label=&quot;4 goals and values review  permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;4. Goals and values review üéØ&lt;/h3&gt;
&lt;p&gt;Take some time to review your wider goals and values, make sure tasks and activities created during the session are aligned and progress is being made towards your objectives.&lt;/p&gt;
&lt;h2 id=&quot;improvements&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#improvements&quot; aria-label=&quot;improvements permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Improvements&lt;/h2&gt;
&lt;p&gt;There are some additional practices that can make the weekly review even more impactful.&lt;/p&gt;
&lt;h3 id=&quot;use-a-trello-board&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#use-a-trello-board&quot; aria-label=&quot;use a trello board permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Use a Trello board&lt;/h3&gt;
&lt;p&gt;If you are using Trello to manage your tasks, then you can turn the Weekly Dump and the list of emails that need more attention into tasks and put them into your board to be tackled next. You can directly forward the emails to your Trello board and they will be automatically turned into tasks.&lt;/p&gt;
&lt;h3 id=&quot;keep-doing-the-brain-dump-throughout-the-week&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#keep-doing-the-brain-dump-throughout-the-week&quot; aria-label=&quot;keep doing the brain dump throughout the week permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Keep doing the brain dump throughout the week&lt;/h3&gt;
&lt;p&gt;I keep a note titled ‚ÄúWeekly dump‚Äù where I put all my thoughts and ideas during the week. This way I don‚Äôt have to hold on to those idea until the end of the week.&lt;/p&gt;
&lt;h3 id=&quot;have-a-list-of-categories-to-help-you-with-the-brain-dump&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#have-a-list-of-categories-to-help-you-with-the-brain-dump&quot; aria-label=&quot;have a list of categories to help you with the brain dump permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Have a list of categories to help you with the brain dump&lt;/h3&gt;
&lt;p&gt;Sometimes it can be difficult to sit down and pull ideas out of your brain. To help me with this I have a list of categories to help me focus and get the best out of the session:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Finance and investments&lt;/li&gt;
&lt;li&gt;Business&lt;/li&gt;
&lt;li&gt;Career growth&lt;/li&gt;
&lt;li&gt;Family/relationships&lt;/li&gt;
&lt;li&gt;Personal growth&lt;/li&gt;
&lt;li&gt;Fitness&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;conclusion&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#conclusion&quot; aria-label=&quot;conclusion permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;The weekly review has proved to be invaluable to me to increase my focus and the amount of ‚Äúthings‚Äù that I get done. Have a look at the resources to read from people that know about it more than I do!&lt;/p&gt;
&lt;h3 id=&quot;resources&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#resources&quot; aria-label=&quot;resources permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Resources&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://todoist.com/productivity-methods/weekly-review&quot;&gt;The Weekly Review: A Productivity Ritual to Get More Done&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://medium.com/publishous/how-to-do-a-weekly-review-to-increase-your-productivity-91cfab735977&quot;&gt;How to Do a Weekly Review to Increase Your Productivity&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.health.harvard.edu/blog/write-your-anxieties-away-2017101312551&quot;&gt;Write your anxieties away - Harvard Health&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.developgoodhabits.com/how-to-quiet-your-monkey-mind/&quot;&gt;14 Tips to Tame Your Monkey Mind &amp;#x26; Calm Your Thinking&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Make alias imports work in Gatsby with TypeScript]]></title><description><![CDATA[So you want to write  instead of  in your TypeScript Gatsby app. There are two important pieces to this: TypeScript and webpack (Gatsby uses‚Ä¶]]></description><link>https://www.riccardocoppola.me/blog/make-alias-imports-work-gatsby-typescript/</link><guid isPermaLink="false">https://www.riccardocoppola.me/blog/make-alias-imports-work-gatsby-typescript/</guid><pubDate>Sat, 16 Apr 2022 11:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;em&gt;So you want to write &lt;code class=&quot;language-text&quot;&gt;@Components/Button&lt;/code&gt; instead of &lt;code class=&quot;language-text&quot;&gt;../../../../components/Button&lt;/code&gt; in your TypeScript Gatsby app.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;There are two important pieces to this: TypeScript and webpack (Gatsby uses webpack under the hood to build your code).&lt;/p&gt;
&lt;p&gt;To type check your code, TypeScript needs to know where the alias imports map to.
To build your code, webpack needs to know the same thing to resolve all dependencies.&lt;/p&gt;
&lt;p&gt;They both need to be told in order for your code to type check and build properly.&lt;/p&gt;
&lt;p&gt;For TypeScript, you define &lt;code class=&quot;language-text&quot;&gt;paths&lt;/code&gt; in the &lt;code class=&quot;language-text&quot;&gt;tsconfig.json&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;compilerOptions&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;baseUrl&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;./src&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;paths&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;@Components/*&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;components/*&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;For webpack, you do a similar thing in &lt;code class=&quot;language-text&quot;&gt;alias&lt;/code&gt;. In case of Gatsby, you have a hook function &lt;code class=&quot;language-text&quot;&gt;onCreateWebpackConfig&lt;/code&gt; in &lt;code class=&quot;language-text&quot;&gt;gatsby-node.ts&lt;/code&gt; to modify the default configuration.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; path &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;path&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

exports&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;onCreateWebpackConfig&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; actions &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  actions&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setWebpackConfig&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token literal-property property&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token literal-property property&quot;&gt;alias&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token string-property property&quot;&gt;&quot;@Components&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; path&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;__dirname&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;src/components&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Copying paths in two places is tedious and prone to error though, and I prefer to have &lt;code class=&quot;language-text&quot;&gt;tsconfig.json&lt;/code&gt; as source of truth then use &lt;a href=&quot;https://www.npmjs.com/package/tsconfig-paths-webpack-plugin&quot;&gt;tsconfig-paths-webpack-plugin&lt;/a&gt; to automatically pull that configuration in webpack.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; TsconfigPathsPlugin &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;tsconfig-paths-webpack-plugin&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

exports&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;onCreateWebpackConfig&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; actions &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  actions&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setWebpackConfig&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token literal-property property&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token literal-property property&quot;&gt;plugins&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;TsconfigPathsPlugin&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This concept works with any code that use TypeScript and webpack, but with Gatsby you can use &lt;a href=&quot;https://www.gatsbyjs.com/plugins/gatsby-plugin-tsconfig-paths/&quot;&gt;gatsby-plugin-tsconfig-paths&lt;/a&gt; in your &lt;code class=&quot;language-text&quot;&gt;gatsby-config.ts&lt;/code&gt; and you won‚Äôt have to touch the webpack config at all.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// gatsby-config.ts&lt;/span&gt;
module&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;exports &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token literal-property property&quot;&gt;plugins&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;gatsby-plugin-tsconfig-paths&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;note&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#note&quot; aria-label=&quot;note permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Note&lt;/h3&gt;
&lt;p&gt;There is another &lt;a href=&quot;https://www.gatsbyjs.com/plugins/gatsby-plugin-alias-imports/&quot;&gt;gatsby plugin&lt;/a&gt; that allows you to define alias in gatsby-config.&lt;/p&gt;
&lt;p&gt;This works by simply injecting the options into Webpack using &lt;code class=&quot;language-text&quot;&gt;onCreateWebpackConfig&lt;/code&gt; but won‚Äôt do anything for your typescript configuration and you‚Äôll have to manually copy the alias in your &lt;code class=&quot;language-text&quot;&gt;tsconfig.json&lt;/code&gt;.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Build feature flags in React using the Context API: how to]]></title><description><![CDATA[One of the tenets of lean development is ‚Äúdeliver fast, deliver often‚Äù. Now, this can become tricky when you have to add new, big features‚Ä¶]]></description><link>https://www.riccardocoppola.me/blog/how-to-build-feature-flags-react/</link><guid isPermaLink="false">https://www.riccardocoppola.me/blog/how-to-build-feature-flags-react/</guid><pubDate>Sun, 29 Mar 2020 09:30:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;em&gt;One of the tenets of lean development is ‚Äúdeliver fast, deliver often‚Äù.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Now, this can become tricky when you have to add new, big features to an application that is already live, or you have to delay a release to a specific day (e.g. changing the landing page for a big sale).&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;How can we build (and leverage) &lt;a href=&quot;https://martinfowler.com/articles/feature-toggles.html&quot;&gt;feature flags (or feature toggles)&lt;/a&gt; to improve both the development/release workflow and the user experience?&lt;/em&gt;&lt;/p&gt;
&lt;h2 id=&quot;the-case-for-releasing-features-in-the-dark&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#the-case-for-releasing-features-in-the-dark&quot; aria-label=&quot;the case for releasing features in the dark permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;The case for releasing features ‚Äúin the dark‚Äù&lt;/h2&gt;
&lt;p&gt;Suppose you have a successful, high traffic blog built in React and you want to add a list of featured posts at the top. The first step would be to break this feature or epic down into smaller stories with your team.&lt;/p&gt;
&lt;p&gt;Let‚Äôs assume that these are the stories you come up with:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;create an empty container for the featured posts&lt;/li&gt;
&lt;li&gt;display a list of unstyled posts&lt;/li&gt;
&lt;li&gt;add style to the list of posts&lt;/li&gt;
&lt;li&gt;add UX behaviour to the list of posts, such as a link to the post page and author page&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;You can expect to have other work ongoing in parallel, like maintaining the blog, making small UI changes etc so how do you handle this big feature release? You definitely cannot go live with an empty container at the top of the page, or with a list of unstyled text that has no behaviour.&lt;/p&gt;
&lt;p&gt;One solution may be to create a long-living branch that you rebase on to master as often as you manage to remember (and fix all the conflicts every time), and build the whole feature there, then do a big-bang release of all the code. I don‚Äôt need to go on to explain why this is a bad decision on so many levels.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Another solution is to use feature flags to wrap your new feature so that you release the code to production as often as you want, following your usual development/release workflow, you just don‚Äôt display it to the user.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Following is an example:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// This configuration can come from wherever you prefer:&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// a config file, a mongo database, etc&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; features &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token literal-property property&quot;&gt;featuredPosts&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// In your react component&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; FeaturedPosts &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;./featured-posts&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;HomePage&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; features &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;article&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      // ... other content
      &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;features&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;featuredPosts &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;FeaturedPosts&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      // ... other content
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;article&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;So the idea behind feature flags is to ship code ‚Äúin the dark‚Äù, without the user seeing it.&lt;br&gt;
This way you can keep your big feature within your normal development/delivery flow, just hidden from the final users.&lt;/p&gt;
&lt;h2 id=&quot;react-implementation&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#react-implementation&quot; aria-label=&quot;react implementation permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;React implementation&lt;/h2&gt;
&lt;p&gt;I want to create a small component to wrap content with so that I can decide whether or not to render it based on the value of a feature flag.&lt;/p&gt;
&lt;p&gt;To keep this as simple as possible, the following is the way I see this component being used:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; FeaturedPosts &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;./featured-posts&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Feature&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;featuredPosts&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;FeaturedPosts&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Feature&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This is a very declarative, React-like way of consuming features.&lt;/p&gt;
&lt;p&gt;Where do I get the features‚Äô list from, though? And what a possible implementation may look like?&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://reactjs.org/docs/context.html&quot;&gt;React Context&lt;/a&gt; can help inject a list of features into the application and retrieve it later, as for the component implementation, let‚Äôs have a look:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; createContext&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; useContext &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;react&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; FeaturesContext &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;createContext&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; FeaturesProvider &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; FeaturesContext&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Provider&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;Feature&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; children &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; flags &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useContext&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;FeaturesContext&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;children&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; flags&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; children &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;First of all, I am creating a &lt;code class=&quot;language-text&quot;&gt;FeaturesContext&lt;/code&gt; to be used later to wrap my app.&lt;/p&gt;
&lt;p&gt;The &lt;code class=&quot;language-text&quot;&gt;Feature&lt;/code&gt; component then takes the feature‚Äôs name and the children and based on the boolean state of the feature, it‚Äôll either render the children (if the feature is enabled) or &lt;code class=&quot;language-text&quot;&gt;null&lt;/code&gt;. It can do it because it‚Äôs got access to the list of feature flags from the context.&lt;/p&gt;
&lt;p&gt;Following is a usage example:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; FeaturedPosts &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;./featured-posts&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;HomePage&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      /* other content */
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Feature&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;featuredPosts&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;FeaturedPosts&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Feature&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      /* other content */
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; features &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token literal-property property&quot;&gt;featuredPosts&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;App&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;FeaturesProvider&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;features&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;HomePage&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;FeaturesProvider&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;adding-mvt-multivariate-testing-support&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#adding-mvt-multivariate-testing-support&quot; aria-label=&quot;adding mvt multivariate testing support permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Adding MVT (MultiVariate Testing) support&lt;/h2&gt;
&lt;p&gt;The use case for MVT is when you want to try out different variations of the same feature (e.g. trying out three different colors for call to action buttons) to see which one is the best performer.&lt;/p&gt;
&lt;p&gt;We can easily extend the &lt;code class=&quot;language-text&quot;&gt;Feature&lt;/code&gt; component to support MVT by adding a &lt;code class=&quot;language-text&quot;&gt;variation&lt;/code&gt; property:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;Feature&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; variation&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; children &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; flags &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useContext&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;FeaturesContext&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;children&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;variation &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; flags&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; children &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; flags&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; variation &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; children &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;In the code above, if we don‚Äôt receive a &lt;code class=&quot;language-text&quot;&gt;variation&lt;/code&gt;, we treat the flag as a &lt;code class=&quot;language-text&quot;&gt;Boolean&lt;/code&gt; otherwise we only render the correct variation.&lt;/p&gt;
&lt;h2 id=&quot;thoughts-on-deployment-environments&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#thoughts-on-deployment-environments&quot; aria-label=&quot;thoughts on deployment environments permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Thoughts on deployment environments&lt;/h2&gt;
&lt;p&gt;Many projects are deployed through a series of environments (dev, staging, pre-prod, &lt;em&gt;add your name here&lt;/em&gt;) before being released to production.&lt;/p&gt;
&lt;p&gt;This can allow for additional levels of testing, usually E2E tests, to be carried out. You can fully test the code behind a feature flag by having different settings for different environments: one of the practices that I‚Äôd use is to have all features enabled on a staging environment and run all level of tests against them, then have them turned off in pre-prod and prod.&lt;/p&gt;
&lt;p&gt;This way you have the confidence of having well-tested features and the ability to keep them hidden until it‚Äôs release time.&lt;/p&gt;
&lt;h2 id=&quot;feature-flags-and-technical-debt&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#feature-flags-and-technical-debt&quot; aria-label=&quot;feature flags and technical debt permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Feature flags and technical debt&lt;/h2&gt;
&lt;p&gt;Technical debt is a reality in every application we build. It can be kept under control, but real-life scenarios call for technical debt to be created in order to deliver faster in some periods or accommodate for temporary business requirements.&lt;/p&gt;
&lt;p&gt;It is like a loan: you need it, but you also need to have a plan in place to pay it back.&lt;/p&gt;
&lt;p&gt;Feature flags add to technical debt because they are part of the code only for a short amount of time and need to be removed afterwards, without actually being a user feature.&lt;/p&gt;
&lt;p&gt;This doesn‚Äôt mean they shouldn‚Äôt be used, the opposite actually, but there must be a plan in place to clean up the code: every time you use them, make sure your stories include points about removing the feature flag wrapping your code and update the tests to reflect the presence of the feature, plus anything else you may have to do.&lt;/p&gt;
&lt;p&gt;Enjoy your improved workflow!&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Replace Redux with React Hooks and the Context API: how to and code]]></title><description><![CDATA[Is it possible to use the new React Context API and hooks to completely replace Redux? Is it worth it? Does it yield the same results and is‚Ä¶]]></description><link>https://www.riccardocoppola.me/blog/replace-redux-with-react-hooks-and-context-api/</link><guid isPermaLink="false">https://www.riccardocoppola.me/blog/replace-redux-with-react-hooks-and-context-api/</guid><pubDate>Fri, 13 Mar 2020 10:30:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;em&gt;Is it possible to use the new React Context API and hooks to completely replace Redux? Is it worth it? Does it yield the same results and is the solution as easy to use as Redux + React-redux?&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;With the advent of the new &lt;a href=&quot;https://reactjs.org/docs/context.html&quot;&gt;React Context API&lt;/a&gt;, passing data deep down in an application became easier and with the new &lt;a href=&quot;https://reactjs.org/docs/hooks-intro.html&quot;&gt;hooks&lt;/a&gt; I started to see a lot of posts advertising that replacing Redux was possible. I wanted to find out for myself, so I started looking closer at the React docs and try to build my own Redux.&lt;/p&gt;
&lt;p&gt;The following is what I found out and what I came up with.&lt;/p&gt;
&lt;h2 id=&quot;context-api&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#context-api&quot; aria-label=&quot;context api permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Context API&lt;/h2&gt;
&lt;p&gt;One of the challenges of React is how to pass props to components deep down the tree; props that are ‚Äúglobal‚Äù to the application, that many components may want to use and usually represent configuration, UI theme, translations.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Context provides a way to pass data through the component tree without having to pass props down manually at every level.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;how-to-use-it&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#how-to-use-it&quot; aria-label=&quot;how to use it permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;How to use it&lt;/h3&gt;
&lt;p&gt;To start building a Redux-like library, I want to make available a &lt;code class=&quot;language-text&quot;&gt;state&lt;/code&gt; object and a &lt;code class=&quot;language-text&quot;&gt;dispatch&lt;/code&gt; function to the whole application, so let‚Äôs build an example that takes advantage of the Context API and does just that:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; React &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;react&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// Create a context with a default value&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; StateContext &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; React&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createContext&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token literal-property property&quot;&gt;state&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token function-variable function&quot;&gt;dispatch&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;ComponentUsingContext&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// Wrap the component using the value with the context consumer&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;StateContext.Consumer&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; state &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;App state: &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stringify&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;state&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;StateContext.Consumer&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// Wrap your component with the provider and pass a value if you don&apos;t want to use the default&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;App&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;StateContext.Provider&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token attr-name&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token literal-property property&quot;&gt;state&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token literal-property property&quot;&gt;counter&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token function-variable function&quot;&gt;dispatch&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;dispatch&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;ComponentUsingContext&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;StateContext.Provider&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The above is a quick look at how you can use the Context to send data down the components‚Äô tree, and it doesn‚Äôt look very different from the React Redux Provider that you use to wrap your app with.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Note how you create a &lt;code class=&quot;language-text&quot;&gt;Context&lt;/code&gt; first, then use the &lt;code class=&quot;language-text&quot;&gt;Context.Provider&lt;/code&gt; to send data down into the tree and &lt;code class=&quot;language-text&quot;&gt;Context.Consumer&lt;/code&gt; to use that data at any nesting level.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;The part using the &lt;code class=&quot;language-text&quot;&gt;Context.Consumer&lt;/code&gt; looks a bit more complex than I‚Äôd like, but there is a hook that makes it look at lot cleaner (more on this in a sec).&lt;/p&gt;
&lt;p&gt;Now that we have a way to ‚Äúinject‚Äù data into an app, let‚Äôs see how we can leverage hooks to build the additional features required to replace Redux.&lt;/p&gt;
&lt;h2 id=&quot;hooks&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#hooks&quot; aria-label=&quot;hooks permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Hooks&lt;/h2&gt;
&lt;p&gt;Hooks were introduced in React 16.8.0 to tackle different classes of problems:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Making it easier to reuse stateful logic between components&lt;/li&gt;
&lt;li&gt;Move away from classes, their inherent verbosity and the use of &lt;code class=&quot;language-text&quot;&gt;this&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Making more use of &lt;a href=&quot;https://en.wikipedia.org/wiki/Ahead-of-time_compilation&quot;&gt;ahead-of-time compilation&lt;/a&gt; to create optimised code (and classes can encourage patterns that make it difficult)&lt;/li&gt;
&lt;li&gt;Probably other reasons, which I am not aware of üòá&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Among all the &lt;a href=&quot;https://reactjs.org/docs/hooks-overview.html&quot;&gt;hooks&lt;/a&gt; that come with React, &lt;a href=&quot;https://reactjs.org/docs/hooks-reference.html#usecontext&quot;&gt;useContext&lt;/a&gt; and &lt;a href=&quot;https://reactjs.org/docs/hooks-reference.html#usereducer&quot;&gt;useReducer&lt;/a&gt; are the ones that can help build a Redux-like library in React.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;useContext&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;const value = useContext(MyContext);&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Example usage for useContext&lt;/p&gt;
&lt;p&gt;It is an alternative to using the &lt;code class=&quot;language-text&quot;&gt;Context.Consumer&lt;/code&gt; pattern (and makes the code looks more readable in my opinion).&lt;/p&gt;
&lt;p&gt;Let‚Äôs see it applied to the previous Context example:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; React&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; useContext &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;react&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; StateContext &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; React&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createContext&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token literal-property property&quot;&gt;state&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token function-variable function&quot;&gt;dispatch&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;ComponentUsingContext&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; state &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useContext&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;StateContext&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// &amp;lt;---&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;App state: &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stringify&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;state&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;App&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;StateContext.Provider&lt;/span&gt;&lt;/span&gt;
      &lt;span class=&quot;token attr-name&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token literal-property property&quot;&gt;state&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token literal-property property&quot;&gt;counter&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token function-variable function&quot;&gt;dispatch&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;dispatch&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;ComponentUsingContext&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;StateContext.Provider&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You still have to use the &lt;code class=&quot;language-text&quot;&gt;Context.Provider&lt;/code&gt;, but retrieving the values from the context looks a lot better now.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;useReducer&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;const [state, dispatch] = useReducer(reducer, initialArg, init);&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Example usage for useReducer&lt;/p&gt;
&lt;p&gt;The &lt;code class=&quot;language-text&quot;&gt;useReducer&lt;/code&gt; hook accepts a reducer (same as you‚Äôd write for Redux) and an initial state and return the new state with a dispatch method.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;state&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;dispatch&lt;/code&gt; are exactly what I need to pass down the application through the &lt;code class=&quot;language-text&quot;&gt;React.Context&lt;/code&gt;.&lt;/p&gt;
&lt;h2 id=&quot;trying-to-put-things-together&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#trying-to-put-things-together&quot; aria-label=&quot;trying to put things together permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Trying to put things together&lt;/h2&gt;
&lt;p&gt;The API of my Redux-like library should include:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;a &lt;code class=&quot;language-text&quot;&gt;Provider&lt;/code&gt; to wrap the app and inject the state and dispatch method&lt;/li&gt;
&lt;li&gt;a &lt;code class=&quot;language-text&quot;&gt;useStore&lt;/code&gt; method to create a store (containing the state and dispatch method) to pass to the Provider&lt;/li&gt;
&lt;li&gt;a &lt;code class=&quot;language-text&quot;&gt;connect&lt;/code&gt; method to hook a component to the state&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Provider&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;The provider would simply be a &lt;code class=&quot;language-text&quot;&gt;Context.Provider&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; Context &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; React&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createContext&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// No default needed here&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; Provider &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Context&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Provider&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;connect&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;A very basic &lt;code class=&quot;language-text&quot;&gt;connect&lt;/code&gt; would accept a &lt;code class=&quot;language-text&quot;&gt;Component&lt;/code&gt;, then make use of the &lt;code class=&quot;language-text&quot;&gt;useContext&lt;/code&gt; to get the state and dispatch and then pass them to the component.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; connect &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;Component&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; state&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; dispatch &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useContext&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Context&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; props &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; state&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; dispatch &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; React&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createElement&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Component&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; props&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This is of course a very basic version, that passes the whole state to the component: not exactly what I want.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Introducing &lt;code class=&quot;language-text&quot;&gt;mapStateToProps&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;mapDispatchToProps&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;The Redux &lt;code class=&quot;language-text&quot;&gt;connect&lt;/code&gt; method makes use of &lt;code class=&quot;language-text&quot;&gt;mapStateToProps&lt;/code&gt; to map the whole state to the props that the component needs.&lt;/p&gt;
&lt;p&gt;It also uses &lt;code class=&quot;language-text&quot;&gt;mapDispatchToProps&lt;/code&gt; to pass actions wrapped by the dispatch method as props to the component.&lt;/p&gt;
&lt;p&gt;I wanted to support those methods too, so this is an improved version, that also support the component‚Äôs own props:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;connect&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;mapStateToProps&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;mapDispatchToProps&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;Component&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;ownProps&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; getState&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; dispatch &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useContext&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Context&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; stateProps &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;mapStateToProps&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; ownProps&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; dispatchProps &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;mapDispatchToProps&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;dispatch&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; ownProps&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; props &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;ownProps&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;stateProps&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;dispatchProps&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; dispatch &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;createElement&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Component&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; props&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;So here I added support for &lt;code class=&quot;language-text&quot;&gt;mapStateToProps&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;mapDispatchToProps&lt;/code&gt;, providing a default value that returns an empty object in case those arguments are not provided. I then added the &lt;code class=&quot;language-text&quot;&gt;dispatch&lt;/code&gt; method so that the component can use it to dispatch actions.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;useStore&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;This is just a utility hook that uses &lt;code class=&quot;language-text&quot;&gt;useReducer&lt;/code&gt; to create a store and returns it, pretty much like &lt;code class=&quot;language-text&quot;&gt;[createStore](https://redux.js.org/api/createstore/)&lt;/code&gt; in Redux. It also creates a &lt;code class=&quot;language-text&quot;&gt;getState&lt;/code&gt; function that returns the state.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;useStore&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;reducer&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; initialState &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;state&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; dispatch&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useReducer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;reducer&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; initialState&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;getState&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; state&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; getState&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; dispatch &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The following code puts it all together in the same file to make it easier to read and understand:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; createElement&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; createContext&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; useReducer&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; useContext &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;react&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; Context &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;createContext&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; ContextProvider &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Context&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Provider&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;useStore&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;reducer&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; initialState &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;state&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; dispatch&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useReducer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;reducer&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; initialState&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;getState&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; state&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; getState&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; dispatch &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;connect&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;token function-variable function&quot;&gt;mapStateToProps&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token function-variable function&quot;&gt;mapDispatchToProps&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token parameter&quot;&gt;Component&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token parameter&quot;&gt;ownProps&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; getState&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; dispatch &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useContext&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Context&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; stateProps &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;mapStateToProps&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; ownProps&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; dispatchProps &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;mapDispatchToProps&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;dispatch&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; ownProps&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; props &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;ownProps&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;stateProps&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;dispatchProps&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; dispatch &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;createElement&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Component&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; props&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;a-working-example&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#a-working-example&quot; aria-label=&quot;a working example permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;A working example&lt;/h2&gt;
&lt;p&gt;Here‚Äôs your usual counter example using the code I just discussed (notice my CSS skills):&lt;/p&gt;
&lt;p&gt;And a GitHub repo: &lt;a href=&quot;https://github.com/ricca509/redux-no-redux&quot;&gt;https://github.com/ricca509/redux-no-redux&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;an-important-note-about-re-renders&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#an-important-note-about-re-renders&quot; aria-label=&quot;an important note about re renders permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;An important note about re-renders&lt;/h2&gt;
&lt;p&gt;You may wonder how the application re-renders, since I am never using &lt;code class=&quot;language-text&quot;&gt;setState&lt;/code&gt;, which is a requirement to trigger a re-render in React.&lt;/p&gt;
&lt;p&gt;In Redux, the &lt;code class=&quot;language-text&quot;&gt;connect&lt;/code&gt; method triggers a &lt;code class=&quot;language-text&quot;&gt;[forceUpdate](https://reactjs.org/docs/react-component.html#forceupdate)&lt;/code&gt; when the store changes, but here?&lt;/p&gt;
&lt;p&gt;The solution lies in how the &lt;code class=&quot;language-text&quot;&gt;useContext&lt;/code&gt; hook works:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;A component calling &lt;code class=&quot;language-text&quot;&gt;useContext&lt;/code&gt; will always re-render when the context value changes.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;More on this in the &lt;a href=&quot;https://reactjs.org/docs/hooks-reference.html#usecontext&quot;&gt;React docs&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&quot;where-to-now&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#where-to-now&quot; aria-label=&quot;where to now permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Where to now?&lt;/h2&gt;
&lt;p&gt;Of course this example is not nearly as powerful as Redux is, but it proves that Redux can be replaced by Context + Hooks.&lt;/p&gt;
&lt;p&gt;Is it the right thing to do, though? Is it the right pattern to package these new React features into a Redux-like library?&lt;/p&gt;
&lt;p&gt;I believe that these new tools give us an opportunity to find new patterns and leverage the reusability provided by hooks to find better ways to share and access application state at any nesting level. We‚Äôll find it iteration after iteration, in true agile spirit.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Embrace distributed teams and be happy]]></title><description><![CDATA[Remote teams have become the norm, rather than the exception, for many companies requiring software engineering services (and not only‚Ä¶]]></description><link>https://www.riccardocoppola.me/blog/embrace-distributed-teams-and-be-happy/</link><guid isPermaLink="false">https://www.riccardocoppola.me/blog/embrace-distributed-teams-and-be-happy/</guid><pubDate>Tue, 21 Jan 2020 11:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Remote teams have become the norm, rather than the exception, for many companies requiring software engineering services (and not only).&lt;/p&gt;
&lt;p&gt;They used to be just a small addition to the core, in-house team, but it is not uncommon for them to now represent the bulk of the development force.&lt;/p&gt;
&lt;p&gt;It‚Äôs not always the case of a company hiring a third party do do the job, sometimes it‚Äôs just having to coordinate multiple teams of the same company, operating from different locations with different time zones.&lt;/p&gt;
&lt;p&gt;There are multiple reasons for this choice: cost, multiple company locations to manage, strong talents availability in less competitive markets, strategic choices and so on.&lt;/p&gt;
&lt;p&gt;Hewlett-Packard (HP) uses these teams to meet the demands of local economies across the world, and as an HP executive states&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;We are very dependent on working across the world. It‚Äôs our survival, the key to our success. We cannot be a U.S.-centric organization‚Ä¶ It‚Äôs very common for us to have one project team made up of folks from all of our regions&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;em&gt;‚ÄúNo Borders‚Äù 2005, p. 37&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 900px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/1ae41ec11ddea80c55199b37a3dc6054/3acf0/photo-1537907510278-cb33191816f0.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 66.66666666666666%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAIFAwT/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAHR5aHaSw//xAAcEAACAgIDAAAAAAAAAAAAAAABAgADBBMUITP/2gAIAQEAAQUCryFaLaJyWlIO4+bN3//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EAB4QAAICAAcAAAAAAAAAAAAAAAABAiEQERIxQWFy/9oACAEBAAY/AtrG56ei4pCvkj6yw//EABwQAAICAgMAAAAAAAAAAAAAAAERACExQWGx4f/aAAgBAQABPyEindjyLlAXXeLgtbvEpJgkrXEAk726QhN3P//aAAwDAQACAAMAAAAQAM//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAdEAEBAAICAwEAAAAAAAAAAAABEQAhMWFBcfBR/9oACAEBAAE/EApkA8kul2y9Y5PgBvgjresa+OjpCduIDWoCnxyxu557X78yBxCl9Z//2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Team&quot;
        title=&quot;Photo by [Isaiah Rustad](https://unsplash.com/@isaiahrustad) / [Unsplash](https://unsplash.com)&quot;
        src=&quot;/static/1ae41ec11ddea80c55199b37a3dc6054/8e1fc/photo-1537907510278-cb33191816f0.jpg&quot;
        srcset=&quot;/static/1ae41ec11ddea80c55199b37a3dc6054/863e1/photo-1537907510278-cb33191816f0.jpg 225w,
/static/1ae41ec11ddea80c55199b37a3dc6054/20e5d/photo-1537907510278-cb33191816f0.jpg 450w,
/static/1ae41ec11ddea80c55199b37a3dc6054/8e1fc/photo-1537907510278-cb33191816f0.jpg 900w,
/static/1ae41ec11ddea80c55199b37a3dc6054/b768e/photo-1537907510278-cb33191816f0.jpg 1350w,
/static/1ae41ec11ddea80c55199b37a3dc6054/d9c39/photo-1537907510278-cb33191816f0.jpg 1800w,
/static/1ae41ec11ddea80c55199b37a3dc6054/3acf0/photo-1537907510278-cb33191816f0.jpg 2000w&quot;
        sizes=&quot;(max-width: 900px) 100vw, 900px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;&lt;p&gt;Photo by &lt;a href=&quot;https://unsplash.com/@isaiahrustad&quot;&gt;Isaiah Rustad&lt;/a&gt; / &lt;a href=&quot;https://unsplash.com&quot;&gt;Unsplash&lt;/a&gt;&lt;/p&gt;&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;While having remote teams usually brings down the cost considerably, it comes with its own set of everyday challenges that can outweigh the benefits if not properly handled.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Distributed teams are the subject of active &lt;a href=&quot;https://pdfs.semanticscholar.org/e3b9/57e8c1f6a286ce3b8876c12701a073a8f0c5.pdf&quot;&gt;research&lt;/a&gt; that questions the extent to which face-to-face and in-person communication is necessary for distributed teams to function effectively and why: empirical tests shows that the answer may depend on which team processes and outcomes one is exploring and how distance is measured (Geographical? Cultural? Time zone?).&lt;/p&gt;
&lt;p&gt;Essentially, the challenges of distributed teams fall in one of the following categories: &lt;em&gt;degree of virtuality, degree of distribution, history of the team, degree of (im)permanence, degree of task complexity&lt;/em&gt;. Following are a few points that I found helpful in my experience with working with multinational multicultural (MNMC) distributed teams and that directly or indirectly address the aforementioned categories.&lt;/p&gt;
&lt;h2 id=&quot;listen-listen-listen-then-act&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#listen-listen-listen-then-act&quot; aria-label=&quot;listen listen listen then act permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Listen, listen, listen. Then act&lt;/h2&gt;
&lt;p&gt;Communication in a co-located team happens as a result of people sharing the same room at the same time: a side effect of sitting together is feeling more comfortable in sharing ideas and raising issues.&lt;/p&gt;
&lt;p&gt;Working from the same office means ignoring a whole set of issues around distributed communications that can bring productivity to a halt when working with people in different locations.&lt;/p&gt;
&lt;p&gt;The key point in this scenario is to make everyone feel empowered to report problems that would otherwise affect everyone. One way of doing it is to show how serious we are in tackling those issues: &lt;strong&gt;listen carefully, then act effectively&lt;/strong&gt;. Showing care builds trust.&lt;/p&gt;
&lt;p&gt;If the microphone is not working during a meeting and it is being reported by the people on the call, stop and fix it, change it, or change room. Do not resume the discussion until the problem is fixed: losing input from a whole part of the team is much worse than stopping the meeting for a few minutes (or even moving it to a different time).&lt;/p&gt;
&lt;h2 id=&quot;choose-your-communication-tools-wisely&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#choose-your-communication-tools-wisely&quot; aria-label=&quot;choose your communication tools wisely permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Choose your communication tools wisely&lt;/h2&gt;
&lt;p&gt;The first step in setting up to work within a distributed environment is to have the right tools in place.&lt;/p&gt;
&lt;p&gt;It is vital to make it easy for people to communicate: you don‚Äôt want to add any additional barrier to those already created by the distance.&lt;/p&gt;
&lt;p&gt;Whether people sit in the same office or not, &lt;strong&gt;you need a tool to organise and track the work&lt;/strong&gt;: &lt;a href=&quot;https://www.atlassian.com/software/jira&quot;&gt;Jira&lt;/a&gt; and &lt;a href=&quot;https://trello.com/&quot;&gt;Trello&lt;/a&gt; are the most widely used solutions nowadays, pick the one you and your team like the most, no big deals here. I love physical boards and sticky notes, but they are just not practical with distributed teams.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://slack.com/&quot;&gt;Slack&lt;/a&gt;, &lt;a href=&quot;https://teams.microsoft.com/start&quot;&gt;Teams&lt;/a&gt;, &lt;a href=&quot;https://www.skype.com/&quot;&gt;Skype&lt;/a&gt; are all valid &lt;strong&gt;chat/conference call&lt;/strong&gt; tools that given a good internet connection, will do their job: it‚Äôs just a matter of preference. &lt;strong&gt;Choose only one tool&lt;/strong&gt; though, so the chances of discussions getting lost are minimised.&lt;/p&gt;
&lt;p&gt;Make sure you invest in &lt;strong&gt;good headsets:&lt;/strong&gt; I found &lt;a href=&quot;https://en-uk.sennheiser.com/pc-5-chat&quot;&gt;Sennheiser PC 5 CHAT&lt;/a&gt; to be cheap and work perfectly for internet calls.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 900px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/649c86f438eed7db0c28b0df5c21ac1e/3acf0/vintage_telephone_on_the_wall.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 66.66666666666666%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAQFA//EABYBAQEBAAAAAAAAAAAAAAAAAAEAAv/aAAwDAQACEAMQAAAB2XpKxPGzL//EABoQAAMAAwEAAAAAAAAAAAAAAAABEQISIzH/2gAIAQEAAQUCvR509IrFNEj/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAbEAABBAMAAAAAAAAAAAAAAAAAAQIQIRESMf/aAAgBAQAGPwLUWuRkdUf/xAAbEAEBAQACAwAAAAAAAAAAAAABEQAhMUFhsf/aAAgBAQABPyFBE0v2YQ2Zaxyda6ENj73jb//aAAwDAQACAAMAAAAQp/8A/8QAFREBAQAAAAAAAAAAAAAAAAAAABH/2gAIAQMBAT8QqP/EABURAQEAAAAAAAAAAAAAAAAAABAR/9oACAECAQE/EIf/xAAfEAEAAgEDBQAAAAAAAAAAAAABACERMVFhQXGBkfD/2gAIAQEAAT8QFYqit9um1wU045e9meMVWS9h7bZImSjX5zNAcGuJ/9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Vintage telephone on the wall&quot;
        title=&quot;Photo by [Pavan Trikutam](https://unsplash.com/@ptrikutam) / [Unsplash](https://unsplash.com)&quot;
        src=&quot;/static/649c86f438eed7db0c28b0df5c21ac1e/8e1fc/vintage_telephone_on_the_wall.jpg&quot;
        srcset=&quot;/static/649c86f438eed7db0c28b0df5c21ac1e/863e1/vintage_telephone_on_the_wall.jpg 225w,
/static/649c86f438eed7db0c28b0df5c21ac1e/20e5d/vintage_telephone_on_the_wall.jpg 450w,
/static/649c86f438eed7db0c28b0df5c21ac1e/8e1fc/vintage_telephone_on_the_wall.jpg 900w,
/static/649c86f438eed7db0c28b0df5c21ac1e/b768e/vintage_telephone_on_the_wall.jpg 1350w,
/static/649c86f438eed7db0c28b0df5c21ac1e/d9c39/vintage_telephone_on_the_wall.jpg 1800w,
/static/649c86f438eed7db0c28b0df5c21ac1e/3acf0/vintage_telephone_on_the_wall.jpg 2000w&quot;
        sizes=&quot;(max-width: 900px) 100vw, 900px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;&lt;p&gt;Photo by &lt;a href=&quot;https://unsplash.com/@ptrikutam&quot;&gt;Pavan Trikutam&lt;/a&gt; / &lt;a href=&quot;https://unsplash.com&quot;&gt;Unsplash&lt;/a&gt;&lt;/p&gt;&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Buy the &lt;strong&gt;right hardware for your meeting rooms:&lt;/strong&gt; if you work with Macs, I found &lt;a href=&quot;https://www.apple.com/uk/tv/&quot;&gt;Apple TV&lt;/a&gt; to be very helpful when it comes to sharing your screen/audio during a call. Another option may be to use &lt;a href=&quot;https://store.google.com/gb/product/chromecast&quot;&gt;Chromecast&lt;/a&gt;. Also related to setting up your rooms, having a &lt;strong&gt;conference speakerphone&lt;/strong&gt; can really make a difference when many people are sat around a table and far from the laptop: &lt;a href=&quot;https://www.jabra.co.uk/business/speakerphones/jabra-speak-series/jabra-speak-410#/#100-43000000-40&quot;&gt;Jabra Speak 410&lt;/a&gt; proved to be effective for this in my experience. And don‚Äôt forget a good 1080p webcam!&lt;/p&gt;
&lt;p&gt;In my experience I found that meetings with everyone in the same room sitting around a microphone are not as effective as meetings when everyone dials in from his/her desk with their headset on: you always end up having issues with people sitting too far from the table and not being heard. My suggestion is for everyone dial in from their desk, regardless of how many people are involved in the call.&lt;/p&gt;
&lt;p&gt;If your employees are not co-located, then treat every meeting as remote and strive for:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;frequent communication&lt;/em&gt;: frequent, spontaneous communications mitigates the effect of distribution on both interpersonal and task conflict and is also linked to highest trust&lt;/li&gt;
&lt;li&gt;&lt;em&gt;face-to-face communication&lt;/em&gt;: perceived as critical early on in a team‚Äôs development and seen as a behaviour that will enhance MNMC team effectiveness (although as time goes on and team members become more familiar with each other, non face-to-face communication don‚Äôt seem to hinder team‚Äôs dynamics)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;communicate-early-communicate-often&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#communicate-early-communicate-often&quot; aria-label=&quot;communicate early communicate often permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Communicate early, communicate often&lt;/h2&gt;
&lt;p&gt;With distributed teams, it is important to learn the value of &lt;strong&gt;over-communicating&lt;/strong&gt;: when decisions are made, they need to be communicated immediately to &lt;strong&gt;everyone&lt;/strong&gt;, along with the reason behind the decision. It‚Äôs important that everyone have a vision of what is going on in the organisation and the role they can play in making that vision become a reality.&lt;/p&gt;
&lt;p&gt;The risk of teams around the globe working on outdated/wrong information is too high to delay the communication process: make sure everyone always have the latest updates and can adjust their job based on that.&lt;/p&gt;
&lt;h2 id=&quot;hire-a-developer-advocate&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#hire-a-developer-advocate&quot; aria-label=&quot;hire a developer advocate permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Hire a developer advocate&lt;/h2&gt;
&lt;p&gt;A developer advocate is someone who makes other developers‚Äô lives easier: too often developers are busy shipping feature and can‚Äôt spend time improving their development experience, that‚Äôs when a developer advocate comes in.&lt;/p&gt;
&lt;p&gt;They:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;automate tedious tasks&lt;/li&gt;
&lt;li&gt;prepare ‚ÄúGetting started‚Äù guides for new hires&lt;/li&gt;
&lt;li&gt;prepare guidelines for bug reports and troubleshooting how-tos&lt;/li&gt;
&lt;li&gt;help with the definition of Done and Ready&lt;/li&gt;
&lt;li&gt;structure code reviews&lt;/li&gt;
&lt;li&gt;defines coding standards and find tools to enforce them&lt;/li&gt;
&lt;li&gt;improves the deployment process&lt;/li&gt;
&lt;li&gt;and the list goes on&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;All this with the aim of increasing productivity and improving the developers‚Äô lives (which leads to better retention, btw).&lt;/p&gt;
&lt;p&gt;The above points become much more important with distributed teams: given that fast communication is not always possible, having tools and guides in place can make the difference between getting stuck for a day or being able to progress to the next task.&lt;/p&gt;
&lt;p&gt;In general, embrace simplicity and automate whatever possible: the simpler your projects are and the easier it is to work with them, the more productive developers will be. You want to keep the &lt;a href=&quot;https://en.wikipedia.org/wiki/Cognitive_load&quot;&gt;cognitive load&lt;/a&gt; as low as possible: co-locate documentation with code, create standards for all teams to follow, enforce and document them and let everyone know, organise workshops and ‚Äúsell‚Äù these concepts to everyone.&lt;/p&gt;
&lt;h2 id=&quot;clearly-define-and-document-roles&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#clearly-define-and-document-roles&quot; aria-label=&quot;clearly define and document roles permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Clearly define and document roles&lt;/h2&gt;
&lt;p&gt;You can expect people from different teams to have never worked together before so it is important that everyone in every teams know exactly the complete hierarchy with names, photos and ways of getting in touch. This way everyone will always know who to get in touch with depending on the issue they‚Äôre having or the information they‚Äôre seeking.&lt;/p&gt;
&lt;p&gt;This diagram would also outline a clear &lt;strong&gt;escalation path&lt;/strong&gt; if an issue arises.&lt;/p&gt;
&lt;h2 id=&quot;write-everything-down-always&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#write-everything-down-always&quot; aria-label=&quot;write everything down always permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Write everything down, always&lt;/h2&gt;
&lt;p&gt;This is a rule that everyone should follow, whatever the team nature, but it becomes vital when people are not co-located.&lt;/p&gt;
&lt;p&gt;Important discussions don‚Äôt (can‚Äôt) always happen during conference calls, decisions are made during a quick lunch, ideas have the tendency to reveal themselves to us at the most peculiar times, but we need all the team to be involved and everyone to know: that is why comments in Jira/Trello are so important as they give everyone visibility over the work that‚Äôs being done.&lt;/p&gt;
&lt;p&gt;Use the comments, update stories/cards often and use your product management tool as source of truth for everyone.&lt;/p&gt;
&lt;h2 id=&quot;enjoy-the-pleasures-and-pains-of-time-zone-differences&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#enjoy-the-pleasures-and-pains-of-time-zone-differences&quot; aria-label=&quot;enjoy the pleasures and pains of time zone differences permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Enjoy the pleasures and pains of time zone differences&lt;/h2&gt;
&lt;p&gt;Multinational multicultural distributed teams present opportunities and challenges to organisations: having teams working in different time zones is usually seen as a problem because people have a hard time organising meetings where everyone can attend and issues are resolved slowly because of lack of quick communication.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 900px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/37ddaad3910758e92b30540825b50795/3acf0/tomada_en_mi_oficina_monterrey.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 75.11111111111111%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAECBP/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHbLiNYw//EABkQAQEAAwEAAAAAAAAAAAAAAAECABESE//aAAgBAQABBQJp69HJdzY0EVvP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAGRABAAIDAAAAAAAAAAAAAAAAABEhARAx/9oACAEBAAY/AocSpi9f/8QAGhABAAMBAQEAAAAAAAAAAAAAAQARIaFBgf/aAAgBAQABPyE2EKV8ciAilm4fGAWmclz/2gAMAwEAAgADAAAAENgv/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAHBABAQEAAQUAAAAAAAAAAAAAAREAECExUWFx/9oACAEBAAE/EB4u9iNfLukCKLGejoahUwACjVIOUjEVVvxw/9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Clocks on the wall&quot;
        title=&quot;Tomada en mi oficina Monterrey. Photo by [Luis Cortes](https://unsplash.com/@luiscortestamez) / [Unsplash](https://unsplash.com)&quot;
        src=&quot;/static/37ddaad3910758e92b30540825b50795/8e1fc/tomada_en_mi_oficina_monterrey.jpg&quot;
        srcset=&quot;/static/37ddaad3910758e92b30540825b50795/863e1/tomada_en_mi_oficina_monterrey.jpg 225w,
/static/37ddaad3910758e92b30540825b50795/20e5d/tomada_en_mi_oficina_monterrey.jpg 450w,
/static/37ddaad3910758e92b30540825b50795/8e1fc/tomada_en_mi_oficina_monterrey.jpg 900w,
/static/37ddaad3910758e92b30540825b50795/b768e/tomada_en_mi_oficina_monterrey.jpg 1350w,
/static/37ddaad3910758e92b30540825b50795/d9c39/tomada_en_mi_oficina_monterrey.jpg 1800w,
/static/37ddaad3910758e92b30540825b50795/3acf0/tomada_en_mi_oficina_monterrey.jpg 2000w&quot;
        sizes=&quot;(max-width: 900px) 100vw, 900px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;&lt;p&gt;Tomada en mi oficina Monterrey. Photo by &lt;a href=&quot;https://unsplash.com/@luiscortestamez&quot;&gt;Luis Cortes&lt;/a&gt; / &lt;a href=&quot;https://unsplash.com&quot;&gt;Unsplash&lt;/a&gt;&lt;/p&gt;&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Although this definitely represents a challenge, it can also represent an opportunity to prolong the work cycle and increase velocity. In such an environment, blockers can be passed to a fresh pair of eyes at the end of the day and possibly get resolved by next morning, something that would be impossible when following the same working hours.&lt;/p&gt;
&lt;p&gt;Of course it all comes at a cost, and teams situated in different time zones require more preparation.&lt;/p&gt;
&lt;p&gt;To remove all possible issues and blockers, make sure you:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;spend time during your day (and before their day start) to organise work and detail everything to limit the unknowns and make every team a self-sufficient unit&lt;/li&gt;
&lt;li&gt;review code or designs as soon as possible&lt;/li&gt;
&lt;li&gt;leave actionable feedbacks in the comments&lt;/li&gt;
&lt;li&gt;ensure they can be as independent as possible during their day and always plan more work in advance so if anything comes up they can progress to another task without getting blocked&lt;/li&gt;
&lt;li&gt;find the golden time when everyone is online and move stand up to that time. If the time difference is really relevant, you may only have a small window of time: use it to make everyone meet and have at least standup all together&lt;/li&gt;
&lt;li&gt;structure your teams as if the whole team was remote: there are not first-class citizens working in a central location, everyone is a remote worker&lt;/li&gt;
&lt;li&gt;Alternate time zones: if you need to have meetings at inconvenient times, make sure you make it ‚Äúinconvenient‚Äù for a different team each month&lt;/li&gt;
&lt;li&gt;have people from different teams having informal 1:1 once a week: this helps building relationships and trust, making it easier in the future for everyone to communicate issues and blockers without fear. Make a rule to not cancel them because of a ‚Äúmore‚Äù important meeting&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;respect-and-embrace-cultural-differences&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#respect-and-embrace-cultural-differences&quot; aria-label=&quot;respect and embrace cultural differences permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Respect and embrace cultural differences&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;Globally distributed teams will be effective vehicles for knowledge sharing in an organisation as long as individuals learn the cultural logic of others‚Äô divergent beliefs. If not, culture is constructed as something which divides individuals.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;em&gt;&lt;a href=&quot;https://pdfs.semanticscholar.org/e3b9/57e8c1f6a286ce3b8876c12701a073a8f0c5.pdf&quot;&gt;Multinational and Multicultural Distributed Teams: A Review and Future Agenda&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;When working with people living in other parts of the world, there is so much more than a cold colleague-to-colleague relationship to be experienced: I am always impressed by the differences in the way of working and living that I get to experience whenever I work with a new team.&lt;/p&gt;
&lt;p&gt;I always make it a priority to get to know and experience their culture as much as possible: be it food, architecture, history. Every country has something peculiar that can spark my interest and that enriches not only me as a person but gives me a common ground to create a better environment at work. Just by looking at specific traits of a country can reveal so much about the people I am working with and, needless to say, helps a lot with the daily work relationships.&lt;/p&gt;
&lt;p&gt;Knowing people personalities, habits and needs will help you with the daily organisation of work in a way that can improve productivity and boost team morale: people that see their culture respected will inevitably be happier when working with you. This may mean adjusting your communication patterns to use/avoid words or phrases that may be offensive, moving meetings to avoid specific parts of their day.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 900px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/c35da6146737be7a8aa72f648ed8f007/3acf0/party_fans_raised_their_hands.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 66.66666666666666%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAIBBAX/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAv/aAAwDAQACEAMQAAABWxmNFyAf/8QAGhAAAgMBAQAAAAAAAAAAAAAAAQIAEiEDEf/aAAgBAQABBQJirxFShTb7YwdPJ//EABURAQEAAAAAAAAAAAAAAAAAAAAh/9oACAEDAQE/AYj/xAAVEQEBAAAAAAAAAAAAAAAAAAAAIf/aAAgBAgEBPwFX/8QAGxAAAwACAwAAAAAAAAAAAAAAAAERAjEhImH/2gAIAQEABj8C7qsSxcuzYqhv05xp/8QAGBABAQEBAQAAAAAAAAAAAAAAAREAITH/2gAIAQEAAT8hrKUnPdUe6Nxi846AZltAuNNq7//aAAwDAQACAAMAAAAQJO//xAAXEQADAQAAAAAAAAAAAAAAAAAAAVER/9oACAEDAQE/EFRln//EABcRAQEBAQAAAAAAAAAAAAAAAAEAEVH/2gAIAQIBAT8QRt4v/8QAHBABAAMAAwEBAAAAAAAAAAAAAQARITFB8FHB/9oACAEBAAE/EFswiqr15j3URdPg+7go4KUm4p+SgDhzi17WDM6jDPcSmJpyBe1P/9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Party fans raised their hands&quot;
        title=&quot;Photo by [Anthony DELANOIX](https://unsplash.com/@anthonydelanoix) / [Unsplash](https://unsplash.com)&quot;
        src=&quot;/static/c35da6146737be7a8aa72f648ed8f007/8e1fc/party_fans_raised_their_hands.jpg&quot;
        srcset=&quot;/static/c35da6146737be7a8aa72f648ed8f007/863e1/party_fans_raised_their_hands.jpg 225w,
/static/c35da6146737be7a8aa72f648ed8f007/20e5d/party_fans_raised_their_hands.jpg 450w,
/static/c35da6146737be7a8aa72f648ed8f007/8e1fc/party_fans_raised_their_hands.jpg 900w,
/static/c35da6146737be7a8aa72f648ed8f007/b768e/party_fans_raised_their_hands.jpg 1350w,
/static/c35da6146737be7a8aa72f648ed8f007/d9c39/party_fans_raised_their_hands.jpg 1800w,
/static/c35da6146737be7a8aa72f648ed8f007/3acf0/party_fans_raised_their_hands.jpg 2000w&quot;
        sizes=&quot;(max-width: 900px) 100vw, 900px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;&lt;p&gt;Photo by &lt;a href=&quot;https://unsplash.com/@anthonydelanoix&quot;&gt;Anthony DELANOIX&lt;/a&gt; / &lt;a href=&quot;https://unsplash.com&quot;&gt;Unsplash&lt;/a&gt;&lt;/p&gt;&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;If you‚Äôre interested in finding out more, &lt;a href=&quot;https://www.infoq.com/articles/culture-distributed-team/&quot;&gt;Managing Cultural Differences in Your Distributed Team&lt;/a&gt; is a good read.&lt;/p&gt;
&lt;h2 id=&quot;experience-their-culture-in-person-whenever-you-can-aka-invest-in-airfare&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#experience-their-culture-in-person-whenever-you-can-aka-invest-in-airfare&quot; aria-label=&quot;experience their culture in person whenever you can aka invest in airfare permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Experience their culture in person whenever you can, aka invest in airfare&lt;/h2&gt;
&lt;p&gt;There is something unique in meeting someone in person and breaking that electronic barrier.&lt;/p&gt;
&lt;p&gt;Interactions that happen when working in the same office are impossible to reproduce when teams are distributed, so you should try to get all your teams together as often as possible, not only to talk about work, but (mainly) to have fun and get to know each other: common experiences are the building block of trust and the return you get from it far outweighs the airfare to get everyone in the same place (well, maybe not for big companies).&lt;/p&gt;
&lt;p&gt;The simple act of tapping someone on the shoulder &lt;a href=&quot;https://www.healthline.com/health/hugging-benefits&quot;&gt;releases oxytocin&lt;/a&gt; and improve a person‚Äôs feelings (reduced stress, increased happiness, improved communication).&lt;/p&gt;
&lt;p&gt;Make sure to budget for travel and you‚Äôll experience an increased productivity from day one.&lt;/p&gt;
&lt;h2 id=&quot;its-not-all-about-work&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#its-not-all-about-work&quot; aria-label=&quot;its not all about work permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;It‚Äôs not all about work&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;Thanks to &lt;a href=&quot;https://www.linkedin.com/in/hugoraymond/&quot;&gt;Hugo Raymond&lt;/a&gt; for the help on this paragraph.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Think about all the micro-interactions you have on a day-to-day basis that make where you work an enjoyable place to spend the best part of your day: how do you replicate these when working with distributed teams?&lt;/p&gt;
&lt;p&gt;The first, obvious answer is to try and spend time together, in person, but this is seldom achievable for companies with multiple teams.&lt;/p&gt;
&lt;p&gt;Another way, that can work every day and build lasting rapports is to use your communication tool (Slack, Teams, whatever) and create a safe place that everyone can access: create a ‚ÄúFun‚Äù channel and let people create sub-channels with things that interest them. It could be a book club, where every week people from around the globe share the book they‚Äôre reading, review previous ones and give suggestions to other people. It could be a photography channel where photos are shared and commented, the latest gears discussed, tips are given. There could be weekly or monthly assignments like ‚ÄúStill life‚Äù or ‚ÄúAutumn leaves‚Äù where people from around all the offices share their pics: a wonderful way to show the diversity and beauty of different countries.&lt;/p&gt;
&lt;p&gt;To some this may seem like ‚Äúorganised fun‚Äù but you only need a few passionate champions for those who are interested in the social part, to engage, for it to then become a success.&lt;/p&gt;
&lt;h2 id=&quot;if-you-read-until-here-may-as-well-watch-this&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#if-you-read-until-here-may-as-well-watch-this&quot; aria-label=&quot;if you read until here may as well watch this permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;If you read until here, may as well watch this!&lt;/h2&gt;
&lt;p&gt;Jilanna Wilson keeps the love light burning for a team that is spread across 5 continents and 8 time zones and shares some of her knowledge in this video from the DesignOps Summit 2019:&lt;/p&gt;
&lt;p&gt;Good luck, and ‚ù§Ô∏è your remote teams, they‚Äôre good for you!&lt;/p&gt;
&lt;h3 id=&quot;references&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#references&quot; aria-label=&quot;references permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;References&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://www.atlassian.com/agile/teams/remote-teams&quot;&gt;https://www.atlassian.com/agile/teams/remote-teams&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://djangostars.com/blog/how-to-manage-a-software-development-team-across-time-zones/&quot;&gt;https://djangostars.com/blog/how-to-manage-a-software-development-team-across-time-zones/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://pdfs.semanticscholar.org/e3b9/57e8c1f6a286ce3b8876c12701a073a8f0c5.pdf&quot;&gt;https://pdfs.semanticscholar.org/e3b9/57e8c1f6a286ce3b8876c12701a073a8f0c5.pdf&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.452.8295&amp;#x26;rep=rep1&amp;#x26;type=pdf#page=239&quot;&gt;http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.452.8295&amp;#x26;rep=rep1&amp;#x26;type=pdf#page=239&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://onlinelibrary.wiley.com/doi/epdf/10.1002/j.1681-4835.2002.tb00040.x&quot;&gt;https://onlinelibrary.wiley.com/doi/epdf/10.1002/j.1681-4835.2002.tb00040.x&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.ineer.org/Events/ICEE2004/Proceedings/Papers/430_ICEE_2004_final_(1).pdf&quot;&gt;http://www.ineer.org/Events/ICEE2004/Proceedings/Papers/430_ICEE_2004_final_(1).pdf&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[On being productive]]></title><description><![CDATA[Our day is bombarded with inputs, things to be done and to be done on time: the more our lives become dynamic, the less can we rely on‚Ä¶]]></description><link>https://www.riccardocoppola.me/blog/on-being-productive/</link><guid isPermaLink="false">https://www.riccardocoppola.me/blog/on-being-productive/</guid><pubDate>Tue, 30 Jul 2019 21:16:00 GMT</pubDate><content:encoded>&lt;p&gt;Our day is bombarded with inputs, things to be done and to be done on time: the more our lives become dynamic, the less can we rely on routine to remember what we need to do, so we need to develop new habits for being ‚Äúproductive‚Äù.&lt;/p&gt;
&lt;h2 id=&quot;defining-productivity-measuring-productivity&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#defining-productivity-measuring-productivity&quot; aria-label=&quot;defining productivity measuring productivity permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Defining productivity, measuring productivity&lt;/h2&gt;
&lt;p&gt;Productivity is the ratio of ‚Äúcompleted‚Äù things to ‚Äúsupposed to be completed‚Äù things, basically the rate at which we complete tasks.&lt;/p&gt;
&lt;p&gt;For me personally, being productive means also following up on more ‚Äúinputs‚Äù, don‚Äôt let things that may seem uninportant at first to be left behind.&lt;/p&gt;
&lt;p&gt;Part of the quest on being more productive for me wasn‚Äôt just about completing more actions, but actually generating more of them: that article that I meant to read but I forgot because I didn‚Äôt save it anywhere, that email that I wanted to follow up on but then forgot, that refund I had to request but got lost in the many other things I had to do. The list goes on and these are all lost opportunities.&lt;/p&gt;
&lt;h2 id=&quot;what-needs-to-be-done&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#what-needs-to-be-done&quot; aria-label=&quot;what needs to be done permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;What needs to be done?&lt;/h2&gt;
&lt;p&gt;Be it business or personal life, to be more productive we need to learn how to handle the inputs that our day throws at us.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;An input is anything that could require something to be done in response.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Following are my main inputs:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Thoughts (while reading an article/book, an idea to work on üí°)&lt;/li&gt;
&lt;li&gt;Emails (call back the accountant to discuss the latest tax return, complain about that gas bill you just received in your inbox)&lt;/li&gt;
&lt;li&gt;Instant messaging/team messaging (review that article sent by a peer, save the date for the event suggested in the group chat)&lt;/li&gt;
&lt;li&gt;Social media (read the blog posted on that tweet, buy a framed photo posted by my favourite photographer on IG)&lt;/li&gt;
&lt;li&gt;Real world (billboards on the street, paper mail to follow up on)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;How to react to those inputs and turn them into actions is the focus of this article.&lt;/p&gt;
&lt;h2 id=&quot;managing-actions&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#managing-actions&quot; aria-label=&quot;managing actions permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Managing actions&lt;/h2&gt;
&lt;p&gt;I manage all actions (tasks) with &lt;a href=&quot;https://trello.com/&quot;&gt;&lt;strong&gt;Trello&lt;/strong&gt;&lt;/a&gt;. Nothing new here.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Trello‚Äôs boards, lists, and cards enable you to organize and prioritize your projects in a fun, flexible, and rewarding way.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Trello is a fantastic tool to handle tasks from their inceptions down to their completion, and it‚Äôs free.&lt;/p&gt;
&lt;p&gt;What can be tricky in Trello is how to organize the board in a way that can help you achieve your goals faster.&lt;/p&gt;
&lt;p&gt;After a few rounds of trial and error I came up with a 4-columns layout that serves me very well:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Incoming&lt;/strong&gt;: Any new task goes here when it first gets created&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Next&lt;/strong&gt;: These are the tasks that I decide to focus on next: they don‚Äôt have to be done all in one day, but this is what my short term focus&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Rejected/Failed&lt;/strong&gt;: When reviewing the Incoming column I may decide that some actions are not needed after all, or after trying to work on the I may realise that it was a mistake: in that case I‚Äôd just drop them into this column&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Done&lt;/strong&gt;: The most satisfactory column: whenever something is done, drag it all the way to the end. This is the reason Done is the last column&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 900px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/6fe37843d7f37000114dfa4e632b0fdf/7b67d/Personal___Trello.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 54.666666666666664%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAABYlAAAWJQFJUiTwAAACh0lEQVQozy3H7U8ScQDA8Xvna9fWm7Zqc/U39LqtV26+K7fWi2qNnjRX2cpl84GyfAAFDNEJ4iHgGaJWpilyYHmgcsJx9/vdj7uDewb0BWB/Qeth+7z4frEYLZB5ea9Q2YXGj0KVzEkkXTiQa7Raz2qNvFpj1Rqv15F5isxTzqhzZh0aDc5osEYDy4MSyxd141g3qop+zPFFuaRpelXTKqpeZTgpcwRKoqLpFVU7zvICKwqaXlW1sqhWMZLTkpyeAEYSGAlgkMCIczoJzQQ0SWD8iyRf/rPQjMPyDjBj0NgCxjdgYi4KuijelULOFBpP8TaKH6XQMIWG9/gRCtkoNEEVHKmCM11w/Cc404IrLUymBczDiDOs5ANFHMrzQPZDxcsrs0D2AmUOqjhQg1AjkL6EdOKvMNTCUAsCNQRUzJ1FU0xhlhW9rDDPqzM55GMEP5RnudIcW8K5UhDIBFTDQA7kJR8j4mzRz8nTOcmdQdi7DGPLATcQF5TK4Jdoq+V678TLzcPDdSSvSeqaqCyhYogtBhjkP+Im93P2dO5jfNe1nRj6SWMelvdmmcB+us8z1N1tcQxYe1914FNTAsMzQNrLCxsMImjwieYiNBvKML7d9HIA/x4mgpskthSPjdiHe7qe3rrR9vxR5+SHcXuf9U3no4gfT1HZnFA+4DWudCKVT6FWY8VKjEztZ0COl2lWxNy2Gdy9QPhXBl6/fXj73jOLpb3tauu1K55x59eV9Z2N+Moi4ZkYjQYWVsPhsff9d262EqFF8eQXV65hkSi5vBz7vEoG5qNO+3RX54v7D56MjrkjQcLa0+GwDj6+297S0txysfnS5TNnzzedu9A02N+bR0pya/s3d3zenKcbbooAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;The simple 4-columns layout&quot;
        title=&quot;The simple 4-columns layout&quot;
        src=&quot;/static/6fe37843d7f37000114dfa4e632b0fdf/1cfc2/Personal___Trello.png&quot;
        srcset=&quot;/static/6fe37843d7f37000114dfa4e632b0fdf/3684f/Personal___Trello.png 225w,
/static/6fe37843d7f37000114dfa4e632b0fdf/fc2a6/Personal___Trello.png 450w,
/static/6fe37843d7f37000114dfa4e632b0fdf/1cfc2/Personal___Trello.png 900w,
/static/6fe37843d7f37000114dfa4e632b0fdf/21482/Personal___Trello.png 1350w,
/static/6fe37843d7f37000114dfa4e632b0fdf/d61c2/Personal___Trello.png 1800w,
/static/6fe37843d7f37000114dfa4e632b0fdf/7b67d/Personal___Trello.png 2240w&quot;
        sizes=&quot;(max-width: 900px) 100vw, 900px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;If you wanted to keep things even easier, you could combine the last two columns into one: &lt;strong&gt;Rejected || Done&lt;/strong&gt; and switch to a 3-columns layout. I‚Äôve had this for a while and worked great too.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Rules&lt;/strong&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;to keep things neat, before starting a new week (usually on a Sunday evening) archive all cards in the Rejected and Done columns to have a clean board for the week to come&lt;/li&gt;
&lt;li&gt;tasks that have been in the Next column for a week have a very low chance of getting done: review them before the beginning of a new week and don‚Äôt be afraid to throw them in Rejected or put them back into Inbox. Your Next column should always reflect your current focus.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;how-many-boards&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#how-many-boards&quot; aria-label=&quot;how many boards permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;How many boards?&lt;/h3&gt;
&lt;p&gt;I‚Äôm a big fan of keeping things small and simple and I advocate the use of a single board.&lt;/p&gt;
&lt;p&gt;The reason is simple: as soon as we start having to focus on more than one board, the chance of missing actions increases. Switching constantly from one to another quickly becomes a burden and in my experience, one or more of the boards become neglected.&lt;/p&gt;
&lt;p&gt;My suggestion is to start with one and split into two only when you feel it‚Äôs strictly necessary.&lt;/p&gt;
&lt;p&gt;Use and abuse &lt;a href=&quot;https://help.trello.com/article/797-adding-labels-to-cards&quot;&gt;labels&lt;/a&gt; and &lt;a href=&quot;https://trello.com/shortcuts&quot;&gt;keyboard shortcuts&lt;/a&gt; to organise cards: colors are a great way to give you a bird‚Äôs-eye view of the type of actions you‚Äôre supposed to work on, making the use of a single board a lot easier.&lt;/p&gt;
&lt;h2 id=&quot;helper-tools&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#helper-tools&quot; aria-label=&quot;helper tools permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Helper tools&lt;/h2&gt;
&lt;h3 id=&quot;taking-quick-notes-along-the-way&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#taking-quick-notes-along-the-way&quot; aria-label=&quot;taking quick notes along the way permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Taking quick notes along the way&lt;/h3&gt;
&lt;p&gt;There are cases when you think about something and want to jot it down quickly, you don‚Äôt necessarily need to act on that just yet.&lt;/p&gt;
&lt;p&gt;In those scenarios, a notes app is your best friend. For me, a notes app needs to be fast to open and able to sync up across all my devices so I can later review my notes (feel free to use a paper notebook if you‚Äôd be so inclined).&lt;/p&gt;
&lt;p&gt;I use &lt;strong&gt;Apple Notes&lt;/strong&gt; whenever I need to get an idea out of my brain and into my &lt;a href=&quot;http://runrunlive.com/the-power-of-the-external-brain&quot;&gt;external brain&lt;/a&gt; for later review. &lt;a href=&quot;https://www.google.com/keep/&quot;&gt;Google Keep&lt;/a&gt; is a viable alternative.&lt;br&gt;
Be sure to choose an app that can be synced across devices for free (that‚Äôs why I don‚Äôt use Evernote) and that‚Äôs blazing fast to open, so you don‚Äôt miss the moment.&lt;/p&gt;
&lt;h3 id=&quot;remembering-dates-and-times&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#remembering-dates-and-times&quot; aria-label=&quot;remembering dates and times permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Remembering dates and times&lt;/h3&gt;
&lt;p&gt;Some of your actions will have a specific due date and time: to store time-specific actions I use &lt;a href=&quot;https://calendar.google.com&quot;&gt;&lt;strong&gt;Google Calendar&lt;/strong&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Whatever app you pick, make sure it‚Äôs got web, desktop and mobile apps so you can stay on top of your schedule no matter where you are and what‚Äôs available to you.&lt;/p&gt;
&lt;h3 id=&quot;capturing-the-moment&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#capturing-the-moment&quot; aria-label=&quot;capturing the moment permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Capturing the moment&lt;/h3&gt;
&lt;p&gt;A picture is worth a thousand words, and sometime there‚Äôs no better way to remember something than taking a snap of it.&lt;/p&gt;
&lt;p&gt;Better yet, any app you have on your phone will do just fine!&lt;/p&gt;
&lt;h2 id=&quot;creating-a-flow&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#creating-a-flow&quot; aria-label=&quot;creating a flow permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Creating a flow&lt;/h2&gt;
&lt;p&gt;The above apps (or better: tools) represent the bulk of my workflow, pretty much all I do ends up in one of them.&lt;/p&gt;
&lt;p&gt;It‚Äôs only when you start making them work together, though, that they start to shine.&lt;/p&gt;
&lt;h3 id=&quot;email-to-trello&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#email-to-trello&quot; aria-label=&quot;email to trello permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Email to Trello&lt;/h3&gt;
&lt;p&gt;By far my favourite feature: you can create a card in Trello by forwarding emails to your board.&lt;br&gt;
Follow &lt;a href=&quot;https://help.trello.com/article/809-creating-cards-by-email&quot;&gt;these steps&lt;/a&gt; to create an email address for your board and save that address into your email‚Äôs address book.&lt;/p&gt;
&lt;p&gt;Any time you receive an email and you have to follow up on that, forward it to your Trello board and archive it: a new card will be created (in a column that you‚Äôll have to specify, I use ‚ÄúIncoming‚Äù).&lt;/p&gt;
&lt;h3 id=&quot;web-to-trello&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#web-to-trello&quot; aria-label=&quot;web to trello permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Web to Trello&lt;/h3&gt;
&lt;p&gt;More often than not, browsing the web results in articles you want to read at a different time, things you want to buy later (yeah you may not want to save those üòÅ): use the &lt;a href=&quot;https://trello.com/en-GB/add-card&quot;&gt;Trello Bookmarklet&lt;/a&gt; to create a card from a web page.&lt;/p&gt;
&lt;h3 id=&quot;notes-to-trello&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#notes-to-trello&quot; aria-label=&quot;notes to trello permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Notes to Trello&lt;/h3&gt;
&lt;p&gt;Once your thoughts have been defined into a note and you‚Äôre ready to work on it, it‚Äôs time to get that note on to the board and act on it.&lt;/p&gt;
&lt;p&gt;In Apple Notes (but generally in any other notes app) use the share button and share it to Trello (Trello‚Äôs app needs to be installed on your device): a card will be created and again, you didn‚Äôt even have to open Trello.&lt;/p&gt;
&lt;h3 id=&quot;photos-to-trello&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#photos-to-trello&quot; aria-label=&quot;photos to trello permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Photos to Trello&lt;/h3&gt;
&lt;p&gt;Once you have your pic saved, use the share feature present on every photo app to share it to Trello: another card created!&lt;/p&gt;
&lt;h3 id=&quot;trello-to-google-calendar&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#trello-to-google-calendar&quot; aria-label=&quot;trello to google calendar permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Trello to Google Calendar&lt;/h3&gt;
&lt;p&gt;There will be tasks with a specific due date: for those kind of actions, you‚Äôll probably prefer to see them on your calendar app too, to make sure they are done on time.&lt;/p&gt;
&lt;p&gt;No need to add an event in your calendar, duplicating the effort: just set the due date on the Trello card and use &lt;a href=&quot;https://help.trello.com/article/829-using-trello-with-google-calendar&quot;&gt;this Power-Up&lt;/a&gt; to add the Trello calendar to your GCal: job done!&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;The above tools allow you to create a ‚Äúflow‚Äù of actions from any ‚Äúsource‚Äù into your board, where you can organize and act on them. This is the first step to being more productive.&lt;/p&gt;
&lt;p&gt;You may need other tools more specific to your needs, but as long as you make them work together in a way that channels your actions into one single place, you‚Äôll be able to act on them.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://zapier.com/&quot;&gt;Zapier&lt;/a&gt; can be of help when it comes to automating workflows, give it a go if you want take automation one step further.&lt;/p&gt;
&lt;h2 id=&quot;creating-a-habit&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#creating-a-habit&quot; aria-label=&quot;creating a habit permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Creating a habit&lt;/h2&gt;
&lt;p&gt;Having a nice board that no one use is no help, that‚Äôs why it‚Äôs important that you make a habit of having it in front of you every day: let it become integral part of your daily routine.&lt;/p&gt;
&lt;p&gt;Only you can act on those actions and you can only do that if you see them in the first place.&lt;/p&gt;
&lt;p&gt;Install Trello in every device you take with you, make a habit of keeping a tab open on it in your browser, or check the app on your phone first thing in the morning, as part of your breakfast routine. Keep going back to it during the day to remind yourself of what needs to be done.&lt;/p&gt;
&lt;p&gt;Set a daily reminder (or use &lt;a href=&quot;https://habitify.me/&quot;&gt;Habitify&lt;/a&gt;) if you need to get into the habit, and stick with that every day, come what may: it can take a &lt;a href=&quot;https://jamesclear.com/new-habit&quot;&gt;couple of months to form a new habit&lt;/a&gt;, so stay consistent.&lt;/p&gt;
&lt;h2 id=&quot;conclusions&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#conclusions&quot; aria-label=&quot;conclusions permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Conclusions&lt;/h2&gt;
&lt;p&gt;Being more productive comes down to being more focussed and using the right tools in the simplest way: whatever method you pick, stick with it and be consistent, that‚Äôs the best way to get results.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[IT contracting: how to get started]]></title><description><![CDATA[How do I open a company? How do I start trading and make sure that I stay compliant with all the laws? Who do I need to talk to? How long‚Ä¶]]></description><link>https://www.riccardocoppola.me/blog/it-contracting-how-to-get-started/</link><guid isPermaLink="false">https://www.riccardocoppola.me/blog/it-contracting-how-to-get-started/</guid><pubDate>Mon, 03 Jun 2019 09:38:21 GMT</pubDate><content:encoded>&lt;p&gt;How do I open a company? How do I start trading and make sure that I stay compliant with all the laws? Who do I need to talk to? How long does it take? How much does it cost?&lt;/p&gt;
&lt;p&gt;These are just a few questions I had in mind when I decided to go contracting: in this post I‚Äôll go through the answers and show that, after all, running a small company is not that difficult.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Disclaimer: I started contracting not long ago and am no expert. I had to go through all the initial setup and decisions recently though, so I thought I‚Äôd put everything down in case I had to do it all over again. Feel free to pick and choose what you feel can be helpful for you.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;I won‚Äôt touch on the reasons why becoming a contractor may or may not be the best course of actions, but I will go through the steps that I think should be followed once someone has decided to go contracting through his or her own limited company. Since the technicalities of getting all up and running are usually the reason why this decision is delayed, clarifying the steps may help someone take the leap.&lt;/p&gt;
&lt;p&gt;Getting ready to being able to sign a contract doesn‚Äôt require a massive amount of time or effort, but there are a few things that need to be done correctly in order to set you up for success: following are the steps I wish I had followed when I decided to go contracting.&lt;/p&gt;
&lt;h2 id=&quot;incorporating-an-ltd-company&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#incorporating-an-ltd-company&quot; aria-label=&quot;incorporating an ltd company permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Incorporating an LTD company&lt;/h2&gt;
&lt;p&gt;The first step to get into contracting is to open your own limited company.&lt;/p&gt;
&lt;p&gt;There are other ways, like trading under an umbrella company or running as a sole trader, but the LTD is the most common option for contractors (and the only one I have experience with).&lt;br&gt;
If you want to compare different options, you may find &lt;a href=&quot;https://www.crunch.co.uk/knowledge/company-structure/sole-trader-umbrella-limited-company-whats-best/&quot;&gt;this article&lt;/a&gt; helpful.&lt;/p&gt;
&lt;p&gt;Incorporation in the UK is an easy process and can be done online: you need to have a name ready, know where your company will be based (I‚Äôll touch on this in a sec), what type of LTD will it be (&lt;em&gt;Limited by shares&lt;/em&gt; is the standard for contractors) and who will be part of it (just you probably).&lt;/p&gt;
&lt;p&gt;Once you have all the required info, there are a few options for filing the company:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Online on the &lt;a href=&quot;https://www.gov.uk/set-up-limited-company&quot;&gt;Companies House&lt;/a&gt; website: it costs ¬£12 and can be paid by debit or credit card or Paypal. Your company is usually registered within 24 hours. The process is easy enough and you will get your company registered quickly.&lt;/li&gt;
&lt;li&gt;Online using a company formation agent: there are tons of services online that take the burden of registering the company off of you. They usually cost more than Companies House (ranging from ¬£10 to ¬£100+) because they bundle other services together with the basic incorporation.&lt;/li&gt;
&lt;li&gt;Using your accountant, if they offer the service: this is probably the easiest way, but if you‚Äôre a control freak like me you‚Äôll go for one of the options above.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;I decided to go for option 2 and used &lt;a href=&quot;https://www.companiesmadesimple.com&quot;&gt;Companies Made Simple&lt;/a&gt; Privacy package at ¬£29.99+VAT.&lt;/p&gt;
&lt;p&gt;I did this for a couple of reasons:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;I was opening the company but didn‚Äôt want to hire an accountant (and start paying the fee) before I absolutely needed one (which is after I secured a contract and started to work)&lt;/li&gt;
&lt;li&gt;I wanted to keep my personal address private&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I incorporated my company as soon as I started to look for a contract and didn‚Äôt know how long it would take, so starting to pay the accountant‚Äôs fee didn‚Äôt make sense.&lt;/p&gt;
&lt;p&gt;To be able to accept a contract you only need a company name (and number, assigned to you by Companies House) and indemnity insurance, so that was exactly what I was going to do.&lt;/p&gt;
&lt;p&gt;The second point deserves some more explaining: all limited companies and directors must provide Companies House with a UK address, which can be your home address if you want. To avoid the risk of &lt;a href=&quot;https://www.met.police.uk/advice/advice-and-information/fa/fraud/personal-fraud/identity-fraud/&quot;&gt;identity fraud&lt;/a&gt;, though, I highly recommend you don‚Äôt expose it to the public.&lt;/p&gt;
&lt;p&gt;The privacy package I chose includes the ‚ÄúDirector Service Address‚Äù which basically allows me to use a central London address and keep the residential address off the public register.&lt;br&gt;
Also, all official government mail (from Companies House, HMRC and Government Gateway) is scanned and emailed straight to me in digital form.&lt;/p&gt;
&lt;p&gt;This is also useful if your rental property agreement doesn‚Äôt allow business use.&lt;/p&gt;
&lt;h2 id=&quot;getting-insured&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#getting-insured&quot; aria-label=&quot;getting insured permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Getting insured&lt;/h2&gt;
&lt;p&gt;The second thing I needed to be able to sign my first contract was an indemnity insurance.&lt;/p&gt;
&lt;p&gt;Working as a contractor through a limited company means the company is liable (and you as director/shareholder) and a client may come after you if you committed an error delivering your services.&lt;/p&gt;
&lt;p&gt;Many companies just won‚Äôt work with a contractor that is not covered by insurance, so it is mandatory.&lt;br&gt;
Your clients will let their liability requirements known before you can take the contract, but I found that the following is well accepted in the private sector:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Public liability: ¬£2,000,000&lt;/li&gt;
&lt;li&gt;Professional indemnity: ¬£1,000,000&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;There are plenty of options online to choose from: &lt;a href=&quot;https://www.hiscox.co.uk&quot;&gt;Hiscox&lt;/a&gt; and &lt;a href=&quot;https://withjack.co.uk/&quot;&gt;With Jack&lt;/a&gt; are worth checking out, and &lt;a href=&quot;https://www.simplybusiness.co.uk/insurance/it-contractors/&quot;&gt;SimplyBusiness&lt;/a&gt; is a nice comparison tool.&lt;/p&gt;
&lt;p&gt;I decided to go for &lt;a href=&quot;https://www.crunch.co.uk/what-we-do/small-business-insurance/&quot;&gt;Crunch&lt;/a&gt; and paid about ¬£300 for one year of cover.&lt;/p&gt;
&lt;p&gt;With the LTD and insurance ready, and about ¬£330 invested, I was able to sign my first contract and start working.&lt;/p&gt;
&lt;h2 id=&quot;finding-an-accountant&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#finding-an-accountant&quot; aria-label=&quot;finding an accountant permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Finding an accountant&lt;/h2&gt;
&lt;p&gt;As I was starting from scratch in the contracting world with pretty much no idea of what I was doing or what I had to do, finding an accountant was both an important and intimidating task.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Accountants take care of all the admin, deal with HMRC for you and make sure you stay compliant with the everchanging laws&lt;/em&gt;: they can make your life easy or miserable so it is important to choose carefully.&lt;/p&gt;
&lt;p&gt;Changing accountant is possible so no decision is final, but to avoid disruptions it‚Äôs better to do your research beforehand.&lt;/p&gt;
&lt;p&gt;Nowadays accountants offer cloud based tax and accountancy services, providing a high level of autonomy and transparency. Attached to that they offer a (more or less) personalised service where you get ongoing business support and accountancy advice.&lt;/p&gt;
&lt;p&gt;On a daily basis you‚Äôd be using an app or website to record expenses, issue invoices and record payments, handle tax and VAT while having an overview on how your business is performing and what are the next important dates.&lt;br&gt;
Cloud companies that offer the mentioned services are &lt;a href=&quot;https://www.freeagent.com/&quot;&gt;FreeAgent&lt;/a&gt; or &lt;a href=&quot;https://www.crunch.co.uk/&quot;&gt;Crunch&lt;/a&gt; to name a couple, but there are more out there.&lt;/p&gt;
&lt;p&gt;I ended up asking for advice to the contractors I was working with and &lt;a href=&quot;http://www.crunch.co.uk/referrals/?c2c=finitelo&quot;&gt;Crunch (ref.)&lt;/a&gt; seemed like a popular choice: they offer a good online tool, are not expensive and on the &lt;a href=&quot;https://www.crunch.co.uk/pricing/accounting-pricing-limited-companies/&quot;&gt;Basic package&lt;/a&gt;, responsive enough to queries.&lt;/p&gt;
&lt;p&gt;The process of setting up the account with them was to go through the company details during a call, I then got access to my online account in a couple of days. They have a really good knowledge base where you can find answers to most of your questions, but are available via email or phone just in case.&lt;/p&gt;
&lt;p&gt;You‚Äôll have to fill a few forms and send them to HMRC to authorise Crunch to &lt;a href=&quot;https://www.gov.uk/appoint-tax-agent&quot;&gt;deal with them on your behalf&lt;/a&gt; for all your VAT and tax affairs.&lt;/p&gt;
&lt;h2 id=&quot;opening-a-bank-account&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#opening-a-bank-account&quot; aria-label=&quot;opening a bank account permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Opening a bank account&lt;/h2&gt;
&lt;p&gt;Although not necessarily needed before you sign your first contract, a bank account will be needed as soon as the first invoice is raised (your client/agency will need to know where to send the money).&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Note: you are not legally required to have a separated business account, but if you use your personal account it‚Äôll be difficult to distinguish company money from personal money.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;In some cases the process can take a few days and there may be delays if you decide to go for a high street bank, so it is better to start the process earlier rather than later.&lt;/p&gt;
&lt;p&gt;There are a few things that I checked before opening my business accounts:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;https://www.fscs.org.uk/&quot;&gt;FSCS: Financial Services Compensation Scheme&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The Financial Services Compensation Scheme (FSCS) is the UK‚Äôs statutory Deposit insurance and investors compensation scheme for customers of authorised financial services firms. This means that FSCS can pay compensation if a firm is unable, or likely to be unable, to pay claims against it.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;It‚Äôs important that your bank of choice offers FSCS protection. The scheme will cover up to ¬£85,000 if anything happens and the bank is not in a position to give you your money back.&lt;/p&gt;
&lt;p&gt;As your bank account balance grows, you may want to open other accounts (with different providers) and keep a maximum of ¬£85k in each of them to make sure the funds are always covered (although investing would be a much better option in that scenario).&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;https://www.openbanking.org.uk&quot;&gt;Open Banking&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Open Banking is the secure way to give providers access to your financial information.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Being able to access and import bank transactions into your accounting software will give you a clear view on how your company is doing money-wise and will be helpful when it comes to reconciling expenses with bank transactions.&lt;/p&gt;
&lt;p&gt;Open Banking is still in its early days, but many banks are quickly adding support for it, making it possible for tools like &lt;a href=&quot;https://share.moneydashboard.com/MSB72XNL&quot;&gt;Money Dashboard (ref.)&lt;/a&gt; to give a bird‚Äôs eye view across different accounts, all in one place.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Internet banking/app&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;This is a no brainer, so make sure you check your app store to see how your next bank‚Äôs app is rated. You‚Äôll probably be using it to handle 95% of your banking affairs, so having something that works is paramount.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;High street vs Online&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Being a business account, you may feel you want someone that you can go and talk to one to one if needed, so in this case a high street bank could be your choice.&lt;/p&gt;
&lt;p&gt;Online companies like &lt;a href=&quot;https://www.starlingbank.com/business-account/&quot;&gt;Starlings&lt;/a&gt; or &lt;a href=&quot;https://www.tide.co/refer/?ref=COPPOOIL&quot;&gt;Tide&lt;/a&gt; don‚Äôt ask too many questions, have a good customer service and offer accounts that are usually easy and quick to open, but you can‚Äôt walk into a branch and this may put someone off.&lt;/p&gt;
&lt;p&gt;I decided to open a traditional account for now and wait for &lt;a href=&quot;https://monzo.com/business/&quot;&gt;Monzo&lt;/a&gt; to finalise their business offerings ?.&lt;/p&gt;
&lt;p&gt;I chose &lt;a href=&quot;https://www.metrobankonline.co.uk/business/&quot;&gt;Metro Bank&lt;/a&gt;: the fact that they‚Äôre open every day (Sundays included) made a big difference as I wanted to make sure I could just walk in and have a chat when I needed.&lt;/p&gt;
&lt;p&gt;To open the account I had to go into a branch (no need to book an appointment, you can just walk in, waiting times are usually within 15‚Äô) and sit down with one of their advisors: I got asked a lot of questions about the nature of the business, how I intended to grow it in the future, how I usually find new contracts.&lt;br&gt;
It took a couple of hours (I know‚Ä¶) and after a few days I got a call to confirm that my application was accepted: I had to walk in to the store again to pick up my welcome pack and my debit card (which they print in store, how cool!).&lt;/p&gt;
&lt;p&gt;Not a straightforward process, but easy enough and they are there 7 days a week should something happen. Also their app is a pleasure to use.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;That‚Äôs it for now, hopefully this post helped clearing things up a bit for anyone interested in going contracting.&lt;/p&gt;
&lt;p&gt;Good luck!&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Dockerize your tests to run everywhere - Part II]]></title><description><![CDATA[In the first part of this series, I presented a simple solution to run selenium based tests from inside a container, using Docker and Docker‚Ä¶]]></description><link>https://www.riccardocoppola.me/blog/dockerize-your-selenium-tests-to-run-everywhere-ii/</link><guid isPermaLink="false">https://www.riccardocoppola.me/blog/dockerize-your-selenium-tests-to-run-everywhere-ii/</guid><pubDate>Sat, 01 Dec 2018 22:53:00 GMT</pubDate><content:encoded>&lt;p&gt;In the &lt;a href=&quot;/blog/dockerize-your-selenium-tests-to-run-everywhere/&quot;&gt;first part&lt;/a&gt; of this series, I presented a simple solution to run selenium based tests from inside a container, using &lt;a href=&quot;https://www.docker.com/&quot;&gt;Docker&lt;/a&gt; and &lt;a href=&quot;https://docs.docker.com/compose/&quot;&gt;Docker Compose&lt;/a&gt;.&lt;br&gt;
While this solution serves the cause of orchestrating the Selenium server and the tests, it does not address more specific problems that would inevitably happen in a Continuous Integration environment.&lt;/p&gt;
&lt;p&gt;There are a few improvements than can be made:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Prebuild the Docker image for better performances&lt;/li&gt;
&lt;li&gt;Specify dependencies among the containers to run the tests only when all the dependencies are ready (selenium, the app itself, ‚Ä¶)&lt;/li&gt;
&lt;li&gt;Specify browser type/version&lt;/li&gt;
&lt;li&gt;Stop the containers when the tests are completed&lt;/li&gt;
&lt;li&gt;Report the right exit code to the CI when the Docker container ends its execution, in order to correctly mark the build&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;prebuild-the-docker-image&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#prebuild-the-docker-image&quot; aria-label=&quot;prebuild the docker image permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Prebuild the Docker image&lt;/h2&gt;
&lt;p&gt;This is what the &lt;a href=&quot;https://github.com/ricca509/dockerize-webdriverio/blob/master/docker-compose.yml&quot;&gt;docker-compose.yml&lt;/a&gt; file looked like in &lt;a href=&quot;/dockerize-your-selenium-tests-to-run-everywhere/&quot;&gt;part I&lt;/a&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;app.local&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;build&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; .
  &lt;span class=&quot;token key atrule&quot;&gt;command&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; npm test &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;host selenium
  &lt;span class=&quot;token key atrule&quot;&gt;links&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; selenium&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I am changing the tests to point to a locally running application, so it needs to be running alongside the tests:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;# package.json

...
&lt;span class=&quot;token property&quot;&gt;&quot;scripts&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;start: &quot;&lt;/span&gt;node src/index.js&quot;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;test&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;wdio wdio.conf&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
...&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;To run it, another container can be added to the &lt;code class=&quot;language-text&quot;&gt;docker-compose.yml&lt;/code&gt; file:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;app.local&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;build&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; .
  &lt;span class=&quot;token key atrule&quot;&gt;command&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; npm start

&lt;span class=&quot;token key atrule&quot;&gt;tests&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;build&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; .
  &lt;span class=&quot;token key atrule&quot;&gt;command&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; npm test &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;host selenium
  &lt;span class=&quot;token punctuation&quot;&gt;...&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Here I basically want to run two different commands from the same Docker image, but &lt;em&gt;it is being built twice now&lt;/em&gt;.&lt;br&gt;
The solution to this problem is to pre-build the image and then run commands from it. This also makes the &lt;code class=&quot;language-text&quot;&gt;docker-compose&lt;/code&gt; file cleaner.&lt;/p&gt;
&lt;p&gt;To do this I‚Äôm going to use a small shell scripts that builds the image and then starts &lt;code class=&quot;language-text&quot;&gt;docker-compose&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;token shebang important&quot;&gt;#!/usr/bin/env bash&lt;/span&gt;

&lt;span class=&quot;token builtin class-name&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Starting Docker build&quot;&lt;/span&gt;

&lt;span class=&quot;token assign-left variable&quot;&gt;DOCKER_IMAGE&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;integration-tests:&lt;span class=&quot;token variable&quot;&gt;${BUILD_COUNTER&lt;span class=&quot;token operator&quot;&gt;:-&lt;/span&gt;0}&lt;/span&gt;&quot;&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;docker&lt;/span&gt; build &lt;span class=&quot;token parameter variable&quot;&gt;--rm&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;-t&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;${DOCKER_IMAGE}&lt;/span&gt; &lt;span class=&quot;token builtin class-name&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;docker-compose&lt;/span&gt; up&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ol&gt;
&lt;li&gt;I am declaring what the name of the image will be (note that I‚Äôm assuming that a &lt;code class=&quot;language-text&quot;&gt;BUILD_COUNTER&lt;/code&gt; env variable is available, in case it‚Äôs not it‚Äôll fallback to zero).&lt;/li&gt;
&lt;li&gt;I‚Äôm building the image, tagging it with the name chosen in point 1. If the build is succesfull, the stack is started.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;With the image being built outside our Docker compose orchestration, the &lt;code class=&quot;language-text&quot;&gt;docker-compose.yml&lt;/code&gt; file can be updated:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;app.local&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; integration&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;tests&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;$&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;BUILD_COUNTER&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;-0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;command&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; npm start

&lt;span class=&quot;token key atrule&quot;&gt;tests&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; integration&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;tests&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;$&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;BUILD_COUNTER&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;-0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;command&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; npm test &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;host selenium
  &lt;span class=&quot;token punctuation&quot;&gt;...&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;em&gt;NOTE: The &lt;code class=&quot;language-text&quot;&gt;${BUILDCOUNTER:-0}&lt;/code&gt; syntax allows to refer to an environment variable (&lt;code class=&quot;language-text&quot;&gt;BUILDCOUNTER&lt;/code&gt;) and in case it is not defined, Docker will fall back to &lt;code class=&quot;language-text&quot;&gt;0&lt;/code&gt;. Find more information about environment variables interpolation on the &lt;a href=&quot;https://docs.docker.com/compose/environment-variables/&quot;&gt;Docker website&lt;/a&gt;.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Now two isolated containers are using the same image to run different commands.&lt;/p&gt;
&lt;p&gt;This is the &lt;code class=&quot;language-text&quot;&gt;docker-compose.yml&lt;/code&gt; file so far:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;app.local&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; integration&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;tests&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;$&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;BUILD_COUNTER&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;-0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;command&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; npm start
  &lt;span class=&quot;token key atrule&quot;&gt;expose&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;3000&quot;&lt;/span&gt;

&lt;span class=&quot;token key atrule&quot;&gt;tests&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; integration&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;tests&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;$&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;BUILD_COUNTER&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;-0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;command&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; npm test &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;host selenium

&lt;span class=&quot;token key atrule&quot;&gt;selenium&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; selenium/standalone&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;chrome
  &lt;span class=&quot;token key atrule&quot;&gt;expose&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;4444&quot;&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;log_driver&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;none&quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;specify-dependencies-between-the-containers&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#specify-dependencies-between-the-containers&quot; aria-label=&quot;specify dependencies between the containers permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Specify dependencies between the containers&lt;/h2&gt;
&lt;p&gt;Another subtle problem that can arise as the number of independent containers increases, is managing the dependencies among them: what if the tests start before the Selenium server is ready, or before the mock server is listening?&lt;br&gt;
This may not happen every time, but it‚Äôs a problem that can seriously undermine the stability of our tests, and in turn our confidence in them.&lt;/p&gt;
&lt;p&gt;To define dependencies in a &lt;code class=&quot;language-text&quot;&gt;docker-compose&lt;/code&gt; file, &lt;a href=&quot;https://docs.docker.com/compose/compose-file/#depends_on&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;depends_on&lt;/code&gt;&lt;/a&gt; is the way to go.&lt;/p&gt;
&lt;p&gt;From the official Docker documentation, &lt;code class=&quot;language-text&quot;&gt;depends_on&lt;/code&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Express dependency between services, which has two effects:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;docker-compose up&lt;/code&gt; will start services in dependency order.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;docker-compose up SERVICE&lt;/code&gt; will automatically include &lt;code class=&quot;language-text&quot;&gt;SERVICE&lt;/code&gt;‚Äôs dependencies.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;but also&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;There are several things to be aware of when using &lt;code class=&quot;language-text&quot;&gt;depends_on&lt;/code&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;depends_on&lt;/code&gt; will not wait for the dependencies to be ‚Äúready‚Äù before&lt;br&gt;
starting &lt;code class=&quot;language-text&quot;&gt;SERVICE&lt;/code&gt; - only until they have been started. If you need to wait for a service to be ready, see &lt;a href=&quot;https://docs.docker.com/compose/startup-order&quot;&gt;Controlling startup order&lt;/a&gt; for more on this problem and strategies for solving it.&lt;/li&gt;
&lt;li&gt;Version 3 no longer supports the &lt;code class=&quot;language-text&quot;&gt;condition&lt;/code&gt; form of &lt;code class=&quot;language-text&quot;&gt;depends_on&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;The &lt;code class=&quot;language-text&quot;&gt;depends_on&lt;/code&gt; option is ignored when &lt;a href=&quot;/engine/reference/commandline/stack_deploy.md&quot;&gt;deploying a stack in swarm mode&lt;/a&gt; with a version 3 Compose file.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;With this in mind, the configuration can be improved like this:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;app.local&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; integration&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;tests&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;$&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;BUILD_COUNTER&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;-0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;command&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; npm start
  &lt;span class=&quot;token key atrule&quot;&gt;expose&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;3000&quot;&lt;/span&gt;

&lt;span class=&quot;token key atrule&quot;&gt;tests&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; integration&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;tests&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;$&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;BUILD_COUNTER&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;-0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;command&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; npm test &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;host selenium
  &lt;span class=&quot;token key atrule&quot;&gt;depends_on&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; selenium
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; app.local

&lt;span class=&quot;token key atrule&quot;&gt;selenium&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; selenium/standalone&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;chrome
  &lt;span class=&quot;token key atrule&quot;&gt;expose&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;4444&quot;&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;log_driver&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;none&quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now the &lt;code class=&quot;language-text&quot;&gt;tests&lt;/code&gt; container will wait until &lt;code class=&quot;language-text&quot;&gt;app.local&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;selenium&lt;/code&gt; have been started.&lt;/p&gt;
&lt;p&gt;This, though, doesn‚Äôt mean that the services are ready and listening. The ‚Äúreadiness‚Äù of the service is specific to every application, so Docker cannot help here: &lt;a href=&quot;https://github.com/vishnubob/wait-for-it&quot;&gt;wait-for-it&lt;/a&gt; can.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;wait-for-it.sh&lt;/code&gt; is a pure bash script that will wait on the availability of a host and TCP port. It is useful for synchronizing the spin-up of interdependent services, such as linked docker containers.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;With &lt;code class=&quot;language-text&quot;&gt;wait-for-it&lt;/code&gt; the &lt;code class=&quot;language-text&quot;&gt;docker-compose.yml&lt;/code&gt; becomes:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;tests&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; integration&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;tests&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;$&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;BUILD_COUNTER&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;-0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;command&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;./wait-for-it.sh&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;selenium:4444&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;--&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;npm&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;test&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;--&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;--hostname&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;selenium&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token key atrule&quot;&gt;depends_on&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; selenium
      &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; app.local&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;em&gt;&lt;strong&gt;Note&lt;/strong&gt;: This setup is only waiting for selenium to be ‚Äúready‚Äù as it‚Äôs the slowest of the two services.&lt;br&gt;
Waiting on a condition like the above for multiple services (for example selenium on port 4444 and app.local on port 3000) is a problem for which I haven‚Äôt found an elegant solution yet, so there‚Äôs a tradeoff here (although a possible workaround can be found on &lt;a href=&quot;https://github.com/vishnubob/wait-for-it/issues/2#issuecomment-193334505&quot;&gt;github&lt;/a&gt;).&lt;/em&gt;&lt;/p&gt;
&lt;h2 id=&quot;choose-a-specific-browserbrowser-version&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#choose-a-specific-browserbrowser-version&quot; aria-label=&quot;choose a specific browserbrowser version permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Choose a specific browser/browser version&lt;/h2&gt;
&lt;p&gt;Usually, tests need to target a specific browser version/make.&lt;/p&gt;
&lt;p&gt;To do this the &lt;code class=&quot;language-text&quot;&gt;docker-compose&lt;/code&gt; configuration can be tweaked to run a &lt;a href=&quot;https://github.com/SeleniumHQ/selenium/wiki/Grid2&quot;&gt;Selenium grid&lt;/a&gt; (hub) and have different browsers connect to it.&lt;/p&gt;
&lt;p&gt;The grid can:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;scale by distributing tests on several machines ( &lt;strong&gt;parallel execution&lt;/strong&gt; )&lt;/li&gt;
&lt;li&gt;manage multiple environments from a central point, &lt;strong&gt;making it easy to run the tests against a vast combination of browsers/OS&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;minimize the maintenance time for the grid by allowing you to implement custom hooks to leverage virtual infrastructure for instance.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;For now the second point is of more interest, but parallel execution is definitely a very nice to have feature.&lt;/p&gt;
&lt;p&gt;With the grid, we need at least one node (browser) that will connect to it and eventually run the tests.&lt;/p&gt;
&lt;p&gt;The configuration for Selenium looks like this at the moment:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;selenium&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; selenium/standalone&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;chrome
  &lt;span class=&quot;token key atrule&quot;&gt;expose&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;4444&quot;&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;log_driver&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;none&quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The new configuration, a bit more verbose:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;selenium-hub&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; selenium/hub&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;3.141.59&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;neon
  &lt;span class=&quot;token key atrule&quot;&gt;container_name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; selenium&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;hub
  &lt;span class=&quot;token key atrule&quot;&gt;expose&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;4444&quot;&lt;/span&gt;
&lt;span class=&quot;token key atrule&quot;&gt;chrome&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; selenium/node&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;chrome&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;3.141.59&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;neon
  &lt;span class=&quot;token key atrule&quot;&gt;volumes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; /dev/shm&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;/dev/shm
  &lt;span class=&quot;token key atrule&quot;&gt;depends_on&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; selenium&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;hub
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; app.local
  &lt;span class=&quot;token key atrule&quot;&gt;environment&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; HUB_HOST=selenium&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;hub
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; HUB_PORT=4444
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; CHROME_VERSION=62.0.3202.94&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The &lt;code class=&quot;language-text&quot;&gt;selenium-hub&lt;/code&gt; container will accept connections from the nodes.&lt;br&gt;
The &lt;code class=&quot;language-text&quot;&gt;chrome&lt;/code&gt; container depends on &lt;code class=&quot;language-text&quot;&gt;selenium-hub&lt;/code&gt;.&lt;br&gt;
A link to the &lt;code class=&quot;language-text&quot;&gt;tests&lt;/code&gt; container is added so that this container (chrome) can talk to the application.&lt;br&gt;
The grid‚Äôs hostname and port can be specified through environment variables (&lt;code class=&quot;language-text&quot;&gt;HUB_HOST=selenium-hub&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;HUB_PORT=4444&lt;/code&gt;), same for the browser‚Äôs version required (&lt;code class=&quot;language-text&quot;&gt;CHROME_VERSION=62.0.3202.94&lt;/code&gt;).&lt;/p&gt;
&lt;p&gt;The new &lt;code class=&quot;language-text&quot;&gt;docker-compose&lt;/code&gt; file, including all the improvements so far:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token key atrule&quot;&gt;version&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;3&quot;&lt;/span&gt;
&lt;span class=&quot;token key atrule&quot;&gt;services&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;token key atrule&quot;&gt;app.local&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; integration&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;tests&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;$&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;BUILD_COUNTER&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;-0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;command&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; npm start
  &lt;span class=&quot;token key atrule&quot;&gt;expose&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;3000&quot;&lt;/span&gt;

&lt;span class=&quot;token key atrule&quot;&gt;tests&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; integration&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;tests&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;$&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;BUILD_COUNTER&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;-0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;command&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;./wait-for-it.sh&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;selenium-hub:4444&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;--&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;npm&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;test&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;--&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;--hostname&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;selenium-hub&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;depends_on&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; selenium&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;hub
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; app.local

&lt;span class=&quot;token key atrule&quot;&gt;selenium-hub&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; selenium/hub&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;3.141.59&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;neon
  &lt;span class=&quot;token key atrule&quot;&gt;container_name&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; selenium&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;hub
  &lt;span class=&quot;token key atrule&quot;&gt;expose&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;4444&quot;&lt;/span&gt;

&lt;span class=&quot;token key atrule&quot;&gt;chrome&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token key atrule&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; selenium/node&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;chrome&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;3.141.59&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;neon
  &lt;span class=&quot;token key atrule&quot;&gt;volumes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; /dev/shm&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;/dev/shm
  &lt;span class=&quot;token key atrule&quot;&gt;depends_on&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; selenium&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;hub
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; app.local
  &lt;span class=&quot;token key atrule&quot;&gt;environment&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; HUB_HOST=selenium&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;hub
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; HUB_PORT=4444
    &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; CHROME_VERSION=google&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;chrome&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;stable&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;em&gt;&lt;strong&gt;Note&lt;/strong&gt;: I added versions to the docker images to make sure new releases don‚Äôt break the example :)&lt;br&gt;
Also note that the name &lt;code class=&quot;language-text&quot;&gt;app.local&lt;/code&gt; was chosen because Chrome tends to redirect non-local domains to https. To prevent this from happening I added the &lt;code class=&quot;language-text&quot;&gt;.local&lt;/code&gt; domain to the dns name.&lt;/em&gt;&lt;/p&gt;
&lt;h2 id=&quot;stop-the-container-when-the-tests-are-completed-and-report-the-right-exit-code-to-ci&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#stop-the-container-when-the-tests-are-completed-and-report-the-right-exit-code-to-ci&quot; aria-label=&quot;stop the container when the tests are completed and report the right exit code to ci permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Stop the container when the tests are completed and report the right exit code to CI&lt;/h2&gt;
&lt;p&gt;The current configuration starts up all the containers in order, runs the tests with a specific browser, but never stops the container because &lt;code class=&quot;language-text&quot;&gt;selenium-hub&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;app.local&lt;/code&gt; are long running processes that listen on a port forever.&lt;br&gt;
Regardless of when the tests are completed, these services will keep listening and never return: &lt;strong&gt;the CI process will therefore never complete&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;All the containers need to be stopped when the tests are completed, the exit code from the &lt;code class=&quot;language-text&quot;&gt;tests&lt;/code&gt; container taken and returned to the CI, so that it can mark the build as passing or failing.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;docker-compose&lt;/code&gt; accepts &lt;code class=&quot;language-text&quot;&gt;--abort-on-container-exit&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;--exit-code-from SERVICE&lt;/code&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;--abort-on-container-exit&lt;/code&gt; stops all containers if any container was stopped.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;--exit-code-from SERVICE&lt;/code&gt; return the exit code of the selected &lt;code class=&quot;language-text&quot;&gt;SERVICE&lt;/code&gt; container. Implies &lt;code class=&quot;language-text&quot;&gt;--abort-on-container-exit&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The bash script can be now modified to include these two options:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;token shebang important&quot;&gt;#!/usr/bin/env bash&lt;/span&gt;

&lt;span class=&quot;token builtin class-name&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Starting Docker build&quot;&lt;/span&gt;

&lt;span class=&quot;token assign-left variable&quot;&gt;DOCKER_IMAGE&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;integration-tests:&lt;span class=&quot;token variable&quot;&gt;${BUILD_COUNTER&lt;span class=&quot;token operator&quot;&gt;:-&lt;/span&gt;0}&lt;/span&gt;&quot;&lt;/span&gt;

&lt;span class=&quot;token builtin class-name&quot;&gt;echo&lt;/span&gt; DOCKER_IMAGE: &lt;span class=&quot;token variable&quot;&gt;${DOCKER_IMAGE}&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;docker&lt;/span&gt; build &lt;span class=&quot;token parameter variable&quot;&gt;--rm&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;-t&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;${DOCKER_IMAGE}&lt;/span&gt; &lt;span class=&quot;token builtin class-name&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;docker-compose&lt;/span&gt; up --exit-code-from tests
&lt;span class=&quot;token function&quot;&gt;docker-compose&lt;/span&gt; down&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;em&gt;&lt;strong&gt;Note&lt;/strong&gt;: I added &lt;code class=&quot;language-text&quot;&gt;docker-compose down&lt;/code&gt; to cleanup after everything‚Äôs done.&lt;/em&gt;&lt;/p&gt;
&lt;h2 id=&quot;conclusions&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#conclusions&quot; aria-label=&quot;conclusions permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Conclusions&lt;/h2&gt;
&lt;p&gt;Making the tests execution more reliable and flexible helps a lot with achieving that confidence that is so needed when it comes to functional/e2e tests being used as gatekeepers to production.&lt;/p&gt;
&lt;p&gt;Part III will look into debugging during execution using the browser running inside the container and saving reports on the CI to be used for port-mortem analysis.&lt;/p&gt;
&lt;p&gt;You can find a working version of this example on &lt;a href=&quot;https://github.com/ricca509/dockerize-webdriverio/tree/part-2&quot;&gt;Github&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Happy hacking!&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Snapshot testing and why it makes sense]]></title><description><![CDATA[The JavaScript world is ever changing: every day new libraries come out and, as developers, we‚Äôre lucky enough to get to try all these new‚Ä¶]]></description><link>https://www.riccardocoppola.me/blog/snapshot-testing-and-why-it-makes-sense/</link><guid isPermaLink="false">https://www.riccardocoppola.me/blog/snapshot-testing-and-why-it-makes-sense/</guid><pubDate>Fri, 24 Feb 2017 10:00:00 GMT</pubDate><media:content url="https://www.riccardocoppola.me/static/dfb75522eae42661691dfa4e1ed80fce/snap.jpg"/><content:encoded>&lt;p&gt;The JavaScript world is ever changing: every day new libraries come out and, as developers, we‚Äôre lucky enough to get to try all these new ideas in our every day job.&lt;/p&gt;
&lt;p&gt;Using the right tool for the right job means, in the end, using more tools and this leads us to more configuration, orchestration and maintenance (and, possibly, bugs). All of this goes under the name of &lt;em&gt;JavaScript fatigue&lt;/em&gt;, a name that should represent the effort needed to stay on top of our game.&lt;br&gt;
JavaScript fatigue is, from my point of view, a blessing and we should embrace it as an opportunity to constantly add quality and improvements to our code base.&lt;/p&gt;
&lt;p&gt;Of course not every tool or library will add value to the code, but many of them will help build the foundation of the next big thing.&lt;/p&gt;
&lt;p&gt;Selecting the right tools is key.&lt;/p&gt;
&lt;h2 id=&quot;jest-yet-another-tool&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#jest-yet-another-tool&quot; aria-label=&quot;jest yet another tool permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Jest, yet another tool&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://facebook.github.io/jest/&quot;&gt;Jest&lt;/a&gt; is the best testing tool that I‚Äôve been using lately.&lt;br&gt;
It is built on top of Jasmine and developed by Facebook. Like Jasmine, it offers a test runner, assertion and mock methods.&lt;br&gt;
Its API is very similar to what the combo Mocha/chai offers, so the switch is easy and painless. Among other useful features, Jest offers an advanced system for mocking external dependencies (automatically or manually) and a new concept for testing React components called Snapshot testing.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 900px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/dfb75522eae42661691dfa4e1ed80fce/6c0a0/snap.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 66.66666666666666%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMEAf/EABUBAQEAAAAAAAAAAAAAAAAAAAEA/9oADAMBAAIQAxAAAAFFjtFRMR//xAAaEAEAAwADAAAAAAAAAAAAAAACAAEDERIh/9oACAEBAAEFAsTZmTstae50oeEnddv/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAeEAACAQMFAAAAAAAAAAAAAAAAARECEjEhImGCof/aAAgBAQAGPwJbSpO7sYFNUxwTGrRj0//EABkQAAMBAQEAAAAAAAAAAAAAAAABEUEhcf/aAAgBAQABPyFUqTuwqYqTmPCfCETEm2IVuIYal//aAAwDAQACAAMAAAAQ0/8A/8QAFREBAQAAAAAAAAAAAAAAAAAAECH/2gAIAQMBAT8Qh//EABURAQEAAAAAAAAAAAAAAAAAABAh/9oACAECAQE/EKf/xAAcEAEBAAICAwAAAAAAAAAAAAABEQAxIUFRgaH/2gAIAQEAAT8QvIMi294VpIk7UvgPRixITWGKqU4FAk3lLlJViEPuU84Ztn//2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Child Girl Camera&quot;
        title=&quot;Photo from [negativespace](https://negativespace.co/child-girl-camera-photographer-toys-smile/)&quot;
        src=&quot;/static/dfb75522eae42661691dfa4e1ed80fce/8e1fc/snap.jpg&quot;
        srcset=&quot;/static/dfb75522eae42661691dfa4e1ed80fce/863e1/snap.jpg 225w,
/static/dfb75522eae42661691dfa4e1ed80fce/20e5d/snap.jpg 450w,
/static/dfb75522eae42661691dfa4e1ed80fce/8e1fc/snap.jpg 900w,
/static/dfb75522eae42661691dfa4e1ed80fce/6c0a0/snap.jpg 1062w&quot;
        sizes=&quot;(max-width: 900px) 100vw, 900px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;&lt;p&gt;Photo from &lt;a href=&quot;https://negativespace.co/child-girl-camera-photographer-toys-smile/&quot;&gt;negativespace&lt;/a&gt;&lt;/p&gt;&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&quot;back-to-basics-unit-testing-a-function&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#back-to-basics-unit-testing-a-function&quot; aria-label=&quot;back to basics unit testing a function permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Back to basics: unit testing a function&lt;/h2&gt;
&lt;p&gt;Unit testing is all about isolating the system under test and checking that at every given input corresponds a given, predictable output: what is easier to test than a well thought function?&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Call the function with specific arguments&lt;/li&gt;
&lt;li&gt;Compare the result with an expected value&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;As an example, we‚Äôll use a &lt;code class=&quot;language-text&quot;&gt;parseDate&lt;/code&gt; function that takes a Date object in input and returns a different object containing day, month and year.&lt;br&gt;
The implementation is not important, just to have something to get going:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;parseDate&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;date&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token literal-property property&quot;&gt;day&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; date&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getDate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token literal-property property&quot;&gt;month&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; date&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getMonth&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token literal-property property&quot;&gt;year&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; date&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getFullYear&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This function can be easily tested by passing different dates in input and checking that the output is the expected object (boooring!)&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; parseDate &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;..&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;describe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;parseDate&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;parses a Date object&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; expectedResult &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token literal-property property&quot;&gt;day&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;13&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token literal-property property&quot;&gt;month&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token literal-property property&quot;&gt;year&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2017&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; result &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;parseDate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2017&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;13&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;result&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toEqual&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;expectedResult&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If the expected object was big enough, you could decide to store it in a file, read that file at the beginning of your test and use that as expected result.&lt;/p&gt;
&lt;p&gt;In a very similar fashion you can test API endpoint handlers: using a json file for the expected result that the endpoint should return:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; handler &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;../handler&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; expectedUserJson &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;../mocks/user&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;describe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;the user handler&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;returns the user information given its id&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;    
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; response &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;handler&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;35409DJFJ48&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;response&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toEqual&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;expectedUserJson&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This ensures that the response looks 100% like the json that you want: you usually don‚Äôt test just a small part of it.&lt;/p&gt;
&lt;h2 id=&quot;unit-testing-ui-views-and-react-components-and-choosing-what-to-test&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#unit-testing-ui-views-and-react-components-and-choosing-what-to-test&quot; aria-label=&quot;unit testing ui views and react components and choosing what to test permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Unit testing UI views and React components (and choosing what to test)&lt;/h2&gt;
&lt;p&gt;Testing the UI has alway been different from function testing:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Initialise and render the view in some sort of DOM,&lt;/li&gt;
&lt;li&gt;Search for elements of interest in the DOM and make assertions on them.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Very different from passing arguments to a function and getting an output: &lt;strong&gt;a)&lt;/strong&gt; you have a hidden dependency that needs to be there (DOM) and &lt;strong&gt;b)&lt;/strong&gt; you don‚Äôt test the result: you search for something known and make assertions on it.&lt;/p&gt;
&lt;p&gt;In React, though, a component is just a function (or behaves like it in case you use the class declaration) so you can pass specific props and get back a React tree.&lt;/p&gt;
&lt;p&gt;In case of shallow rendering, this becomes:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;(Shallow) render the component passing props and store the result in a variable (no DOM needed),&lt;/li&gt;
&lt;li&gt;Search for elements of interest in the result and make assertions on them.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;The DOM dependency is now out of the equation (because of the &lt;a href=&quot;https://facebook.github.io/react/docs/test-utils.html#shallow-rendering&quot;&gt;shallow renderer&lt;/a&gt;, more on this later), but we still have to search the result for known elements to make assertions like:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Do I have a list with 10 elements?&lt;/li&gt;
&lt;li&gt;Do I have an element with class ‚Äúheader‚Äù?&lt;/li&gt;
&lt;li&gt;Does it contain the text ‚ÄúBuy now‚Äù?&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// BuyNow.jsx&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;BuyNow&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; price&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; text &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;span className&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;price&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;¬£&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;price&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;span&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;button className&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;btn-primary&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;text&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;button&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// BuyNow.test.jsx&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; shallow &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;enzyme&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; BuyNow &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;../BuyNow&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;describe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;The BuyNow component&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;renders with the right price&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;    
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; props &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;price&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;25&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; tree &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;shallow&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;BuyNow &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;props&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;tree&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;span&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toEqual&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;tree&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;span&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;text&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toEqual&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;¬£25&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;tree&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;span&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;hasClass&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;price&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toBe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Different from comparing the output of your render with an expected result, but React allows us to test the UI in a more function-like fashion.&lt;/p&gt;
&lt;p&gt;UI testing, with all its moving parts, forces the developer to decide between partial testing (testing only the parts related to the UI logic, that are less likely to change) or go for deep testing: checking element types, classes and copy. When going for the second approach, tests become more brittle and need more maintenance: this is where snapshot testing comes into play.&lt;/p&gt;
&lt;h2 id=&quot;unit-testing-with-snapshots&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#unit-testing-with-snapshots&quot; aria-label=&quot;unit testing with snapshots permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Unit testing with snapshots&lt;/h2&gt;
&lt;p&gt;From the &lt;a href=&quot;https://facebook.github.io/jest/docs/snapshot-testing.html&quot;&gt;Jest website&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Snapshot tests are a very useful tool whenever you want to make sure your UI does not change unexpectedly.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;Instead of rendering the graphical UI, which would require building the entire app, you can use a test renderer to quickly generate a serializable value for your React tree.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I will not go into details of how exactly snapshot testing works, Facebook published &lt;a href=&quot;https://facebook.github.io/jest/blog/2016/07/27/jest-14.html&quot;&gt;great&lt;/a&gt; &lt;a href=&quot;https://facebook.github.io/jest/docs/snapshot-testing.html&quot;&gt;articles&lt;/a&gt; about it, definitely worth reading if new to the concept.&lt;/p&gt;
&lt;p&gt;In short, snapshot testing means fully rendering a component (generating its React tree) and comparing the result with a stored, expected version (snapshot).&lt;br&gt;
If the new version differs (you added a container, changed a &lt;em&gt;div&lt;/em&gt; into a section) the test fails and you are shown a diff with the changes. At this point you get to accept the changes or fix your code. If accepted, the stored snapshot gets updated with the newly accepted version.&lt;br&gt;
The very first time you run the snapshot test, the generated tree is implicitly accepted and stored in a file: that will represent the reference for future changes.&lt;/p&gt;
&lt;p&gt;With snapshots, the flow becomes:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;(Shallow) render the component passing props and store the snapshot in a variable&lt;/li&gt;
&lt;li&gt;Compare the resulting snapshot with a previously stored one&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;No dependency on the DOM and we are comparing the whole output with an expected result: ?&lt;/p&gt;
&lt;p&gt;A simple example on how to snapshot test a component and what gets generated follows:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// BuyNow.test.jsx&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; shallow &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;enzyme&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; toJson &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;enzyme-to-json&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; BuyNow &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;../BuyNow&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;describe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;The BuyNow component&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;  
  &lt;span class=&quot;token function&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;renders the right price and button&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;    
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; props &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;price&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;25&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;text&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Buy now&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; tree &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;shallow&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;BuyNow &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;props&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toJson&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;tree&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toMatchSnapshot&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This test generates the following snapshot:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;exports[`The BuyNow component renders the right price and button 1`] = `
&amp;lt;div&gt;
  &amp;lt;span
    className=&quot;price&quot;&gt;
    ¬£
    25
  &amp;lt;/span&gt;
  &amp;lt;button
    className=&quot;btn-primary&quot;&gt;
    Buy now
  &amp;lt;/button&gt;
&amp;lt;/div&gt;
`;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;em&gt;The use of &lt;code class=&quot;language-text&quot;&gt;toJson&lt;/code&gt; from the &lt;a href=&quot;https://www.npmjs.com/package/enzyme-to-json&quot;&gt;enzyme-to-json&lt;/a&gt; package is needed to convert the result of the shallow renderer to a serializable value (more on this later). This can be avoided, though, by adding &lt;a href=&quot;https://github.com/rogeliog/jest-serializer-enzyme&quot;&gt;jest-serializer-enzyme&lt;/a&gt; as a &lt;code class=&quot;language-text&quot;&gt;snapshotSerializers&lt;/code&gt; in the Jest config.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Since the whole output is captured by the snapshot, it is good practice to either &lt;strong&gt;shallow render the component&lt;/strong&gt; or &lt;strong&gt;mock it‚Äôs dependencies&lt;/strong&gt;, so that a change in a nested component doesn‚Äôt break the test.&lt;/p&gt;
&lt;p&gt;Snapshot testing gives you a completely different view of your component, showing all the generated tree, every time. It implicitly tests 100% of the generated markup, forcing you to accept or reject every small change.&lt;/p&gt;
&lt;h2 id=&quot;it-still-feels-like-tdd&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#it-still-feels-like-tdd&quot; aria-label=&quot;it still feels like tdd permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;It still feels like TDD&lt;/h2&gt;
&lt;p&gt;Snapshot testing differs from the usual TDD approach but, for UI testing, it‚Äôs even better.&lt;/p&gt;
&lt;p&gt;When we start developing a component we seldom know everything about it (the complete render output): class names, HTML attributes, element types are probably unknown, and more of an implementation detail. We know what the content should be and how it should behave, but we don‚Äôt know every detail: that‚Äôs why, when writing the tests, we only partially test the component, leaving outside all the unknowns.&lt;/p&gt;
&lt;p&gt;Now consider the following workflow:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Start jest in watch mode,&lt;/li&gt;
&lt;li&gt;Write a snapshot test for a basic use case - test fails (component doesn‚Äôt exists),&lt;/li&gt;
&lt;li&gt;Implement your component as an empty &lt;em&gt;div&lt;/em&gt;, nothing else - snapshot gets created and test passes, although no logic has been introduced yet (snapshot is implicitly accepted because it‚Äôs being created),&lt;/li&gt;
&lt;li&gt;Implement a small feature of the component (i.e. Make it a button) - test fails and shows you the diff,&lt;/li&gt;
&lt;li&gt;Accept the changes or fix the component to make it look like it should and then accept the changes - snapshot gets updated and test passes,&lt;/li&gt;
&lt;li&gt;Repeat 4 to 5 until the component respects the requirements for that particular scenario,&lt;/li&gt;
&lt;li&gt;Add a new use case and repeat 4 to 6.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Although when using snapshot testing the concept of test-driven development is slightly different, this workflow ensures that you always have to review every small code change that reflects into a UI change and never implicitly accept an unwanted change.&lt;/p&gt;
&lt;h2 id=&quot;snapshots-are-not-only-for-components&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#snapshots-are-not-only-for-components&quot; aria-label=&quot;snapshots are not only for components permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Snapshots are not only for components&lt;/h2&gt;
&lt;p&gt;Snapshots are an invaluable tool when it comes to UI testing, but their use is not only limited to it: technically &lt;em&gt;every serialisable value can be captured&lt;/em&gt;.&lt;br&gt;
To make it useful, of course, the serialised value needs to retain its meaning so that it can be tested: there‚Äôs not much value in serialising a function into &lt;code class=&quot;language-text&quot;&gt;[Function]&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;A few examples follow, along with the generated snapshots:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token function&quot;&gt;describe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Snapshot tests&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;work with objects&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token literal-property property&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;234&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token literal-property property&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;test&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token literal-property property&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token literal-property property&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toMatchSnapshot&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;work with strings&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;This is a test&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toMatchSnapshot&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;work with arrays&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;a&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toMatchSnapshot&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;exports[`Snapshot tests work with arrays 1`] = `
Array [
  &quot;a&quot;,
  5,
  [Function],
]
`;

exports[`Snapshot tests work with objects 1`] = `
Object {
  &quot;a&quot;: 234,
  &quot;b&quot;: &quot;test&quot;,
  &quot;c&quot;: null,
  &quot;d&quot;: undefined,
}
`;

exports[`Snapshot tests work with strings 1`] = `&quot;This is a test&quot;`;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;While it‚Äôs definitely possible to test API responses and other structures using snapshots, I still feel that setting expectations beforehand for completely defined modules is a better choice.&lt;br&gt;
Snapshots may be a nice addition when a module is stable, to prevent any unwanted change to happen, but I still see them as an addition, not a replacement for these cases.&lt;/p&gt;
&lt;h2 id=&quot;more-time-spent-on-testing-scenarios&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#more-time-spent-on-testing-scenarios&quot; aria-label=&quot;more time spent on testing scenarios permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;More time spent on testing scenarios&lt;/h2&gt;
&lt;p&gt;Since writing the actual expectation for a snapshot test is trivial, you can spend more time on creating more scenarios to make your component more robust: the following is just a small list.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Scenario with no props passed (testing defaults and undefined props)&lt;/li&gt;
&lt;li&gt;Scenario with all props&lt;/li&gt;
&lt;li&gt;Scenario with props of wrong types&lt;/li&gt;
&lt;li&gt;Scenario with children&lt;/li&gt;
&lt;li&gt;Scenario with no children&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Spending time on more scenarios means more resilient, robust code.&lt;br&gt;
Also, since the actual assertions when using snapshots don‚Äôt communicate the intended behaviour well, it becomes essential to write better test cases (more on this later).&lt;/p&gt;
&lt;h2 id=&quot;the-value-of-code-reviews&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#the-value-of-code-reviews&quot; aria-label=&quot;the value of code reviews permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;The value of code reviews&lt;/h2&gt;
&lt;p&gt;In addition to ‚Äúspec‚Äù files, we now get to review snapshot files. These are important files that should be reviewed with care, as they represent the UI markup the gets generated and the reviewer should take extra time to ensure that that markup is correct.&lt;/p&gt;
&lt;p&gt;Since there are no specific expectations in code, test descriptions also become more important as they should clearly explain what that test is there for. Try to run the tests and read the output of the command line reporter: if it doesn‚Äôt communicate the intentions of the tests and the expected behaviour, work on the descriptions and make sure the tests represent your best documentation.&lt;/p&gt;
&lt;h2 id=&quot;keeping-an-open-mind&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#keeping-an-open-mind&quot; aria-label=&quot;keeping an open mind permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Keeping an open mind&lt;/h2&gt;
&lt;p&gt;Snapshots introduce a new, different way of testing where we don‚Äôt set expectations &lt;em&gt;beforehand&lt;/em&gt; but we get to accept/refuse the &lt;em&gt;outcome&lt;/em&gt; of a test.&lt;br&gt;
It can feel uncomfortable at the beginning and it has to be used with an open mind, judging the results rather than the approach.&lt;/p&gt;
&lt;p&gt;As with everything, it is not a perfect solution and cannot be applied everywhere:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;it‚Äôs very easy to accept wrong snapshots by just pressing a button,&lt;/li&gt;
&lt;li&gt;when multiple snapshots are failing it‚Äôs complicated to cherry-pick the ones you want to accept, very easy to accept them all (including the failing ones),&lt;/li&gt;
&lt;li&gt;every time the name of a test is changed (&lt;code class=&quot;language-text&quot;&gt;describe&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;it&lt;/code&gt; or &lt;code class=&quot;language-text&quot;&gt;test&lt;/code&gt; descriptions), the snapshot gets re-generated and implicitly accepted as newly created snapshot, so if you also change the code implementation at the same time, you‚Äôd be potentially accepting a failing snapshot.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;On the other hand, knowing what to watch out for, snapshots represent a very valuable tool when it comes to checking how the UI reacts to code changes.&lt;/p&gt;
&lt;p&gt;My suggestion is to try it and give it a go for more than one week: I‚Äôm sure you won‚Äôt look back.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Dockerize your tests to run everywhere]]></title><description><![CDATA[With integration tests being an integral part of a webapp workflow, we should always try to find ways to make them run smoother and make our‚Ä¶]]></description><link>https://www.riccardocoppola.me/blog/dockerize-your-selenium-tests-to-run-everywhere/</link><guid isPermaLink="false">https://www.riccardocoppola.me/blog/dockerize-your-selenium-tests-to-run-everywhere/</guid><pubDate>Mon, 05 Sep 2016 09:30:00 GMT</pubDate><content:encoded>&lt;p&gt;With integration tests being an integral part of a webapp workflow, we should always try to find ways to make them run smoother and make our lives easier.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Note: This post was updated on May 2019&lt;/em&gt;&lt;/p&gt;
&lt;h2 id=&quot;my-dilemma&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#my-dilemma&quot; aria-label=&quot;my dilemma permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;My dilemma&lt;/h2&gt;
&lt;p&gt;I‚Äôve been working with Selenium Webdriver/WebdriverIO for years now, and the biggest complaint I have is that &lt;strong&gt;I need to have a selenium server running before starting my tests.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;This may seem like a minor problem, but it means having another tab open in my terminal, starting/stopping that process, and it all get way more difficult when you try to automate it in a CI environment. In addition to that, you need Java installed to run the Selenium server (or you can use the &lt;a href=&quot;https://www.npmjs.com/package/selenium-standalone&quot;&gt;selenium-standalone&lt;/a&gt; npm package, which removes the dependency from Java but still needs to be started/stopped).&lt;/p&gt;
&lt;p&gt;While solutions like &lt;a href=&quot;https://www.browserstack.com/&quot;&gt;Browserstack&lt;/a&gt; and &lt;a href=&quot;https://saucelabs.com&quot;&gt;Saucelabs&lt;/a&gt; are quite popular, they are not the quickest way of getting a feedback and &lt;strong&gt;sometimes you just want a quick run on Chrome to check that everything is ok&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;So how do you solve the problem of having to constantly start and stop your Selenium server? In other words, how do you create a container that runs in isolation and takes care of starting/stopping a selenium server for you? (plus running your tests, of course).&lt;/p&gt;
&lt;h2 id=&quot;enter-the-docker-and-docker-compose-world&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#enter-the-docker-and-docker-compose-world&quot; aria-label=&quot;enter the docker and docker compose world permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Enter the Docker (and Docker Compose) World&lt;/h2&gt;
&lt;p&gt;I am addicted to &lt;a href=&quot;https://www.docker.com/&quot;&gt;Docker&lt;/a&gt;: I‚Äôd containerize everything now.&lt;br&gt;
It is such a clean way of dealing with (or not dealing with, even better) OS compatibility that it‚Äôs a no brainer.&lt;/p&gt;
&lt;p&gt;Let‚Äôs apply it to a simple test case: running the webdriverIO example.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; assert &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;assert&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;describe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;webdriver.io page&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;should have the right title&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    browser&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;http://webdriver.io&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; title &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; browser&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getTitle&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    assert&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;equal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;title&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;WebdriverIO ¬∑ Next-gen WebDriver test framework for Node.js&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Of course, our application will also have its own &lt;code class=&quot;language-text&quot;&gt;package.json&lt;/code&gt; with all the dependencies listed there and a &lt;code class=&quot;language-text&quot;&gt;wdio.conf&lt;/code&gt; with all the WebdriverIO configuration, but hey, we all know that!&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;‚îú‚îÄ‚îÄ Dockerfile
‚îú‚îÄ‚îÄ README.md
‚îú‚îÄ‚îÄ docker-compose.yml
‚îú‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ test
‚îÇ   ‚îî‚îÄ‚îÄ index.spec.js
‚îî‚îÄ‚îÄ wdio.conf.js&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Our package.json defines a test script like this: &lt;code class=&quot;language-text&quot;&gt;&quot;test: wdio wdio.conf&quot;&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;To run the tests we need to install the npm dependencies and run the npm command:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;$ &lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; i
$ &lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; &lt;span class=&quot;token builtin class-name&quot;&gt;test&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;building-the-app&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#building-the-app&quot; aria-label=&quot;building the app permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Building the app&lt;/h3&gt;
&lt;p&gt;No need to install node.js, no need to install npm. Just Docker and a Dockerfile, like this:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;docker&quot;&gt;&lt;pre class=&quot;language-docker&quot;&gt;&lt;code class=&quot;language-docker&quot;&gt;&lt;span class=&quot;token instruction&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt; node:8&lt;/span&gt;
&lt;span class=&quot;token instruction&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;ADD&lt;/span&gt; . /app&lt;/span&gt;
&lt;span class=&quot;token instruction&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;WORKDIR&lt;/span&gt; /app&lt;/span&gt;
&lt;span class=&quot;token instruction&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;RUN&lt;/span&gt; npm i&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This is just a definition of what we want, a recipe. To build an image from it, we need some Docker magic (&lt;a href=&quot;https://docs.docker.com/v1.8/reference/commandline/build/&quot;&gt;docker build&lt;/a&gt;): &lt;code class=&quot;language-text&quot;&gt;docker build -t webdriverapp .&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;In plain English: ‚ÄúBuild the Dockerfile in this folder and name the result ‚Äòwebdriverapp‚Äô‚Äú. The result of a build is an image.&lt;/p&gt;
&lt;p&gt;To run the image, and create a container, we need some more Docker magic (&lt;a href=&quot;https://docs.docker.com/engine/reference/run/&quot;&gt;docker run&lt;/a&gt;): &lt;code class=&quot;language-text&quot;&gt;docker run --rm -ti webdriverapp npm test&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;In plain English: ‚ÄúRun the command &lt;code class=&quot;language-text&quot;&gt;npm test&lt;/code&gt; from the image named ‚Äúwebdriverapp‚Äù in interactive mode (&lt;code class=&quot;language-text&quot;&gt;-ti&lt;/code&gt;) and remove the container afterwards (&lt;code class=&quot;language-text&quot;&gt;--rm&lt;/code&gt;).&lt;/p&gt;
&lt;p&gt;We‚Äôre good! Run it, and you‚Äôll get an error saying that we need a Selenium server running!&lt;/p&gt;
&lt;h3 id=&quot;docker-compose&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#docker-compose&quot; aria-label=&quot;docker compose permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;docker-compose&lt;/h3&gt;
&lt;p&gt;We definitely need more than just a containerized version of our app: we need a whole stack (which, in this case, is a Selenium server, but it could be a Redis server, a mongodb server, etc) of applications that run in isolation and can communicate with each other.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://hub.docker.com/&quot;&gt;Docker Hub&lt;/a&gt; is like npm for Docker, you can find all sorts of pre-built images there. Turns out, the Selenium guys published a dockerized version of a standalone Selenium, &lt;a href=&quot;https://hub.docker.com/r/selenium/standalone-chrome/&quot;&gt;selenium/standalone-chrome&lt;/a&gt;. Running it with docker will create a container with a selenium server listening on the default port 4444 (always remember that when you run a container that listens on a port, you have to map that port on your host).&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;docker run -p 4444:4444 selenium/standalone-chrome&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;What we want now is to compose an architecture where the Selenium server is listening and our app is started and connects to it.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://docs.docker.com/compose/&quot;&gt;docker-compose&lt;/a&gt; is the answer.&lt;br&gt;
It lets us create a file (&lt;code class=&quot;language-text&quot;&gt;docker-compose.yml&lt;/code&gt;) where we define our stack and how different applications interact with each other.&lt;br&gt;
Easier done than said:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;dockerfile&quot;&gt;&lt;pre class=&quot;language-dockerfile&quot;&gt;&lt;code class=&quot;language-dockerfile&quot;&gt;app:
  build: .
  command: npm test -- --host selenium
  links:
    - selenium

selenium:
  image: selenium/standalone-chrome
  expose:
    - &quot;4444&quot;
  log_driver: &quot;none&quot;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The file defines two applications: &lt;code class=&quot;language-text&quot;&gt;app&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;selenium&lt;/code&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;app&lt;/code&gt; needs to be built, and the Dockerfile is in the same directory as docker-compose.yml (&lt;code class=&quot;language-text&quot;&gt;build: .&lt;/code&gt;).&lt;br&gt;
When started, we want to run a specific command: &lt;code class=&quot;language-text&quot;&gt;command: npm test -- --host selenium&lt;/code&gt;&lt;br&gt;
We also want it to have a link to the &lt;code class=&quot;language-text&quot;&gt;selenium&lt;/code&gt; app.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;selenium&lt;/code&gt;, instead, doesn‚Äôt need to be built, it uses a pre-built image from Docker Hub: &lt;code class=&quot;language-text&quot;&gt;image: selenium/standalone-chrome&lt;/code&gt;. It also exposes the port 4444.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;em&gt;Note that docker-compose creates a host for every application that exposes a port, and the hostname is the application name: &lt;code class=&quot;language-text&quot;&gt;selenium&lt;/code&gt; in this case.&lt;/em&gt; This is why we pass the option &lt;code class=&quot;language-text&quot;&gt;--host selenium&lt;/code&gt; to WebdriverIO: to tell it where the server is listening.&lt;/p&gt;
&lt;p&gt;Time to build the stack: &lt;code class=&quot;language-text&quot;&gt;docker-compose build .&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;And run it: &lt;code class=&quot;language-text&quot;&gt;docker-compose up .&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Done!&lt;/p&gt;
&lt;h3 id=&quot;github-repo&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#github-repo&quot; aria-label=&quot;github repo permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;GitHub repo&lt;/h3&gt;
&lt;p&gt;A fully working code example can be found on &lt;a href=&quot;https://github.com/ricca509/dockerize-webdriverio&quot;&gt;GitHub&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&quot;conclusions&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#conclusions&quot; aria-label=&quot;conclusions permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Conclusions&lt;/h2&gt;
&lt;p&gt;Docker and docker-compose can help us in many different ways: we can compose entire stacks in minutes. Need a Redis database? Add it to docker-compose. Need a RabbitMq queue? Add it!&lt;br&gt;
It is a simple and effective way to package an app and its dependencies.&lt;br&gt;
Of course in production you‚Äôll have your services hosted somewhere: no problem! You can have different &lt;a href=&quot;https://docs.docker.com/compose/production/&quot;&gt;docker-compose files for different environments&lt;/a&gt;, all defining different stacks!&lt;/p&gt;
&lt;p&gt;There is so much to learn and experiment with!&lt;br&gt;
My suggestion is to start with the &lt;a href=&quot;https://blog.docker.com/&quot;&gt;Docker blog&lt;/a&gt; and the &lt;a href=&quot;https://blog.docker.com/docker-weekly-archives/&quot;&gt;docker weekly newsletter&lt;/a&gt;, then the sky is the limit!&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Use proxyquire to mock your React components]]></title><description><![CDATA[Testing React components has become trivial as more and more of them are now stateless functions. The new shallow renderer and tools like‚Ä¶]]></description><link>https://www.riccardocoppola.me/blog/use-proxyquire-to-mock-your-react-components/</link><guid isPermaLink="false">https://www.riccardocoppola.me/blog/use-proxyquire-to-mock-your-react-components/</guid><pubDate>Mon, 18 Jul 2016 20:35:00 GMT</pubDate><content:encoded>&lt;p&gt;Testing React components has become trivial as more and more of them are now &lt;a href=&quot;https://facebook.github.io/react/docs/reusable-components.html#stateless-functions&quot;&gt;stateless functions&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The &lt;em&gt;new&lt;/em&gt; &lt;a href=&quot;https://facebook.github.io/react/docs/test-utils.html#shallow-rendering&quot;&gt;shallow renderer&lt;/a&gt; and tools like &lt;a href=&quot;http://airbnb.io/enzyme&quot;&gt;Enzyme&lt;/a&gt; make it possible to render a component ‚Äúone level deep‚Äù when testing, without even rendering it in &lt;a href=&quot;https://github.com/asbjornenge/testdom&quot;&gt;some sort of DOM&lt;/a&gt;, while still having a &lt;a href=&quot;http://airbnb.io/enzyme/docs/api/shallow.html&quot;&gt;great api&lt;/a&gt; to traverse the components‚Äô output and assert facts on its behaviour.&lt;/p&gt;
&lt;p&gt;Given all these great tools that we have, &lt;strong&gt;what happens when we have a &lt;em&gt;container&lt;/em&gt; component that renders &lt;em&gt;sub-components&lt;/em&gt; (child components) based on some sort of rule/logic?&lt;/strong&gt;&lt;br&gt;
How do we handle those dependencies to keep our unit tests free from dependencies?&lt;/p&gt;
&lt;h2 id=&quot;a-homepage-component-example&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#a-homepage-component-example&quot; aria-label=&quot;a homepage component example permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;A HomePage component example&lt;/h2&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; React &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;react&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Header &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;./Header&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Sidebar &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;./Sidebar&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Footer &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;./Footer&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; Oops &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;./Oops&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// Importing a non-default export&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;HomePage&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; error &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; component &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Header links&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;headerLinks&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Sidebar &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Footer links&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;footerLinks&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;error&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    component &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Oops message&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;error&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;message&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; component&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The example renders &lt;code class=&quot;language-text&quot;&gt;Header&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;Footer&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;Sidebar&lt;/code&gt; if there is no error, &lt;code class=&quot;language-text&quot;&gt;Oops&lt;/code&gt; otherwise.&lt;/p&gt;
&lt;h3 id=&quot;testing-the-homepage-component&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#testing-the-homepage-component&quot; aria-label=&quot;testing the homepage component permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Testing the HomePage component&lt;/h3&gt;
&lt;p&gt;When testing the &lt;code class=&quot;language-text&quot;&gt;HomePage&lt;/code&gt; component, we‚Äôll probably shallow render it and check that it renders the right components based on its props.&lt;/p&gt;
&lt;p&gt;Why shallow render is a good thing?&lt;br&gt;
From the &lt;a href=&quot;http://airbnb.io/enzyme/docs/api/shallow.html&quot;&gt;Enzyme docs&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Shallow rendering is useful to constrain yourself to testing a component as a unit, and to ensure that your tests aren‚Äôt indirectly asserting on behavior of child components.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The code:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; React &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;react&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; shallow &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;enzyme&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; HomePage &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;../components/HomePage&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Header &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;../components/Header&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Sidebar &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;../components/Sidebar&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Footer &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;../components/Footer&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; Oops &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;../components/Oops&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;describe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;The HomePage component&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;describe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;when there is no error&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;should render the page&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; props &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token literal-property property&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token literal-property property&quot;&gt;links&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; output &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;shallow&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;HomePage &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;props&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

      &lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;output&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Header&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;to&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;have&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;lengthOf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;output&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Sidebar&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;to&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;have&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;lengthOf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;output&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Footer&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;to&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;have&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;lengthOf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;output&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Oops&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;to&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;have&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;lengthOf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;describe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;when there is an error&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;should render the Oops&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; props &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token literal-property property&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token literal-property property&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;blown up&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; output &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;shallow&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;HomePage &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;props&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

      &lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;output&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Header&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;to&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;have&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;lengthOf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;output&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Sidebar&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;to&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;have&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;lengthOf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;output&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Footer&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;to&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;have&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;lengthOf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;output&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Oops&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;to&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;have&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;lengthOf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This test is importing the real &lt;code class=&quot;language-text&quot;&gt;Header&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;Footer&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;Sidebar&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;Oops&lt;/code&gt; components, creating a dependency when it should just &lt;em&gt;assume&lt;/em&gt; that they are behaving the way they are supposed to, so that if tomorrow the &lt;code class=&quot;language-text&quot;&gt;Header&lt;/code&gt; component blows up, the &lt;code class=&quot;language-text&quot;&gt;HomePage&lt;/code&gt; tests won‚Äôt be affected (the &lt;code class=&quot;language-text&quot;&gt;Header&lt;/code&gt; tests will, though!).&lt;/p&gt;
&lt;h2 id=&quot;introducing-proxyquire&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#introducing-proxyquire&quot; aria-label=&quot;introducing proxyquire permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Introducing proxyquire&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/thlorenz/proxyquire&quot;&gt;Proxyquire&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Proxies nodejs‚Äôs require in order to make overriding dependencies during testing easy while staying totally unobstrusive.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;This is how it comes to our rescue:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; React &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;react&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; shallow &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;enzyme&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; proxyquire &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;proxyquire&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

proxyquire&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;noCallThru&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;Header&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// stub component&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;Sidebar&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// stub component&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;Footer&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// stub component&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;Oops&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// stub component&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// Require the component to test (HomePage) through proxyquire&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// and pass it the stubbed dependencies&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; HomePage &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;proxyquire&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;../components/HomePage&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token string-property property&quot;&gt;&apos;./Header&apos;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Header&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token string-property property&quot;&gt;&apos;./Sidebar&apos;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Sidebar&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token string-property property&quot;&gt;&apos;./Footer&apos;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Footer&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token string-property property&quot;&gt;&apos;./Oops&apos;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; Oops &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;default&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;describe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;The HomePage component&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;describe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;when there is no error&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;should render the page&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; props &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token literal-property property&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token literal-property property&quot;&gt;links&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;&apos;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; output &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;shallow&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;HomePage &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;props&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      
      &lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;output&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Header&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;to&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;have&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;lengthOf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;output&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Sidebar&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;to&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;have&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;lengthOf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;output&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Footer&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;to&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;have&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;lengthOf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;output&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Oops&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;to&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;have&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;lengthOf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  
  &lt;span class=&quot;token function&quot;&gt;describe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;when there is an error&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;should render the Oops&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; props &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token literal-property property&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;token literal-property property&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;blown up&apos;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; output &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;shallow&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;HomePage &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;props&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      
      &lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;output&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Header&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;to&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;have&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;lengthOf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;output&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Sidebar&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;to&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;have&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;lengthOf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;output&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Footer&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;to&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;have&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;lengthOf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;output&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Oops&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;to&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;have&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;lengthOf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Code analysis:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;On line 5:&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;By default proxyquire calls the function defined on the original dependency whenever it is not found on the stub.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;We don‚Äôt want to call any function not defined in our component, so we define a more strict behaviour.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Lines 7-10: We define our mock components as simple stateless functions. We are not interested in what the component behaviour is, we just want to test that it receives the right props (that is being rendered correctly by the component under test).&lt;/li&gt;
&lt;li&gt;Lines 12-17: It is here that we pass our mocks to the &lt;code class=&quot;language-text&quot;&gt;HomePage&lt;/code&gt; component. We are not importing it at the top of the file, we are instead requiring it through proxyquire, passing it a set of dependencies that we want to mock.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;We don‚Äôt have to mock all the &lt;code class=&quot;language-text&quot;&gt;HomePage&lt;/code&gt; dependencies, only the ones that we want to control and we get back the &lt;code class=&quot;language-text&quot;&gt;HomePage&lt;/code&gt; component with all those dependencies replaced by our stubs.&lt;/p&gt;
&lt;h2 id=&quot;a-note-on-es6-modules&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#a-note-on-es6-modules&quot; aria-label=&quot;a note on es6 modules permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;A note on ES6 modules&lt;/h2&gt;
&lt;p&gt;At the top of &lt;code class=&quot;language-text&quot;&gt;HomePage.jsx&lt;/code&gt; we import the component‚Äôs dependencies:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Footer &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;./Footer&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; Oops &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;./Oops&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The first line is importing a &lt;em&gt;default&lt;/em&gt; export (&lt;code class=&quot;language-text&quot;&gt;export default function () { ¬∑¬∑¬∑ }&lt;/code&gt;), the second is importing a &lt;em&gt;named&lt;/em&gt; export (&lt;code class=&quot;language-text&quot;&gt;export function Footer () {...}&lt;/code&gt;);&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// math.js&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;a&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; b&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; a &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; b&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;sub&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;a&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; b&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; a &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; b&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// main.js&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; sub &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;./math&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; sum &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;./math&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// or const sum = require(&apos;./math&apos;).sum;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Given the code above, the result of the exports is an object that looks like this:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; math &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;./math&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;math&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// {&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//   default: function sub (a, b) {...},&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//   sum: function sum (a, b) {...}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// }&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This is why on line 19 in &lt;code class=&quot;language-text&quot;&gt;HomePage.proxy.spec.jsx&lt;/code&gt; we take the &lt;code class=&quot;language-text&quot;&gt;default&lt;/code&gt; object from the result returned by proxyquire: that is where the exported function is.&lt;/p&gt;
&lt;p&gt;The syntax &lt;code class=&quot;language-text&quot;&gt;import Footer from &apos;./Footer&apos;&lt;/code&gt; hides the fact that under the hood the imported object is whatever is found inside the &lt;code class=&quot;language-text&quot;&gt;default&lt;/code&gt; property of the object returned by &lt;code class=&quot;language-text&quot;&gt;./Footer&lt;/code&gt;.&lt;/p&gt;
&lt;h2 id=&quot;wrapping-up&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#wrapping-up&quot; aria-label=&quot;wrapping up permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Wrapping up&lt;/h2&gt;
&lt;p&gt;Proxyquire can mock all sorts of dependencies, this is just an example that applies to React; have a look at the &lt;a href=&quot;https://github.com/thlorenz/proxyquire#examples&quot;&gt;examples&lt;/a&gt; to see how powerful it can be.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Useful links:&lt;/em&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://exploringjs.com/es6/ch_modules.html&quot;&gt;exploringjs.com/es6/ch_modules.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://airbnb.io/enzyme&quot;&gt;airbnb.io/enzyme&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://airbnb.io/enzyme&quot;&gt;facebook.github.io/react/docs/test-utils.html&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Chrome: Allow Cross-domain requests [OSX and Win]]]></title><description><![CDATA[Problem During the development process of an application, we are often required to call services from domains different to the one our‚Ä¶]]></description><link>https://www.riccardocoppola.me/blog/chrome-allow-cross-domain-requests/</link><guid isPermaLink="false">https://www.riccardocoppola.me/blog/chrome-allow-cross-domain-requests/</guid><pubDate>Wed, 30 Mar 2016 14:42:14 GMT</pubDate><content:encoded>&lt;h2 id=&quot;problem&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#problem&quot; aria-label=&quot;problem permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Problem&lt;/h2&gt;
&lt;p&gt;During the development process of an application, we are often required to call services from domains different to the one our application is being served from, using AJAX requests.&lt;/p&gt;
&lt;p&gt;This is not possible, as outlined on &lt;a href=&quot;https://en.wikipedia.org/wiki/Same-origin_policy&quot;&gt;Wikipedia&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;In computing, the same-origin policy is an important concept in the web application security model. Under the policy, a web browser permits scripts contained in a first web page to access data in a second web page, but only if both web pages have the same origin. An origin is defined as a combination of URI scheme, hostname, and port number.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;solution&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#solution&quot; aria-label=&quot;solution permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Solution&lt;/h2&gt;
&lt;p&gt;In that case, you need to instruct your browser to ‚Äúdisable‚Äù the same-origin-policy check.&lt;/p&gt;
&lt;p&gt;Two possible ways:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;install a Chrome extension: &lt;a href=&quot;https://chrome.google.com/webstore/detail/allow-control-allow-origi/nlfbmbojpeacfghkpbjhddihlkkiljbi?hl=en&quot;&gt;Allow-Control-Allow-Origin: *&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;start a new instance of Chrome with the right flags&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;REM Windows

start chrome --disable-web-security --user-data-dir&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;C:/temp/chrome_dev&quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;// OSX

&lt;span class=&quot;token function&quot;&gt;open&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;-na&lt;/span&gt; Google&lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt; Chrome &lt;span class=&quot;token parameter variable&quot;&gt;--args&lt;/span&gt; --disable-web-security --user-data-dir&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;/tmp/chrome_dev&quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt; From Chrome version 22+ you will get an error message that says:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;You are using an unsupported command-line flag: --disable-web-security. Stability and security will suffer.&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You can ignore the message as it won‚Äôt affect your session.&lt;/p&gt;
&lt;h4 id=&quot;test-it&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#test-it&quot; aria-label=&quot;test it permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Test it!&lt;/h4&gt;
&lt;p&gt;To prove that the solution is working, open this &lt;a href=&quot;http://jsfiddle.net/6WHKQ/24/&quot;&gt;fiddle&lt;/a&gt; and play around with the console open: you will get no errors.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Enjoy Chrome freedom!&lt;/em&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[git: rename a branch [locally and remotely]]]></title><description><![CDATA[It happens to me quite a lot: I create a branch and then want to rename it to a more specific/correct name. If that branch has already been‚Ä¶]]></description><link>https://www.riccardocoppola.me/blog/git-rename-branch-locally-and-remotely/</link><guid isPermaLink="false">https://www.riccardocoppola.me/blog/git-rename-branch-locally-and-remotely/</guid><pubDate>Fri, 29 Jan 2016 15:13:00 GMT</pubDate><content:encoded>&lt;p&gt;It happens to me quite a lot: I create a branch and then want to rename it to a more specific/correct name.&lt;br&gt;
If that branch has already been pushed to a remote, this operation is a bit trickier than the usual renaming.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; branch &lt;span class=&quot;token parameter variable&quot;&gt;-m&lt;/span&gt; old_branch new_branch         &lt;span class=&quot;token comment&quot;&gt;# Rename branch locally    &lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; push origin :old_branch                 &lt;span class=&quot;token comment&quot;&gt;# Delete the old branch    &lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; push --set-upstream origin new_branch   &lt;span class=&quot;token comment&quot;&gt;# Push the new branch, set local branch to track the new remote&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Enjoy!&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Get yourself a headless Raspberry Pi with Node.js]]></title><description><![CDATA[This small article is meant to be an easy, step by step guide to installing a headless Raspberry Pi with Node.js. What‚Äôs covered: Install‚Ä¶]]></description><link>https://www.riccardocoppola.me/blog/how-to-configure-headless-raspberry-pi/</link><guid isPermaLink="false">https://www.riccardocoppola.me/blog/how-to-configure-headless-raspberry-pi/</guid><pubDate>Tue, 26 Jan 2016 11:07:08 GMT</pubDate><content:encoded>&lt;p&gt;&lt;em&gt;This small article is meant to be an easy, step by step guide to installing a headless Raspberry Pi with Node.js&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;What‚Äôs covered:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Install Raspbian Lite&lt;/li&gt;
&lt;li&gt;Find your Pi&lt;/li&gt;
&lt;li&gt;Go wireless&lt;/li&gt;
&lt;li&gt;Upgrade and get some goodies&lt;/li&gt;
&lt;li&gt;Node time&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Let‚Äôs do it!&lt;/p&gt;
&lt;h2 id=&quot;1-install-raspbian-lite&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#1-install-raspbian-lite&quot; aria-label=&quot;1 install raspbian lite permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;1. Install Raspbian Lite&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://www.raspberrypi.org/downloads/raspbian/&quot;&gt;Raspbian lite&lt;/a&gt; is a minimal version of Raspbian that doesn‚Äôt contain the desktop environment (useless for a headless setup).&lt;/p&gt;
&lt;p&gt;Download it on the &lt;a href=&quot;https://www.raspberrypi.org/downloads/raspbian/&quot;&gt;RaspberryPi website&lt;/a&gt; website and install it following &lt;a href=&quot;https://www.raspberrypi.org/documentation/installation/installing-images/README.md&quot;&gt;the instructions&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&quot;2-find-your-pi&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#2-find-your-pi&quot; aria-label=&quot;2 find your pi permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;2. Find your Pi&lt;/h2&gt;
&lt;p&gt;After you have your Raspberry Pi turned on and connected to the Ethernet network, you need to find its IP address.&lt;br&gt;
To make this work, you‚Äôll need your router to have a &lt;strong&gt;DHCP server enabled&lt;/strong&gt; and you also need to know the network your DHCP is releasing addresses to.&lt;/p&gt;
&lt;p&gt;Suppose the network is 192.168.0.0/24, then run: &lt;code class=&quot;language-text&quot;&gt;nmap -sn 192.168.0.0/24&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;‚ûú  ~  nmap &lt;span class=&quot;token parameter variable&quot;&gt;-sn&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;192.168&lt;/span&gt;.0.0/24

Starting Nmap &lt;span class=&quot;token number&quot;&gt;6.46&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt; http://nmap.org &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; at &lt;span class=&quot;token number&quot;&gt;2016&lt;/span&gt;-01-16 &lt;span class=&quot;token number&quot;&gt;16&lt;/span&gt;:01 GMT
Nmap scan report &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; Router.Home &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;192.168&lt;/span&gt;.0.1&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
Host is up &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;.045s latency&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;.
Nmap scan report &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; air &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;192.168&lt;/span&gt;.0.4&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
Host is up &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;.023s latency&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;.
Nmap scan report &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; raspy &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;192.168&lt;/span&gt;.0.19&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
Host is up &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;.040s latency&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;.
Nmap done: &lt;span class=&quot;token number&quot;&gt;256&lt;/span&gt; IP addresses &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt; hosts up&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; scanned &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1.25&lt;/span&gt; seconds&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now that you know where it lives (in this case 192.168.0.19), connect to it via SSH &lt;code class=&quot;language-text&quot;&gt;ssh pi@192.168.0.19&lt;/code&gt; password is &lt;em&gt;raspberry&lt;/em&gt;.&lt;/p&gt;
&lt;h2 id=&quot;3-go-wireless&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#3-go-wireless&quot; aria-label=&quot;3 go wireless permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;3. Go wireless&lt;/h2&gt;
&lt;p&gt;You‚Äôre now ready to connect to a WiFi network and get rid of that annoying cable:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Find the network you want to connect to&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;sudo iwlist wlan0 scan&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;You‚Äôll need the SSID and passkey to connect to the network.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Configure wpa_supplicant&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;sudo nano /etc/wpa_supplicant/wpa_supplicant.conf&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# /etc/wpa_supplicant/wpa_supplicant.conf&lt;/span&gt;

&lt;span class=&quot;token assign-left variable&quot;&gt;network&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token assign-left variable&quot;&gt;ssid&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;network_name&quot;&lt;/span&gt;
    &lt;span class=&quot;token assign-left variable&quot;&gt;psk&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;network_passkey&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Save, disconnect the cable and restart the network: &lt;code class=&quot;language-text&quot;&gt;sudo /etc/init.d/networking restart&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Now run the search again (point 2) and ssh to the new IP address.&lt;/p&gt;
&lt;h2 id=&quot;4-upgrade-and-get-some-goodies&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#4-upgrade-and-get-some-goodies&quot; aria-label=&quot;4 upgrade and get some goodies permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;4. Upgrade and get some goodies&lt;/h2&gt;
&lt;p&gt;Just to make sure you‚Äôre on the bleeding edge.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Update your system&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;sudo apt-get update &amp;amp;&amp;amp; sudo apt-get upgrade&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Add some useful packages&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;sudo apt-get install vim git zsh&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Get a better shell (&lt;a href=&quot;http://ohmyz.sh/&quot;&gt;Oh-my-zsh&lt;/a&gt;)&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;sh -c &quot;$(wget https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh -O -)&quot;&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&quot;5-node-time&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#5-node-time&quot; aria-label=&quot;5 node time permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;5. Node time&lt;/h2&gt;
&lt;p&gt;Time to get &lt;a href=&quot;https://nodejs.org/en/&quot;&gt;Node.js&lt;/a&gt;!&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Get and unpack it&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;token function&quot;&gt;wget&lt;/span&gt; https://nodejs.org/dist/v5.5.0/node-v5.5.0-linux-armv6l.tar.gz&lt;span class=&quot;token variable&quot;&gt;&lt;span class=&quot;token variable&quot;&gt;`&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;tar&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;-xvf&lt;/span&gt; node-v5.5.0-linux-armv6l.tar.gz&lt;span class=&quot;token variable&quot;&gt;`&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token builtin class-name&quot;&gt;cd&lt;/span&gt; node-v5.5.0-linux-armv6l&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;:&lt;br&gt;
For &lt;em&gt;Raspberry Pi Model A, B, B+&lt;/em&gt; use the &lt;em&gt;node-vx.x.x-linux-armv6l&lt;/em&gt; version.&lt;/p&gt;
&lt;p&gt;For &lt;em&gt;Raspberry Pi 2 Model B&lt;/em&gt; use the &lt;em&gt;node-vx.x.x-linux-armv7l&lt;/em&gt; version.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Remove non useful files&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;rm CHANGELOG.md LICENSE README.md&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Install it in &lt;code class=&quot;language-text&quot;&gt;/usr/local&lt;/code&gt;&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;sudo cp -R * /usr/local/&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;That‚Äôs it! You can now enjoy your headless, lightweight Rapberry Pi now!&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Sources:&lt;/em&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://www.raspberrypi.org/documentation/installation/installing-images/README.md&quot;&gt;https://www.raspberrypi.org/documentation/installation/installing-images/README.md&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.raspberrypi.org/documentation/configuration/wireless/wireless-cli.md&quot;&gt;https://www.raspberrypi.org/documentation/configuration/wireless/wireless-cli.md&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://blog.wia.io/installing-node-js-v4-0-0-on-a-raspberry-pi/&quot;&gt;http://blog.wia.io/installing-node-js-v4-0-0-on-a-raspberry-pi/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Save the exact version of a module with npm]]></title><description><![CDATA[npm is definitely a very useful tool, but its default behaviour is more tailored for module development than for applications. What I‚Äôd like‚Ä¶]]></description><link>https://www.riccardocoppola.me/blog/save-exact-version-of-module-npm/</link><guid isPermaLink="false">https://www.riccardocoppola.me/blog/save-exact-version-of-module-npm/</guid><pubDate>Thu, 10 Dec 2015 11:39:00 GMT</pubDate><content:encoded>&lt;p&gt;npm is definitely a very useful tool, but its default behaviour is more tailored for module development than for applications.&lt;/p&gt;
&lt;p&gt;What I‚Äôd like it to do every time I install a dependency is:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;save it in my &lt;code class=&quot;language-text&quot;&gt;package.json&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;install the &lt;em&gt;exact&lt;/em&gt; version of the module, without any caret &lt;code class=&quot;language-text&quot;&gt;^&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;1&lt;/strong&gt; is easily achieved with &lt;code class=&quot;language-text&quot;&gt;npm install myModule --save&lt;/code&gt;, while to achieve &lt;strong&gt;2&lt;/strong&gt; you have to add an additional &lt;code class=&quot;language-text&quot;&gt;--save-exact&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Typing this everytime is annoying, but with the use of &lt;code class=&quot;language-text&quot;&gt;~/.npmrc&lt;/code&gt; this behaviour can become a default:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;$ &lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; config &lt;span class=&quot;token builtin class-name&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;token assign-left variable&quot;&gt;save&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;true
$ &lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; config &lt;span class=&quot;token builtin class-name&quot;&gt;set&lt;/span&gt; save-exact&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;true&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This will do the trick, and now every time you &lt;code class=&quot;language-text&quot;&gt;npm install myModule&lt;/code&gt;, it will install the exact version (no &lt;code class=&quot;language-text&quot;&gt;^&lt;/code&gt;) and save it in &lt;code class=&quot;language-text&quot;&gt;package.json&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Happy dev!&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Custom build Zepto with Grunt and Bower]]></title><description><![CDATA[Workflow: I think it‚Äôs the most important thing for a frontend developer. I like tweaking, improving and fixing my workflow: it makes me‚Ä¶]]></description><link>https://www.riccardocoppola.me/blog/custom-build-zepto-on-fly-with-grunt/</link><guid isPermaLink="false">https://www.riccardocoppola.me/blog/custom-build-zepto-on-fly-with-grunt/</guid><pubDate>Mon, 03 Nov 2014 22:34:58 GMT</pubDate><content:encoded>&lt;p&gt;&lt;em&gt;Workflow: I think it‚Äôs the most important thing for a frontend developer. I like tweaking, improving and fixing my workflow: it makes me feel safe. It makes my life easier, my job quickly done.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;The following is another piece of my workflow that I am happy to share with you, hopefully it‚Äôll make your life easier as well.&lt;/em&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Zepto is a minimalist JavaScript library for modern browsers with a largely jQuery-compatible API. If you use jQuery, you already know how to use Zepto.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;At the time of writing, these are the uncompressed sizes of the libraries:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;jQuery&lt;/strong&gt; v2.1.1.js - &lt;strong&gt;247k&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Zepto&lt;/strong&gt; v.1.1.4 (minimal, no additional modules) - &lt;strong&gt;54.2k&lt;/strong&gt;: 159k lighter (64%)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Zepto&lt;/strong&gt; v.1.1.4 (complete, all additional modules) - &lt;strong&gt;88k&lt;/strong&gt;: 193k lighter (78%)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;zepto-plugins-and-custom-builds&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#zepto-plugins-and-custom-builds&quot; aria-label=&quot;zepto plugins and custom builds permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Zepto plugins and custom builds&lt;/h2&gt;
&lt;p&gt;Zepto comes, in it‚Äôs default ‚Äòpackage‚Äô, as a small library without additional jQuery modules like event, ajax, data, deferred, etc.&lt;/p&gt;
&lt;p&gt;You may be perfectly fine with this, but if you want to take advantage of these additional features or you have to integrate Zepto with libraries like Backbone, then you need some additional modules.&lt;/p&gt;
&lt;p&gt;In this case, to keep the size as low as possible, you may want to create a custom build of Zepto, tailored on your specific needs.&lt;/p&gt;
&lt;h3 id=&quot;the-zepto-online-builder&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#the-zepto-online-builder&quot; aria-label=&quot;the zepto online builder permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;The Zepto online builder&lt;/h3&gt;
&lt;p&gt;The first place you may want to look into is the online &lt;a href=&quot;http://github.e-sites.nl/zeptobuilder/&quot;&gt;Zepto builder&lt;/a&gt;.&lt;br&gt;
It lets you choose the plugins and download your custom build.&lt;/p&gt;
&lt;p&gt;This may work for you if you just need to quickly build your Zepto, but if you want to integrate this in your workflow, it‚Äôs probably not the right way.&lt;/p&gt;
&lt;h3 id=&quot;zepto-custom-build-on-fly&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#zepto-custom-build-on-fly&quot; aria-label=&quot;zepto custom build on fly permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Zepto custom build on fly&lt;/h3&gt;
&lt;p&gt;If you want to keep using &lt;a href=&quot;http://bower.io/&quot;&gt;Bower&lt;/a&gt; to handle your dependencies (see &lt;a href=&quot;http://www.ricca509.me/bower-and-grunt-a-practical-workflow/&quot;&gt;how to integrate Grunt and Bower in your workflow&lt;/a&gt;), then you need more flexibility than having to go and build your library on a website.&lt;/p&gt;
&lt;p&gt;The workflow that we‚Äôll create will consist of the following steps:&lt;/p&gt;
&lt;ol start=&quot;0&quot;&gt;
&lt;li&gt;Install Bower and Zepto&lt;/li&gt;
&lt;li&gt;Run &lt;a href=&quot;http://bower.io/&quot;&gt;Bower&lt;/a&gt; to fetch the full Zepto source&lt;/li&gt;
&lt;li&gt;Build a custom version of Zepto based on the plugin you need&lt;/li&gt;
&lt;li&gt;Run &lt;a href=&quot;https://github.com/timmywil/grunt-bowercopy&quot;&gt;grunt-bowercopy&lt;/a&gt; to copy the final file in our vendor folder&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;: I assume that you are using &lt;a href=&quot;https://github.com/firstandthird/load-grunt-config&quot;&gt;load-grunt-config&lt;/a&gt; to load your Grunt tasks.&lt;/p&gt;
&lt;h3 id=&quot;step-1-install-bower-and-zepto&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#step-1-install-bower-and-zepto&quot; aria-label=&quot;step 1 install bower and zepto permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Step 1. Install Bower and Zepto&lt;/h3&gt;
&lt;p&gt;First of all you need to install Bower (I install it locally to avoid any dependency): &lt;code class=&quot;language-text&quot;&gt;npm install --save-dev bower&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Now, you are ready to install Zepto: &lt;code class=&quot;language-text&quot;&gt;node_modules/.bin/bower install --save zeptojs&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&quot;step-2-run-bower-to-fetch-the-full-zepto-source&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#step-2-run-bower-to-fetch-the-full-zepto-source&quot; aria-label=&quot;step 2 run bower to fetch the full zepto source permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Step 2. Run &lt;a href=&quot;http://bower.io/&quot;&gt;Bower&lt;/a&gt; to fetch the full Zepto source&lt;/h3&gt;
&lt;p&gt;To do this, I use the &lt;a href=&quot;https://github.com/sindresorhus/grunt-shell&quot;&gt;grunt-shell&lt;/a&gt; task, perfect to run command-line stuff from Grunt. &lt;code class=&quot;language-text&quot;&gt;npm install --save-dev grunt-shell&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Then, in your &lt;code class=&quot;language-text&quot;&gt;shell.js&lt;/code&gt; file (your Grunt task definition):&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// grunt/shell.js&lt;/span&gt;

module&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;exports&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;use strict&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token literal-property property&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token literal-property property&quot;&gt;stderr&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token literal-property property&quot;&gt;runBower&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token literal-property property&quot;&gt;command&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;node_modules/.bin/bower install&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now, running &lt;code class=&quot;language-text&quot;&gt;grunt shell:runBower&lt;/code&gt; you should see Bower fetching your Zepto.&lt;/p&gt;
&lt;p&gt;What you have now is the full source of the library: we need to create our custom build.&lt;/p&gt;
&lt;h3 id=&quot;step-3-build-zepto-based-on-the-plugins-you-need&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#step-3-build-zepto-based-on-the-plugins-you-need&quot; aria-label=&quot;step 3 build zepto based on the plugins you need permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Step 3. Build Zepto based on the plugins you need&lt;/h3&gt;
&lt;p&gt;Again, since it is a shell command, the &lt;a href=&quot;https://github.com/sindresorhus/grunt-shell&quot;&gt;grunt-shell&lt;/a&gt; task will help us.&lt;br&gt;
You can learn more about creating custom Zepto builds on &lt;a href=&quot;https://github.com/madrobby/zepto#building&quot;&gt;GitHub&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;For our example, we need to create a build with the following plugins: &lt;strong&gt;zepto, event, ajax, form, data, deferred, callbacks&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;We‚Äôll create a &lt;code class=&quot;language-text&quot;&gt;buildZepto&lt;/code&gt; task for it in our &lt;code class=&quot;language-text&quot;&gt;shell.js&lt;/code&gt; file:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// grunt/shell.js&lt;/span&gt;

module&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;exports&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;use strict&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token literal-property property&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token literal-property property&quot;&gt;stderr&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token literal-property property&quot;&gt;runBower&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token literal-property property&quot;&gt;command&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;node ./node_modules/.bin/bower install&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token literal-property property&quot;&gt;buildZepto&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token literal-property property&quot;&gt;command&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;cd bower_components/zeptojs&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&quot;npm install&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token string&quot;&gt;&apos;MODULES=&quot;zepto event ajax form data deferred callbacks&quot; npm run-script dist&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;&amp;amp;&amp;amp;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Running &lt;code class=&quot;language-text&quot;&gt;grunt shell:buildZepto&lt;/code&gt; will now build your custom Zepto and place it into your &lt;code class=&quot;language-text&quot;&gt;bower_components/zeptojs&lt;/code&gt; folder.&lt;/p&gt;
&lt;p&gt;Now it‚Äôs time to copy just the file that we need in our &lt;code class=&quot;language-text&quot;&gt;vendor&lt;/code&gt; folder.&lt;/p&gt;
&lt;h3 id=&quot;step-4-run-grunt-bowercopy-to-copy-the-final-file-in-our-vendor-folder&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#step-4-run-grunt-bowercopy-to-copy-the-final-file-in-our-vendor-folder&quot; aria-label=&quot;step 4 run grunt bowercopy to copy the final file in our vendor folder permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Step 4. Run &lt;a href=&quot;https://github.com/timmywil/grunt-bowercopy&quot;&gt;grunt-bowercopy&lt;/a&gt; to copy the final file in our vendor folder&lt;/h3&gt;
&lt;p&gt;There is an awesome Grunt task that will take care of copying just the stuff that you need, from your &lt;code class=&quot;language-text&quot;&gt;bower_components&lt;/code&gt; folder to your &lt;code class=&quot;language-text&quot;&gt;vendor&lt;/code&gt;. It is called &lt;a href=&quot;https://github.com/timmywil/grunt-bowercopy&quot;&gt;grunt-bowercopy&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;So, go ahead and install it: &lt;code class=&quot;language-text&quot;&gt;npm install grunt-bowercopy --save-dev&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Now, it‚Äôs time to configure it, creating a &lt;code class=&quot;language-text&quot;&gt;bowercopy.js&lt;/code&gt; file into your &lt;code class=&quot;language-text&quot;&gt;grunt&lt;/code&gt; folder.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// grunt/bowercopy.js&lt;/span&gt;

module&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;exports&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&apos;use strict&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token literal-property property&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token literal-property property&quot;&gt;runBower&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token literal-property property&quot;&gt;js&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token literal-property property&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;token literal-property property&quot;&gt;destPrefix&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;js/vendor&apos;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token literal-property property&quot;&gt;files&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
                &lt;span class=&quot;token string-property property&quot;&gt;&apos;zepto&apos;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;zeptojs/dist/zepto.js&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Try to run &lt;code class=&quot;language-text&quot;&gt;grunt bowercopy&lt;/code&gt; now, and you‚Äôll find a &lt;code class=&quot;language-text&quot;&gt;zepto.js&lt;/code&gt; file in your &lt;code class=&quot;language-text&quot;&gt;vendor&lt;/code&gt; folder. Amazing, we achieved exactly what we wanted.&lt;/p&gt;
&lt;h2 id=&quot;wrap-it-up&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#wrap-it-up&quot; aria-label=&quot;wrap it up permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Wrap it up&lt;/h2&gt;
&lt;p&gt;To make our life easier, let‚Äôs create an alias that will do everything for us in one command.&lt;br&gt;
In our &lt;code class=&quot;language-text&quot;&gt;aliases.js&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// grunt/aliases.js&lt;/span&gt;

&lt;span class=&quot;token literal-property property&quot;&gt;vendor&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;clean:vendor&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;shell:runBower&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;shell:buildZepto&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;bowercopy:js&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;To test it, run &lt;code class=&quot;language-text&quot;&gt;grunt vendor&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Happy coding,&lt;/p&gt;
&lt;p&gt;Riccardo&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Bower and Grunt - A practical workflow]]></title><description><![CDATA[Bower & Grunt - A practical workflow on my slideshare Bower is a great tool: it searches, downloads and tracks all our front end‚Ä¶]]></description><link>https://www.riccardocoppola.me/blog/bower-and-grunt-a-practical-workflow/</link><guid isPermaLink="false">https://www.riccardocoppola.me/blog/bower-and-grunt-a-practical-workflow/</guid><pubDate>Tue, 14 Oct 2014 21:25:33 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a href=&quot;https://www.slideshare.net/coppolariccardo/bower-grunt-a-practical-workflow&quot;&gt;Bower &amp;#x26; Grunt - A practical workflow&lt;/a&gt; on my &lt;a href=&quot;http://www.slideshare.net/coppolariccardo&quot;&gt;slideshare&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Bower is a great tool: it searches, downloads and tracks all our front end dependencies.&lt;/p&gt;
&lt;p&gt;But it is not enough: we get all sort of useless files when we download our libraries: &lt;code class=&quot;language-text&quot;&gt;docs/&lt;/code&gt; &lt;code class=&quot;language-text&quot;&gt;test/&lt;/code&gt; &lt;code class=&quot;language-text&quot;&gt;src/&lt;/code&gt; &lt;code class=&quot;language-text&quot;&gt;dist/&lt;/code&gt; all this folders ar useless for us.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;We only need &lt;em&gt;one file&lt;/em&gt;, usually &lt;em&gt;non minified&lt;/em&gt; (we all have a uglify task in our workflow, do we?)&lt;/li&gt;
&lt;li&gt;We want to be able to copy &lt;code class=&quot;language-text&quot;&gt;css&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;js&lt;/code&gt; to different &lt;em&gt;vendor&lt;/em&gt; folder&lt;/li&gt;
&lt;li&gt;We do not want to commit our &lt;code class=&quot;language-text&quot;&gt;bower_components&lt;/code&gt; folder&lt;/li&gt;
&lt;li&gt;We want just the libraries that we &lt;strong&gt;use&lt;/strong&gt; in our vendor folders&lt;/li&gt;
&lt;li&gt;We want just &lt;strong&gt;one version&lt;/strong&gt; of each library in our vendor folders&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;So, it is clear that Bower alone is not enough, so I put together a very simple yet powerful workflow to get all these points sorted.&lt;/p&gt;
&lt;h2 id=&quot;step-1-bower&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#step-1-bower&quot; aria-label=&quot;step 1 bower permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Step 1: Bower&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;A package manager for the web&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Use Bower as you always do, saving your dependencies into the &lt;code class=&quot;language-text&quot;&gt;bower.json&lt;/code&gt; file with the &lt;code class=&quot;language-text&quot;&gt;--save&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;--save-dev&lt;/code&gt; flags.&lt;/p&gt;
&lt;h2 id=&quot;step-2-grunt-bowercopy&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#step-2-grunt-bowercopy&quot; aria-label=&quot;step 2 grunt bowercopy permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Step 2: &lt;code class=&quot;language-text&quot;&gt;grunt-bowercopy&lt;/code&gt;&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;Consistently positions your dependencies where you want them in your repository&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Once you have all your dependencies in your &lt;code class=&quot;language-text&quot;&gt;bower_components&lt;/code&gt; folder, it is time to move them into specific folders (e.g. &lt;code class=&quot;language-text&quot;&gt;/publis/js/vendor/&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;/publis/css/vendor/&lt;/code&gt;): &lt;a href=&quot;https://github.com/timmywil/grunt-bowercopy&quot;&gt;grunt-bowercopy&lt;/a&gt; is the tool for you.&lt;/p&gt;
&lt;p&gt;Install the plugin: &lt;code class=&quot;language-text&quot;&gt;npm install grunt-bowercopy --save-dev&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Now create a Grunt task for it. In your &lt;code class=&quot;language-text&quot;&gt;grunt&lt;/code&gt; folder (you are using &lt;a href=&quot;https://github.com/firstandthird/load-grunt-config&quot;&gt;load-grunt-config&lt;/a&gt;, right?), create a new file: &lt;code class=&quot;language-text&quot;&gt;bowercopy.js&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;The following is just an example. Notice that you don‚Äôt need to specify the &lt;code class=&quot;language-text&quot;&gt;bower_components&lt;/code&gt; folder in your configuration: grunt-bowercopy will read your &lt;code class=&quot;language-text&quot;&gt;.bowerrc&lt;/code&gt; and will prepend the right folder name for you.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&quot;use strict&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

module&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;exports&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token literal-property property&quot;&gt;js&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token literal-property property&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token literal-property property&quot;&gt;destPrefix&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;public/js/vendor&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token literal-property property&quot;&gt;files&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token string-property property&quot;&gt;&quot;jquery.js&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;jquery/jquery.js&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token string-property property&quot;&gt;&quot;require.js&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;requirejs/require.js&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token literal-property property&quot;&gt;sass&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token literal-property property&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token literal-property property&quot;&gt;destPrefix&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;public/css/vendor&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token literal-property property&quot;&gt;files&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token literal-property property&quot;&gt;bootstrap&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;bootstrap-sass-official/bootstrap.js&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If you now run &lt;code class=&quot;language-text&quot;&gt;grunt bowercopy&lt;/code&gt;, it will run &lt;code class=&quot;language-text&quot;&gt;bower install&lt;/code&gt; for you, then will copy the files in the right place: points 1, 2, 3 sorted!&lt;/p&gt;
&lt;h2 id=&quot;step-3-grunt-contrib-clean&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#step-3-grunt-contrib-clean&quot; aria-label=&quot;step 3 grunt contrib clean permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Step 3: &lt;code class=&quot;language-text&quot;&gt;grunt-contrib-clean&lt;/code&gt;&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;Clean files and folders.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Ok, now that we have everything in place, we want to make sure that our vendor folders don‚Äôt grow, so we‚Äôll clean them every time we commit!&lt;/p&gt;
&lt;p&gt;Install the plugin: &lt;code class=&quot;language-text&quot;&gt;npm install grunt-contrib-clean --save-dev&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Now in your &lt;code class=&quot;language-text&quot;&gt;grunt&lt;/code&gt; folder, create a new file: &lt;code class=&quot;language-text&quot;&gt;clean.js&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&apos;use strict&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

module&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;exports&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token literal-property property&quot;&gt;vendor&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;public/css/vendor/*&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;public/js/vendor/*&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Running &lt;code class=&quot;language-text&quot;&gt;grunt clean:vendor&lt;/code&gt; will now delete everything beneath the two vendor folders: points 4 and 5 sorted!&lt;/p&gt;
&lt;h2 id=&quot;everything-together&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#everything-together&quot; aria-label=&quot;everything together permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Everything together&lt;/h2&gt;
&lt;p&gt;It‚Äôs time to create an alias an put all this task at work, together!&lt;/p&gt;
&lt;p&gt;in your &lt;code class=&quot;language-text&quot;&gt;grunt&lt;/code&gt; folder, add to your &lt;code class=&quot;language-text&quot;&gt;aliases.js&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&apos;use strict&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

module&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;exports&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token literal-property property&quot;&gt;vendor&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;clean:vendor&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;bowercopy&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token literal-property property&quot;&gt;precommit&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;vendor&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;That‚Äôs it!&lt;br&gt;
In your &lt;code class=&quot;language-text&quot;&gt;precommit&lt;/code&gt; task, when you lint your files, run your tests and coverage and so on, make sure to include the &lt;code class=&quot;language-text&quot;&gt;vendor&lt;/code&gt; task and your vendor folders will always be clean and lightweight!&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;If you commit your dependencies&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Ignore your &lt;code class=&quot;language-text&quot;&gt;bower_components&lt;/code&gt; and commit your clean &lt;code class=&quot;language-text&quot;&gt;/publis/js/vendor/&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;/publis/css/vendor/&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;If you DO NOT commit your dependencies&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Ignore your &lt;code class=&quot;language-text&quot;&gt;bower_components&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;/publis/js/vendor/&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;/publis/css/vendor/&lt;/code&gt;.&lt;br&gt;
Have your CI run &lt;code class=&quot;language-text&quot;&gt;grunt vendor&lt;/code&gt; as first step of your workflow.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Enjoy your coding time!&lt;/strong&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Jasmine: mock an endpoint using $.ajax and Promises for Backbone]]></title><description><![CDATA[The aim of this post is to write a mock version of the  that will let your code use promises and Backbone perform its stuff. It is often‚Ä¶]]></description><link>https://www.riccardocoppola.me/blog/jasmine-mock-ajax-for-backbone-requests/</link><guid isPermaLink="false">https://www.riccardocoppola.me/blog/jasmine-mock-ajax-for-backbone-requests/</guid><pubDate>Tue, 23 Sep 2014 15:03:35 GMT</pubDate><content:encoded>&lt;p&gt;&lt;em&gt;The aim of this post is to write a mock version of the &lt;code class=&quot;language-text&quot;&gt;$.ajax&lt;/code&gt; that will let your code use promises and Backbone perform its stuff.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;It is often required to test how collections and models behave when you ask them to fetch data from the server.&lt;/p&gt;
&lt;p&gt;To test the flow completely, I prefer not to mock the &lt;code class=&quot;language-text&quot;&gt;sync&lt;/code&gt; of &lt;code class=&quot;language-text&quot;&gt;fetch&lt;/code&gt; methods. I instead do a step back and mock the &lt;code class=&quot;language-text&quot;&gt;$.ajax&lt;/code&gt;, to make sure everything is working fine.&lt;/p&gt;
&lt;h2 id=&quot;but-i-want-to-use-promises&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#but-i-want-to-use-promises&quot; aria-label=&quot;but i want to use promises permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;But I want to use promises&lt;/h2&gt;
&lt;p&gt;To add a layer of complexity, I really like to use &lt;em&gt;promises&lt;/em&gt; when I fetch collections or model, like this:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;myCollection&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fetch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;options&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;done&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// cool stuff&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now, even if it is just a detail, when you mock the &lt;code class=&quot;language-text&quot;&gt;$.ajax&lt;/code&gt; you need to keep that in mind, since you will also have to provide a promise as part of the mock.&lt;/p&gt;
&lt;h2 id=&quot;code-setup&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#code-setup&quot; aria-label=&quot;code setup permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Code setup&lt;/h2&gt;
&lt;p&gt;This is the simple collection we‚Äôll be testing:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; Comments &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Bakbone&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Collection&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;extend&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token literal-property property&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;/comments&apos;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;And this is the JSON we expect from the server:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Richard&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;text&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;What a beautiful day&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Mark&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;text&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;What a rainy day&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;When we fetch this data from the server, we expect to get two models inside our collection.&lt;/p&gt;
&lt;p&gt;Our simple test, just to show how to mock the &lt;code class=&quot;language-text&quot;&gt;$.ajax&lt;/code&gt; method and be able to use promises:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token function&quot;&gt;describe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;The Comments collection&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;beforeEach&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;collection &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Comments&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token function&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;should fetch data from the server&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;done&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// If the &apos;done&apos; method is called,&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// the $.ajax correctly return a promise&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;collection&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fetch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;done&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token comment&quot;&gt;// If the collection&apos;s length is as expected&lt;/span&gt;
            &lt;span class=&quot;token comment&quot;&gt;// the $.ajax is letting Backbone do it&apos;s magic&lt;/span&gt;
            &lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;collection&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toEqual&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;token function&quot;&gt;done&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;first-attempt-to-mock-ajax&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#first-attempt-to-mock-ajax&quot; aria-label=&quot;first attempt to mock ajax permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;First attempt to mock &lt;code class=&quot;language-text&quot;&gt;$.ajax&lt;/code&gt;&lt;/h2&gt;
&lt;p&gt;We can start writing a simple mock for the &lt;code class=&quot;language-text&quot;&gt;$.ajax&lt;/code&gt; this way:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token function&quot;&gt;spyOn&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;$&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;ajax&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;and&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;callFake&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; d &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; $&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;Deferred&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        response &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            your_response
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;// Resolving the promise&lt;/span&gt;
    d&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;response&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// Returning the promise to be used in our code&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; d&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;promise&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;We are creating a &lt;code class=&quot;language-text&quot;&gt;Deferred&lt;/code&gt; object and returning a &lt;code class=&quot;language-text&quot;&gt;promise&lt;/code&gt;, the &lt;em&gt;read-only&lt;/em&gt; version of the deferred. This will let our test go into the &lt;code class=&quot;language-text&quot;&gt;done&lt;/code&gt; callback. Anyway, even if it passes the first step, the expectation will fail: the lenght of the collection is 0.&lt;/p&gt;
&lt;h2 id=&quot;delving-into-backbone-code-fetch&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#delving-into-backbone-code-fetch&quot; aria-label=&quot;delving into backbone code fetch permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Delving into Backbone code: &lt;code class=&quot;language-text&quot;&gt;fetch&lt;/code&gt;&lt;/h2&gt;
&lt;p&gt;To understand why our code is not completely working, we need to know more about the &lt;a href=&quot;http://backbonejs.org/docs/backbone.html&quot;&gt;Backbone implementation&lt;/a&gt;: check the &lt;code class=&quot;language-text&quot;&gt;fetch&lt;/code&gt; &lt;a href=&quot;http://backbonejs.org/docs/backbone.html#section-112&quot;&gt;source code&lt;/a&gt; for the Collection.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// From the Backbone source code...&lt;/span&gt;
&lt;span class=&quot;token function-variable function&quot;&gt;fetch&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
    options&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function-variable function&quot;&gt;success&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;resp&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;// Something to do when the data come back&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;sync&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;read&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; options&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;As you can see, Backbone prepares a &lt;code class=&quot;language-text&quot;&gt;options.success&lt;/code&gt; callback and passes it to the &lt;code class=&quot;language-text&quot;&gt;sync&lt;/code&gt; method (&lt;code class=&quot;language-text&quot;&gt;return this.sync(&apos;read&apos;, this, options)&lt;/code&gt;), that will pass it straight to the &lt;code class=&quot;language-text&quot;&gt;$.ajax&lt;/code&gt; method.&lt;br&gt;
Bingo!&lt;/p&gt;
&lt;p&gt;In our case, we are resolving a promise, but not calling any callback, so Backbone will never get any data back from the call!&lt;/p&gt;
&lt;h2 id=&quot;a-working-mock-of-ajax&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#a-working-mock-of-ajax&quot; aria-label=&quot;a working mock of ajax permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;A working mock of &lt;code class=&quot;language-text&quot;&gt;$.ajax&lt;/code&gt;&lt;/h2&gt;
&lt;p&gt;Keeping in mind that the &lt;code class=&quot;language-text&quot;&gt;success&lt;/code&gt; callback is passed as part of the &lt;code class=&quot;language-text&quot;&gt;options&lt;/code&gt; object to the &lt;code class=&quot;language-text&quot;&gt;$.ajax&lt;/code&gt; method, all we have to do is call it passing our &lt;code class=&quot;language-text&quot;&gt;response&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token function&quot;&gt;spyOn&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;$&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;ajax&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;and&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;callFake&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; d &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; $&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;Deferred&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        response &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            your_response
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;// Resolving the promise&lt;/span&gt;
    d&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;response&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// Calling the Backbone&apos;s callback&lt;/span&gt;
    options&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;success&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;response&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// Returning the promise to be used in our code&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; d&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;promise&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Try again, and your test will pass.&lt;/p&gt;
&lt;p&gt;A good way to learn new things is always to look at the source code :-)&lt;/p&gt;
&lt;p&gt;Riccardo&lt;/p&gt;</content:encoded></item><item><title><![CDATA[OS X/Linux: Check who is listening on a port]]></title><description><![CDATA[If you ever experienced errors like  you may be interested in finding out who is actually using that port. A simple one-liner that works on‚Ä¶]]></description><link>https://www.riccardocoppola.me/blog/osxlinux-check-who-is-listening-on-a-port/</link><guid isPermaLink="false">https://www.riccardocoppola.me/blog/osxlinux-check-who-is-listening-on-a-port/</guid><pubDate>Thu, 18 Sep 2014 08:31:59 GMT</pubDate><content:encoded>&lt;p&gt;If you ever experienced errors like &lt;code class=&quot;language-text&quot;&gt;Fatal error: Port xxxxx is already in use by another process&lt;/code&gt; you may be interested in finding out who is actually using that port.&lt;/p&gt;
&lt;p&gt;A simple one-liner that works on Mac OSX and Linux will tell you what you need: &lt;code class=&quot;language-text&quot;&gt;lsof -n -i4TCP:$PORT | grep LISTEN $PORT&lt;/code&gt; is the port you are trying to use.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[How to fix 'npm install' errors on OS X]]></title><description><![CDATA[TL;DR I‚Äôve had this problem for a while: fresh nodejs and npm installation, I try to run  or  and get all kind of errors. Errors when‚Ä¶]]></description><link>https://www.riccardocoppola.me/blog/fix-those-npm-install-errors-when-not-running-under-sudo-in-osx/</link><guid isPermaLink="false">https://www.riccardocoppola.me/blog/fix-those-npm-install-errors-when-not-running-under-sudo-in-osx/</guid><pubDate>Sun, 14 Sep 2014 17:28:14 GMT</pubDate><content:encoded>&lt;h2 id=&quot;tldr&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#tldr&quot; aria-label=&quot;tldr permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;TL;DR&lt;/h2&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;chown&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;token environment constant&quot;&gt;$USER&lt;/span&gt; /usr/local
&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;chown&lt;/span&gt; &lt;span class=&quot;token parameter variable&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;token environment constant&quot;&gt;$USER&lt;/span&gt; ~/.npm&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I‚Äôve had this problem for a while: fresh nodejs and npm installation, I try to run &lt;code class=&quot;language-text&quot;&gt;npm install&lt;/code&gt; or &lt;code class=&quot;language-text&quot;&gt;npm install -g&lt;/code&gt; and get all kind of errors.&lt;/p&gt;
&lt;h2 id=&quot;errors-when-running-npm-install-without-the--g-flag&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#errors-when-running-npm-install-without-the--g-flag&quot; aria-label=&quot;errors when running npm install without the  g flag permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Errors when running &lt;code class=&quot;language-text&quot;&gt;npm install&lt;/code&gt; without the &lt;code class=&quot;language-text&quot;&gt;-g&lt;/code&gt; flag&lt;/h2&gt;
&lt;p&gt;When running without the &lt;code class=&quot;language-text&quot;&gt;-g&lt;/code&gt; flag, I usually get, among the others: &lt;code class=&quot;language-text&quot;&gt;Error: Attempt to unlock XXX, which hasn&apos;t been locked&lt;/code&gt;.&lt;/p&gt;
&lt;h2 id=&quot;errors-when-running-npm-install--g&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#errors-when-running-npm-install--g&quot; aria-label=&quot;errors when running npm install  g permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Errors when running &lt;code class=&quot;language-text&quot;&gt;npm install -g&lt;/code&gt;&lt;/h2&gt;
&lt;p&gt;When you run &lt;code class=&quot;language-text&quot;&gt;npm install&lt;/code&gt; with the &lt;code class=&quot;language-text&quot;&gt;-g&lt;/code&gt; option, you want to be able to run a specific executable (a .js file) from outside any project folder with a &lt;code class=&quot;language-text&quot;&gt;node_modules&lt;/code&gt; directory.&lt;br&gt;
In this case, you usually get another access error:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; ERR&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt; Error: EACCES, &lt;span class=&quot;token function&quot;&gt;mkdir&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;/usr/local/lib/node_modules/...&apos;&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; ERR&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;  &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;Error: EACCES, &lt;span class=&quot;token function&quot;&gt;mkdir&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;/usr/local/lib/node_modules/...&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; ERR&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;   errno: &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;,
&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; ERR&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;   code: &lt;span class=&quot;token string&quot;&gt;&apos;EACCES&apos;&lt;/span&gt;,
‚Ä¶
&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; ERR&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt; Please try running this &lt;span class=&quot;token builtin class-name&quot;&gt;command&lt;/span&gt; again as root/Administrator.&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;understand-what-happens-under-the-hood&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#understand-what-happens-under-the-hood&quot; aria-label=&quot;understand what happens under the hood permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Understand what happens under the hood&lt;/h2&gt;
&lt;p&gt;Let‚Äôs first have a look at what happens when you run these commands.&lt;/p&gt;
&lt;h3 id=&quot;what-happens-when-you-run-npm-install-without-the--g-flag&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#what-happens-when-you-run-npm-install-without-the--g-flag&quot; aria-label=&quot;what happens when you run npm install without the  g flag permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;What happens when you run &lt;code class=&quot;language-text&quot;&gt;npm install&lt;/code&gt; (without the &lt;code class=&quot;language-text&quot;&gt;-g&lt;/code&gt; flag)?&lt;/h3&gt;
&lt;p&gt;Example for the &lt;code class=&quot;language-text&quot;&gt;traceur&lt;/code&gt; compiler:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;$ &lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; traceur
&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;.
traceur@0.0.62 node_modules/traceur&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;npm&lt;/code&gt; creates a &lt;code class=&quot;language-text&quot;&gt;node_modules&lt;/code&gt; folder (if it does not exists) and install the package under that folder&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;As you can see, it is installed under &lt;code class=&quot;language-text&quot;&gt;node_modules/traceur&lt;/code&gt;.&lt;/p&gt;
&lt;h4 id=&quot;what-happens-when-you-run-npm-install--g&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#what-happens-when-you-run-npm-install--g&quot; aria-label=&quot;what happens when you run npm install  g permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;What happens when you run &lt;code class=&quot;language-text&quot;&gt;npm install -g&lt;/code&gt;?&lt;/h4&gt;
&lt;p&gt;Example for the &lt;code class=&quot;language-text&quot;&gt;traceur&lt;/code&gt; compiler:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;$ &lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; traceur &lt;span class=&quot;token parameter variable&quot;&gt;-g&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;..&lt;/span&gt;.
/usr/local/bin/traceur -&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; /usr/local/lib/node_modules/traceur/traceur&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;npm&lt;/code&gt; installs the package under &lt;code class=&quot;language-text&quot;&gt;/usr/local/lib/node_modules&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;a symbolic link is created from that folder to &lt;code class=&quot;language-text&quot;&gt;usr/local/bin/&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;the-easy-and-bad-solution&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#the-easy-and-bad-solution&quot; aria-label=&quot;the easy and bad solution permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;The easy and bad solution&lt;/h2&gt;
&lt;p&gt;In both cases, running &lt;code class=&quot;language-text&quot;&gt;sudo npm install&lt;/code&gt;, immediately fixes the problem.&lt;/p&gt;
&lt;h2 id=&quot;the-right-solution&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#the-right-solution&quot; aria-label=&quot;the right solution permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;The right solution&lt;/h2&gt;
&lt;p&gt;In &lt;strong&gt;no case&lt;/strong&gt; you should run &lt;code class=&quot;language-text&quot;&gt;npm&lt;/code&gt; with &lt;code class=&quot;language-text&quot;&gt;sudo&lt;/code&gt;.&lt;br&gt;
You can read the &lt;a href=&quot;http://foohack.com/2010/08/intro-to-npm/#what_no_sudo&quot;&gt;Intro to npm&lt;/a&gt; by Isaac Schlueter for a valid reason.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Packages can run arbitrary scripts, which makes sudoing a package manager command as safe as a chainsaw haircut&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;So, the short answer is: &lt;strong&gt;to avoid security issues&lt;/strong&gt;.&lt;/p&gt;
&lt;h3 id=&quot;the-source-of-the-problem&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#the-source-of-the-problem&quot; aria-label=&quot;the source of the problem permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;The source of the problem&lt;/h3&gt;
&lt;p&gt;What is happening when you get the error is that the user you are logged in with does not have the rights to run that command.&lt;br&gt;
This is usually because &lt;code class=&quot;language-text&quot;&gt;npm&lt;/code&gt; was installed by &lt;em&gt;root&lt;/em&gt; and so you are not the owner of that executable file.&lt;/p&gt;
&lt;h3 id=&quot;fix-your-usrlocal-folder&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#fix-your-usrlocal-folder&quot; aria-label=&quot;fix your usrlocal folder permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Fix your &lt;code class=&quot;language-text&quot;&gt;/usr/local&lt;/code&gt; folder&lt;/h3&gt;
&lt;p&gt;If you run &lt;code class=&quot;language-text&quot;&gt;which npm&lt;/code&gt; on your Mac, you should get:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;shell&quot;&gt;&lt;pre class=&quot;language-shell&quot;&gt;&lt;code class=&quot;language-shell&quot;&gt;$ &lt;span class=&quot;token function&quot;&gt;which&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt;
/usr/local/bin/npm&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The &lt;code class=&quot;language-text&quot;&gt;/usr/local&lt;/code&gt; folder is the folder where the user install his own stuff, so &lt;strong&gt;it belongs to the user&lt;/strong&gt;.&lt;br&gt;
To fix the problem: &lt;code class=&quot;language-text&quot;&gt;sudo chown -R $USER /usr/local&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Your &lt;code class=&quot;language-text&quot;&gt;npm&lt;/code&gt; will be back to you now.&lt;/p&gt;
&lt;h3 id=&quot;fix-your-npm-folder&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#fix-your-npm-folder&quot; aria-label=&quot;fix your npm folder permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Fix your &lt;code class=&quot;language-text&quot;&gt;~/.npm&lt;/code&gt; folder&lt;/h3&gt;
&lt;p&gt;Before considering it done, have a look at your home folder: you have a &lt;code class=&quot;language-text&quot;&gt;.npm&lt;/code&gt; folder in it.&lt;/p&gt;
&lt;p&gt;You have to make sure that the whole folder belongs to your user and to do that, issue: &lt;code class=&quot;language-text&quot;&gt;sudo chown -R $USER ~/.npm&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;The &lt;code class=&quot;language-text&quot;&gt;.npm&lt;/code&gt; folder is now yours and you‚Äôll be able to run &lt;code class=&quot;language-text&quot;&gt;npm install&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;npm install -g&lt;/code&gt; without &lt;code class=&quot;language-text&quot;&gt;sudo&lt;/code&gt;: enjoy.&lt;/p&gt;
&lt;h2 id=&quot;recap&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#recap&quot; aria-label=&quot;recap permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg height=&quot;20&quot; width=&quot;20&quot; viewBox=&quot;-32 0 512 512&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;path d=&quot;M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z&quot;/&gt;&lt;/svg&gt;&lt;/a&gt;Recap&lt;/h2&gt;
&lt;p&gt;When you get weird errors using &lt;code class=&quot;language-text&quot;&gt;npm install&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;npm install -g&lt;/code&gt; that are solved using these commands with &lt;code class=&quot;language-text&quot;&gt;sudo&lt;/code&gt;, have a look at the owner of your &lt;code class=&quot;language-text&quot;&gt;/usr/local&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;~/.npm&lt;/code&gt; folders: changing it to your user will solve the problems.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Sources:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://stackoverflow.com/questions/22152162/npm-cannot-install-dependencies-attempt-to-unlock-something-which-hasnt-been&quot;&gt;stackoverflow&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://foohack.com/2010/08/intro-to-npm/#what_no_sudo&quot;&gt;Intro to npm&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://aralbalkan.com/scribbles/npm-install-g-please-try-running-this-command-again-as-root-administrator/&quot;&gt;Aral Balkan‚Äôs blog&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item></channel></rss>